var j_=Object.defineProperty,S_=Object.defineProperties;var P_=Object.getOwnPropertyDescriptors;var Xy=Object.getOwnPropertySymbols;var A_=Object.prototype.hasOwnProperty,k_=Object.prototype.propertyIsEnumerable;var Vy=(v,h,c)=>h in v?j_(v,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[h]=c,$c=(v,h)=>{for(var c in h||(h={}))A_.call(h,c)&&Vy(v,c,h[c]);if(Xy)for(var c of Xy(h))k_.call(h,c)&&Vy(v,c,h[c]);return v},Yy=(v,h)=>S_(v,P_(h));var Ra=(v,h,c)=>new Promise((p,i)=>{var f=m=>{try{g(c.next(m))}catch(_){i(_)}},s=m=>{try{g(c.throw(m))}catch(_){i(_)}},g=m=>m.done?p(m.value):Promise.resolve(m.value).then(f,s);g((c=c.apply(v,h)).next())});import{K as M_,a4 as T_,a as Ov,b5 as D_,bj as N_,v as Ia,L as C_,i as sn,al as Jc,b_ as R_,av as os,ax as Cr,o as Dr,h as wi,F as Wy,aA as I_,n as Pi,z as Fa,B as L_,t as z_,q as La,k as Qc,ay as B_,j as is,f3 as F_,b as H_,bF as U_,f as G_,a7 as Ky,N as X_,m as V_,aE as Y_}from"./index.bd9f6489.js";import{D as W_}from"./index.ead911b9.js";import{B as K_,b as Z_}from"./index.d1dcc2bb.js";import{J as q_}from"./index.d0d8abeb.js";import{P as $_}from"./index.31e4d04d.js";import"./useWindowSizeFn.6e1ce129.js";import"./FullscreenOutlined.91a5fbf2.js";import"./index.74614e52.js";import"./index.3f036e75.js";import"./useSize.622adb41.js";import"./eagerComputed.919a558b.js";import"./useContentViewHeight.277415d3.js";import"./ArrowLeftOutlined.d12d1b3a.js";import"./index.2d4835a2.js";import"./transButton.48e18dfd.js";const _v=Symbol("flow-chart");function J_(v){T_(_v,v)}function Q_(){return M_(_v)}var Yt=(v=>(v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData",v))(Yt||{});const ew=Ov({name:"FlowChartToolbar",components:{Icon:D_,Divider:W_,Tooltip:N_},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:h}){const c=Ia([{type:Yt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Yt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Yt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Yt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Yt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Yt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Yt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:p}=Q_();function i({data:{undoAble:s,redoAble:g}}){const m=sn(c),_=m.findIndex(j=>j.type===Yt.UNDO),w=m.findIndex(j=>j.type===Yt.REDO);_!==-1&&(sn(c)[_].disabled=!s),w!==-1&&(sn(c)[w].disabled=!g)}const f=s=>{const g=sn(p);if(!!g)switch(s.type){case Yt.ZOOM_IN:g.zoom();break;case Yt.ZOOM_OUT:g.zoom(!0);break;case Yt.RESET_ZOOM:g.resetZoom();break;case Yt.UNDO:g.undo();break;case Yt.REDO:g.redo();break;case Yt.SNAPSHOT:g.getSnapshot();break;case Yt.VIEW_DATA:h("view-data");break}};return C_(()=>Ra(this,null,function*(){var s;sn(p)&&(yield Jc(),(s=sn(p))==null||s.on("history:change",i))})),R_(()=>{var s;(s=sn(p))==null||s.off("history:change",i)}),{toolbarItemList:c,onControl:f}}}),tw=["onClick"];function nw(v,h,c,p,i,f){const s=Cr("Icon"),g=Cr("Tooltip"),m=Cr("Divider");return Dr(),wi("div",{class:La([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Dr(!0),wi(Wy,null,I_(v.toolbarItemList,_=>(Dr(),wi(Wy,{key:_.type},[Pi(g,B_({placement:"bottom"},_.disabled?{visible:!1}:{}),{title:Fa(()=>[L_(z_(_.tooltip),1)]),default:Fa(()=>[_.icon?(Dr(),wi("span",{key:0,class:La(`${v.prefixCls}-toolbar__icon`),onClick:w=>v.onControl(_)},[Pi(s,{icon:_.icon,class:La(_.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,tw)):Qc("",!0)]),_:2},1040),_.separate?(Dr(),is(m,{key:0,type:"vertical"})):Qc("",!0)],64))),128))],2)}var rw=os(ew,[["render",nw]]),Ze={exports:{}};(function(v,h){(function(c,p){v.exports=p()})(window,function(){return function(c){var p={};function i(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=c,i.c=p,i.d=function(f,s,g){i.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:g})},i.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},i.t=function(f,s){if(1&s&&(f=i(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var m in f)i.d(g,m,function(_){return f[_]}.bind(null,m));return g},i.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return i.d(s,"a",s),s},i.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},i.p="",i(i.s=215)}([function(c,p,i){(function(f,s){i.d(p,"a",function(){return k}),i.d(p,"b",function(){return Uo}),i.d(p,"c",function(){return Pn}),i.d(p,"d",function(){return nt}),i.d(p,"e",function(){return Ue}),i.d(p,"f",function(){return Te}),i.d(p,"g",function(){return $e}),i.d(p,"h",function(){return Hr}),i.d(p,"i",function(){return Rt}),i.d(p,"j",function(){return Ve}),i.d(p,"k",function(){return Hn}),i.d(p,"l",function(){return Io}),i.d(p,"m",function(){return At}),i.d(p,"n",function(){return wr}),i.d(p,"o",function(){return Q}),i.d(p,"p",function(){return Gi}),i.d(p,"q",function(){return Un}),i.d(p,"r",function(){return Fi}),i.d(p,"s",function(){return xn}),i.d(p,"t",function(){return Rr}),i.d(p,"u",function(){return uo}),i.d(p,"v",function(){return ru}),i.d(p,"w",function(){return Ui}),i.d(p,"x",function(){return Lr}),i.d(p,"y",function(){return fn}),i.d(p,"z",function(){return tn}),i.d(p,"A",function(){return vn}),i.d(p,"B",function(){return Gn}),i.d(p,"C",function(){return qe}),i.d(p,"D",function(){return ou}),i.d(p,"E",function(){return _r}),i.d(p,"F",function(){return Or}),i.d(p,"G",function(){return eu}),i.d(p,"H",function(){return Di}),i.d(p,"I",function(){return Vi}),i.d(p,"J",function(){return On}),i.d(p,"K",function(){return ne}),i.d(p,"L",function(){return Ut}),i.d(p,"M",function(){return _n});var g=[];Object.freeze(g);var m={};function _(){return++Le.mobxGuid}function w(y){throw j(!1,y),"X"}function j(y,b){if(!y)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(m);function S(y){var b=!1;return function(){if(!b)return b=!0,y.apply(this,arguments)}}var P=function(){};function N(y){return y!==null&&typeof y=="object"}function R(y){if(y===null||typeof y!="object")return!1;var b=Object.getPrototypeOf(y);return b===Object.prototype||b===null}function F(y,b,E){Object.defineProperty(y,b,{enumerable:!1,writable:!0,configurable:!0,value:E})}function U(y,b){var E="isMobX"+y;return b.prototype[E]=!0,function(T){return N(T)&&T[E]===!0}}function B(y){return y instanceof Map}function Y(y){return y instanceof Set}function K(y){var b=new Set;for(var E in y)b.add(E);return Object.getOwnPropertySymbols(y).forEach(function(T){Object.getOwnPropertyDescriptor(y,T).enumerable&&b.add(T)}),Array.from(b)}function V(y){return y&&y.toString?y.toString():new String(y).toString()}function C(y){return y===null?null:typeof y=="object"?""+y:y}var z=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),L=function(){function y(b){b===void 0&&(b="Atom@"+_()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=q.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.reportObserved=function(){return Fn(this)},y.prototype.reportChanged=function(){hn(),function(b){b.lowestObserverState!==q.STALE&&(b.lowestObserverState=q.STALE,b.observers.forEach(function(E){E.dependenciesState===q.UP_TO_DATE&&(E.isTracing!==ze.NONE&&mr(E,b),E.onBecomeStale()),E.dependenciesState=q.STALE}))}(this),yn()},y.prototype.toString=function(){return this.name},y}(),H=U("Atom",L);function Q(y,b,E){b===void 0&&(b=P),E===void 0&&(E=P);var T,D=new L(y);return b!==P&&Ri("onBecomeObserved",D,b,T),E!==P&&_r(D,E),D}var Z={identity:function(y,b){return y===b},structural:function(y,b){return Vo(y,b)},default:function(y,b){return Object.is(y,b)},shallow:function(y,b){return Vo(y,b,1)}},ue=function(y,b){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var D in T)T.hasOwnProperty(D)&&(E[D]=T[D])})(y,b)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var be=function(){return(be=Object.assign||function(y){for(var b,E=1,T=arguments.length;E<T;E++)for(var D in b=arguments[E])Object.prototype.hasOwnProperty.call(b,D)&&(y[D]=b[D]);return y}).apply(this,arguments)};function me(y){var b=typeof Symbol=="function"&&y[Symbol.iterator],E=0;return b?b.call(y):{next:function(){return y&&E>=y.length&&(y=void 0),{value:y&&y[E++],done:!y}}}}function de(y,b){var E=typeof Symbol=="function"&&y[Symbol.iterator];if(!E)return y;var T,D,X=E.call(y),re=[];try{for(;(b===void 0||b-- >0)&&!(T=X.next()).done;)re.push(T.value)}catch(Oe){D={error:Oe}}finally{try{T&&!T.done&&(E=X.return)&&E.call(X)}finally{if(D)throw D.error}}return re}function he(){for(var y=[],b=0;b<arguments.length;b++)y=y.concat(de(arguments[b]));return y}var pe=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),_e={},xe={};function ke(y,b){var E=b?_e:xe;return E[y]||(E[y]={configurable:!0,enumerable:b,get:function(){return Re(this),this[y]},set:function(T){Re(this),this[y]=T}})}function Re(y){var b,E;if(y[pe]!==!0){var T=y[se];if(T){F(y,pe,!0);var D=he(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var X=me(D),re=X.next();!re.done;re=X.next()){var Oe=T[re.value];Oe.propertyCreator(y,Oe.prop,Oe.descriptor,Oe.decoratorTarget,Oe.decoratorArguments)}}catch(Ce){b={error:Ce}}finally{try{re&&!re.done&&(E=X.return)&&E.call(X)}finally{if(b)throw b.error}}}}}function Ge(y,b){return function(){var E,T=function(D,X,re,Oe){if(Oe===!0)return b(D,X,re,D,E),null;if(!Object.prototype.hasOwnProperty.call(D,se)){var Ce=D[se];F(D,se,be({},Ce))}return D[se][X]={prop:X,propertyCreator:b,descriptor:re,decoratorTarget:D,decoratorArguments:E},ke(X,y)};return Ae(arguments)?(E=g,T.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),T)}}function Ae(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Ye(y,b,E){return Lr(y)?y:Array.isArray(y)?qe.array(y,{name:E}):R(y)?qe.object(y,void 0,{name:E}):B(y)?qe.map(y,{name:E}):Y(y)?qe.set(y,{name:E}):y}function st(y){return y}function $(y){j(y);var b=Ge(!0,function(T,D,X,re,Oe){var Ce=X?X.initializer?X.initializer.call(T):X.value:void 0;Go(T).addObservableProp(D,Ce,y)}),E=(f!==void 0&&f.env,b);return E.enhancer=y,E}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ae(y){return y==null?J:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(J);var ve=$(Ye),Me=$(function(y,b,E){return y==null||vn(y)||fn(y)||tn(y)||Kt(y)?y:Array.isArray(y)?qe.array(y,{name:E,deep:!1}):R(y)?qe.object(y,void 0,{name:E,deep:!1}):B(y)?qe.map(y,{name:E,deep:!1}):Y(y)?qe.set(y,{name:E,deep:!1}):w(!1)}),we=$(st),We=$(function(y,b,E){return Vo(y,b)?b:y});function Xe(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?st:Ye}var et={box:function(y,b){arguments.length>2&&ye("box");var E=ae(b);return new Qt(y,Xe(E),E.name,!0,E.equals)},array:function(y,b){arguments.length>2&&ye("array");var E=ae(b);return Wi(y,Xe(E),E.name)},map:function(y,b){arguments.length>2&&ye("map");var E=ae(b);return new Uo(y,Xe(E),E.name)},set:function(y,b){arguments.length>2&&ye("set");var E=ae(b);return new ur(y,Xe(E),E.name)},object:function(y,b,E){typeof arguments[1]=="string"&&ye("object");var T=ae(E);if(T.proxy===!1)return Un({},y,b,T);var D=Ii(T),X=Un({},void 0,void 0,T),re=Br(X);return Li(re,y,b,D),re},ref:we,shallow:Me,deep:ve,struct:We},qe=function(y,b,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ve.apply(null,arguments);if(Lr(y))return y;var T=R(y)?qe.object(y,b,E):Array.isArray(y)?qe.array(y,b):B(y)?qe.map(y,b):Y(y)?qe.set(y,b):y;if(T!==y)return T;w(!1)};function ye(y){w("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(et).forEach(function(y){return qe[y]=et[y]});var q,ze,Fe=Ge(!1,function(y,b,E,T,D){var X=E.get,re=E.set,Oe=D[0]||{};Go(y).addComputedProp(y,b,be({get:X,set:re,context:y},Oe))}),Ke=Fe({equals:Z.structural}),At=function(y,b,E){if(typeof b=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return Fe.apply(null,arguments);var T=typeof b=="object"?b:{};return T.get=y,T.set=typeof b=="function"?b:T.set,T.name=T.name||y.name||"",new Bn(T)};At.struct=Ke,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(q||(q={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(ze||(ze={}));var at=function(y){this.cause=y};function lt(y){return y instanceof at}function yt(y){switch(y.dependenciesState){case q.UP_TO_DATE:return!1;case q.NOT_TRACKING:case q.STALE:return!0;case q.POSSIBLY_STALE:for(var b=Te(!0),E=je(),T=y.observing,D=T.length,X=0;X<D;X++){var re=T[X];if(or(re)){if(Le.disableErrorBoundaries)re.get();else try{re.get()}catch(Oe){return Se(E),Ue(b),!0}if(y.dependenciesState===q.STALE)return Se(E),Ue(b),!0}}return gt(y),Se(E),Ue(b),!1}}function Rt(){return Le.trackingDerivation!==null}function G(y){var b=y.observers.size>0;Le.computationDepth>0&&b&&w(!1),Le.allowStateChanges||!b&&Le.enforceActions!=="strict"||w(!1)}function te(y,b,E){var T=Te(!0);gt(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++Le.runId;var D,X=Le.trackingDerivation;if(Le.trackingDerivation=y,Le.disableErrorBoundaries===!0)D=b.call(E);else try{D=b.call(E)}catch(re){D=new at(re)}return Le.trackingDerivation=X,function(re){for(var Oe=re.observing,Ce=re.observing=re.newObserving,it=q.UP_TO_DATE,rt=0,Et=re.unboundDepsCount,bt=0;bt<Et;bt++)(vt=Ce[bt]).diffValue===0&&(vt.diffValue=1,rt!==bt&&(Ce[rt]=vt),rt++),vt.dependenciesState>it&&(it=vt.dependenciesState);for(Ce.length=rt,re.newObserving=null,Et=Oe.length;Et--;)(vt=Oe[Et]).diffValue===0&&ki(vt,re),vt.diffValue=0;for(;rt--;){var vt;(vt=Ce[rt]).diffValue===1&&(vt.diffValue=0,qa(vt,re))}it!==q.UP_TO_DATE&&(re.dependenciesState=it,re.onBecomeStale())}(y),Ue(T),D}function fe(y){var b=y.observing;y.observing=[];for(var E=b.length;E--;)ki(b[E],y);y.dependenciesState=q.NOT_TRACKING}function ne(y){var b=je();try{return y()}finally{Se(b)}}function je(){var y=Le.trackingDerivation;return Le.trackingDerivation=null,y}function Se(y){Le.trackingDerivation=y}function Te(y){var b=Le.allowStateReads;return Le.allowStateReads=y,b}function Ue(y){Le.allowStateReads=y}function gt(y){if(y.dependenciesState!==q.UP_TO_DATE){y.dependenciesState=q.UP_TO_DATE;for(var b=y.observing,E=b.length;E--;)b[E].lowestObserverState=q.UP_TO_DATE}}var wt=0,Wt=1,Jt=Object.getOwnPropertyDescriptor(function(){},"name");Jt&&Jt.configurable;function ut(y,b,E){var T=function(){return Ne(y,b,E||this,arguments)};return T.isMobxAction=!0,T}function Ne(y,b,E,T){var D=Ve();try{return b.apply(E,T)}catch(X){throw D.error=X,X}finally{$e(D)}}function Ve(y,b,E){var T=0,D=je();hn();var X={prevDerivation:D,prevAllowStateChanges:xt(!0),prevAllowStateReads:Te(!0),notifySpy:!1,startTime:T,actionId:Wt++,parentActionId:wt};return wt=X.actionId,X}function $e(y){wt!==y.actionId&&w("invalid action stack. did you forget to finish an action?"),wt=y.parentActionId,y.error!==void 0&&(Le.suppressReactionErrors=!0),Tt(y.prevAllowStateChanges),Ue(y.prevAllowStateReads),yn(),Se(y.prevDerivation),y.notifySpy,Le.suppressReactionErrors=!1}function nt(y,b){var E,T=xt(y);try{E=b()}finally{Tt(T)}return E}function xt(y){var b=Le.allowStateChanges;return Le.allowStateChanges=y,b}function Tt(y){Le.allowStateChanges=y}var Qt=function(y){function b(E,T,D,X,re){D===void 0&&(D="ObservableValue@"+_()),re===void 0&&(re=Z.default);var Oe=y.call(this,D)||this;return Oe.enhancer=T,Oe.name=D,Oe.equals=re,Oe.hasUnreportedChange=!1,Oe.value=T(E,void 0,D),Oe}return function(E,T){function D(){this.constructor=E}ue(E,T),E.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}(b,y),b.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},b.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Le.UNCHANGED&&this.setNewValue(E)},b.prototype.prepareNewValue=function(E){if(G(this),wn(this)){var T=ln(this,{object:this,type:"update",newValue:E});if(!T)return Le.UNCHANGED;E=T.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Le.UNCHANGED:E},b.prototype.setNewValue=function(E){var T=this.value;this.value=E,this.reportChanged(),ft(this)&&en(this,{type:"update",object:this,newValue:E,oldValue:T})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(E){return Xn(this,E)},b.prototype.observe=function(E,T){return T&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Fr(this,E)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return C(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(L),No=U("ObservableValue",Qt),Bn=function(){function y(b){this.dependenciesState=q.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=q.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+_(),this.value=new at(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ze.NONE,j(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+_(),b.set&&(this.setter=ut(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?Z.structural:Z.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return y.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===q.UP_TO_DATE&&(b.lowestObserverState=q.POSSIBLY_STALE,b.observers.forEach(function(E){E.dependenciesState===q.UP_TO_DATE&&(E.dependenciesState=q.POSSIBLY_STALE,E.isTracing!==ze.NONE&&mr(E,b),E.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},y.prototype.get=function(){this.isComputing&&w("Cycle detected in computation "+this.name+": "+this.derivation),Le.inBatch!==0||this.observers.size!==0||this.keepAlive?(Fn(this),yt(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==q.STALE&&(E.lowestObserverState=q.STALE,E.observers.forEach(function(T){T.dependenciesState===q.POSSIBLY_STALE?T.dependenciesState=q.STALE:T.dependenciesState===q.UP_TO_DATE&&(E.lowestObserverState=q.UP_TO_DATE)}))}(this)):yt(this)&&(this.warnAboutUntrackedRead(),hn(),this.value=this.computeValue(!1),yn());var b=this.value;if(lt(b))throw b.cause;return b},y.prototype.peek=function(){var b=this.computeValue(!1);if(lt(b))throw b.cause;return b},y.prototype.set=function(b){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else j(!1,!1)},y.prototype.trackAndCompute=function(){var b=this.value,E=this.dependenciesState===q.NOT_TRACKING,T=this.computeValue(!0),D=E||lt(b)||lt(T)||!this.equals(b,T);return D&&(this.value=T),D},y.prototype.computeValue=function(b){var E;if(this.isComputing=!0,Le.computationDepth++,b)E=te(this,this.derivation,this.scope);else if(Le.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(T){E=new at(T)}return Le.computationDepth--,this.isComputing=!1,E},y.prototype.suspend=function(){this.keepAlive||(fe(this),this.value=void 0)},y.prototype.observe=function(b,E){var T=this,D=!0,X=void 0;return Io(function(){var re=T.get();if(!D||E){var Oe=je();b({type:"update",object:T,newValue:re,oldValue:X}),Se(Oe)}D=!1,X=re})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return C(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),or=U("ComputedValue",Bn),oo=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Za={};function Sn(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:Za}var io=!0,Ai=!1,Le=function(){var y=Sn();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(io=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new oo().version&&(io=!1),io?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new oo):(setTimeout(function(){Ai||w("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new oo)}();function qa(y,b){y.observers.add(b),y.lowestObserverState>b.dependenciesState&&(y.lowestObserverState=b.dependenciesState)}function ki(y,b){y.observers.delete(b),y.observers.size===0&&Mi(y)}function Mi(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,Le.pendingUnobservations.push(y))}function hn(){Le.inBatch++}function yn(){if(--Le.inBatch==0){Ti();for(var y=Le.pendingUnobservations,b=0;b<y.length;b++){var E=y[b];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Bn&&E.suspend())}Le.pendingUnobservations=[]}}function Fn(y){var b=Le.trackingDerivation;return b!==null?(b.runId!==y.lastAccessedBy&&(y.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&Le.inBatch>0&&Mi(y),!1)}function mr(y,b){if(""+y.name+b.name,y.isTracing===ze.BREAK){var E=[];(function T(D,X,re){if(X.length>=1e3)return void X.push("(and many more)");X.push(""+new Array(re).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(Oe){return T(Oe,X,re+1)})})(Rr(y),E,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof Bn?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var Pn=function(){function y(b,E,T,D){b===void 0&&(b="Reaction@"+_()),D===void 0&&(D=!1),this.name=b,this.onInvalidate=E,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=q.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+_(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ze.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Le.pendingReactions.push(this),Ti())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(hn(),this._isScheduled=!1,yt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}yn()}},y.prototype.track=function(b){if(!this.isDisposed){hn(),this._isRunning=!0;var E=te(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&fe(this),lt(E)&&this.reportExceptionInDerivation(E.cause),yn()}},y.prototype.reportExceptionInDerivation=function(b){var E=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Le.disableErrorBoundaries)throw b;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Le.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,b),Le.globalReactionErrorHandlers.forEach(function(D){return D(b,E)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(hn(),fe(this),yn()))},y.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[k]=this,b},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];var D=!1;typeof E[E.length-1]=="boolean"&&(D=E.pop());var X=zo(E);if(!X)return w(!1);X.isTracing===ze.NONE&&""+X.name,X.isTracing=D?ze.BREAK:ze.LOG}(this,b)},y}(),Co=function(y){return y()};function Ti(){Le.inBatch>0||Le.isRunningReactions||Co($a)}function $a(){Le.isRunningReactions=!0;for(var y=Le.pendingReactions,b=0;y.length>0;){++b==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+y[0]),y.splice(0));for(var E=y.splice(0),T=0,D=E.length;T<D;T++)E[T].runReaction()}Le.isRunningReactions=!1}var ao=U("Reaction",Pn);function Ja(y){var b=Co;Co=function(E){return y(function(){return b(E)})}}function Di(y){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Qa(){w(!1)}function ir(y){return function(b,E,T){if(T){if(T.value)return{value:ut(y,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ut(y,D.call(this))}}}return Ni(y).apply(this,arguments)}}function Ni(y){return function(b,E,T){Object.defineProperty(b,E,{configurable:!0,enumerable:!1,get:function(){},set:function(D){F(this,E,Hn(y,D))}})}}var Hn=function(y,b,E,T){return arguments.length===1&&typeof y=="function"?ut(y.name||"<unnamed action>",y):arguments.length===2&&typeof b=="function"?ut(y,b):arguments.length===1&&typeof y=="string"?ir(y):T!==!0?ir(b).apply(null,arguments):void F(y,b,ut(y.name||b,E.value,this))};function eu(y,b){return Ne(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:b,this,void 0)}function uo(y){return typeof y=="function"&&y.isMobxAction===!0}function Ro(y,b,E){F(y,b,ut(b,E.bind(y)))}function Io(y,b){b===void 0&&(b=m);var E,T=b&&b.name||y.name||"Autorun@"+_();if(!b.scheduler&&!b.delay)E=new Pn(T,function(){this.track(re)},b.onError,b.requiresObservable);else{var D=Ci(b),X=!1;E=new Pn(T,function(){X||(X=!0,D(function(){X=!1,E.isDisposed||E.track(re)}))},b.onError,b.requiresObservable)}function re(){y(E)}return E.schedule(),E.getDisposer()}Hn.bound=function(y,b,E,T){return T===!0?(Ro(y,b,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Ro(this,b,E.value||E.initializer.call(this)),this[b]},set:Qa}:{enumerable:!1,configurable:!0,set:function(D){Ro(this,b,D)},get:function(){}}};var tu=function(y){return y()};function Ci(y){return y.scheduler?y.scheduler:y.delay?function(b){return setTimeout(b,y.delay)}:tu}function Or(y,b,E){E===void 0&&(E=m);var T,D,X,re=E.name||"Reaction@"+_(),Oe=Hn(re,E.onError?(T=E.onError,D=b,function(){try{return D.apply(this,arguments)}catch(jt){T.call(this,jt)}}):b),Ce=!E.scheduler&&!E.delay,it=Ci(E),rt=!0,Et=!1,bt=E.compareStructural?Z.structural:E.equals||Z.default,vt=new Pn(re,function(){rt||Ce?Pt():Et||(Et=!0,it(Pt))},E.onError,E.requiresObservable);function Pt(){if(Et=!1,!vt.isDisposed){var jt=!1;vt.track(function(){var mt=y(vt);jt=rt||!bt(X,mt),X=mt}),rt&&E.fireImmediately&&Oe(X,vt),rt||jt!==!0||Oe(X,vt),rt&&(rt=!1)}}return vt.schedule(),vt.getDisposer()}function _r(y,b,E){return Ri("onBecomeUnobserved",y,b,E)}function Ri(y,b,E,T){var D=typeof T=="function"?xn(b,E):xn(b),X=typeof T=="function"?T:E,re=y+"Listeners";return D[re]?D[re].add(X):D[re]=new Set([X]),typeof D[y]!="function"?w(!1):function(){var Oe=D[re];Oe&&(Oe.delete(X),Oe.size===0&&delete D[re])}}function wr(y){var b=y.enforceActions,E=y.computedRequiresReaction,T=y.computedConfigurable,D=y.disableErrorBoundaries,X=y.reactionScheduler,re=y.reactionRequiresObservable,Oe=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((Le.pendingReactions.length||Le.inBatch||Le.isRunningReactions)&&w("isolateGlobalState should be called before MobX is running any reactions"),Ai=!0,io&&(--Sn().__mobxInstanceCount==0&&(Sn().__mobxGlobals=void 0),Le=new oo)),b!==void 0){var Ce=void 0;switch(b){case!0:case"observed":Ce=!0;break;case!1:case"never":Ce=!1;break;case"strict":case"always":Ce="strict";break;default:w("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Le.enforceActions=Ce,Le.allowStateChanges=Ce!==!0&&Ce!=="strict"}E!==void 0&&(Le.computedRequiresReaction=!!E),re!==void 0&&(Le.reactionRequiresObservable=!!re),Oe!==void 0&&(Le.observableRequiresReaction=!!Oe,Le.allowStateReads=!Le.observableRequiresReaction),T!==void 0&&(Le.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Le.disableErrorBoundaries=!!D),X&&Ja(X)}function Un(y,b,E,T){var D=Ii(T=ae(T));return Re(y),Go(y,T.name,D.enhancer),b&&Li(y,b,E,D),y}function Ii(y){return y.defaultDecorator||(y.deep===!1?we:ve)}function Li(y,b,E,T){var D,X;hn();try{var re=z(b);try{for(var Oe=me(re),Ce=Oe.next();!Ce.done;Ce=Oe.next()){var it=Ce.value,rt=Object.getOwnPropertyDescriptor(b,it),Et=(E&&it in E?E[it]:rt.get?Fe:T)(y,it,rt,!0);Et&&Object.defineProperty(y,it,Et)}}catch(bt){D={error:bt}}finally{try{Ce&&!Ce.done&&(X=Oe.return)&&X.call(Oe)}finally{if(D)throw D.error}}}finally{yn()}}function Rr(y,b){return zi(xn(y,b))}function zi(y){var b,E,T={name:y.name};return y.observing&&y.observing.length>0&&(T.dependencies=(b=y.observing,E=[],b.forEach(function(D){E.indexOf(D)===-1&&E.push(D)}),E).map(zi)),T}var nu=0;function Bi(){this.message="FLOW_CANCELLED"}function Fi(y){arguments.length!==1&&w("Flow expects 1 argument and cannot be used as decorator");var b=y.name||"<unnamed flow>";return function(){var E,T=this,D=arguments,X=++nu,re=Hn(b+" - runid: "+X+" - init",y).apply(T,D),Oe=void 0,Ce=new Promise(function(it,rt){var Et=0;function bt(jt){var mt;Oe=void 0;try{mt=Hn(b+" - runid: "+X+" - yield "+Et++,re.next).call(re,jt)}catch(kn){return rt(kn)}Pt(mt)}function vt(jt){var mt;Oe=void 0;try{mt=Hn(b+" - runid: "+X+" - yield "+Et++,re.throw).call(re,jt)}catch(kn){return rt(kn)}Pt(mt)}function Pt(jt){if(!jt||typeof jt.then!="function")return jt.done?it(jt.value):(Oe=Promise.resolve(jt.value)).then(bt,vt);jt.then(Pt,rt)}E=rt,bt(void 0)});return Ce.cancel=Hn(b+" - runid: "+X+" - cancel",function(){try{Oe&&Ir(Oe);var it=re.return(void 0),rt=Promise.resolve(it.value);rt.then(P,P),Ir(rt),E(new Bi)}catch(Et){E(Et)}}),Ce}}function Ir(y){typeof y.cancel=="function"&&y.cancel()}function Hi(y,b){if(y==null)return!1;if(b!==void 0){if(vn(y)===!1||!y[k].values.has(b))return!1;var E=xn(y,b);return or(E)}return or(y)}function ru(y){return arguments.length>1?w(!1):Hi(y)}function Ui(y,b){return typeof b!="string"?w(!1):Hi(y,b)}function Lo(y,b){return y!=null&&(b!==void 0?!!vn(y)&&y[k].values.has(b):vn(y)||!!y[k]||H(y)||ao(y)||or(y))}function Lr(y){return arguments.length!==1&&w(!1),Lo(y)}function Gn(y){return vn(y)?y[k].getKeys():tn(y)||Kt(y)?Array.from(y.keys()):fn(y)?y.map(function(b,E){return E}):w(!1)}function Ut(y){return vn(y)?Gn(y).map(function(b){return y[b]}):tn(y)?Gn(y).map(function(b){return y.get(b)}):Kt(y)?Array.from(y.values()):fn(y)?y.slice():w(!1)}function Gi(y){return vn(y)?Gn(y).map(function(b){return[b,y[b]]}):tn(y)?Gn(y).map(function(b){return[b,y.get(b)]}):Kt(y)?Array.from(y.entries()):fn(y)?y.map(function(b,E){return[E,b]}):w(!1)}function ou(y,b,E,T){return typeof E=="function"?function(D,X,re,Oe){return Hr(D,X).observe(re,Oe)}(y,b,E,T):function(D,X,re){return Hr(D).observe(X,re)}(y,b,E)}Bi.prototype=Object.create(Error.prototype);var Xi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xr(y,b,E,T){return T.detectCycles&&y.set(b,E),E}function Vi(y,b){var E;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=Xi),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(E=new Map),function T(D,X,re){if(!X.recurseEverything&&!Lr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(No(D))return T(D.get(),X,re);if(Lr(D)&&Gn(D),X.detectCycles===!0&&D!==null&&re.has(D))return re.get(D);if(fn(D)||Array.isArray(D)){var Oe=xr(re,D,[],X),Ce=D.map(function(mt){return T(mt,X,re)});Oe.length=Ce.length;for(var it=0,rt=Ce.length;it<rt;it++)Oe[it]=Ce[it];return Oe}if(Kt(D)||Object.getPrototypeOf(D)===Set.prototype){if(X.exportMapsAsObjects===!1){var Et=xr(re,D,new Set,X);return D.forEach(function(mt){Et.add(T(mt,X,re))}),Et}var bt=xr(re,D,[],X);return D.forEach(function(mt){bt.push(T(mt,X,re))}),bt}if(tn(D)||Object.getPrototypeOf(D)===Map.prototype){if(X.exportMapsAsObjects===!1){var vt=xr(re,D,new Map,X);return D.forEach(function(mt,kn){vt.set(kn,T(mt,X,re))}),vt}var Pt=xr(re,D,{},X);return D.forEach(function(mt,kn){Pt[kn]=T(mt,X,re)}),Pt}var jt=xr(re,D,{},X);return K(D).forEach(function(mt){jt[mt]=T(D[mt],X,re)}),jt}(y,b,E)}function zo(y){switch(y.length){case 0:return Le.trackingDerivation;case 1:return xn(y[0]);case 2:return xn(y[0],y[1])}}function On(y,b){b===void 0&&(b=void 0),hn();try{return y.apply(b)}finally{yn()}}function _n(y,b,E){return arguments.length===1||b&&typeof b=="object"?Yi(y,b):Bo(y,b,E||{})}function Bo(y,b,E){var T;typeof E.timeout=="number"&&(T=setTimeout(function(){if(!X[k].isDisposed){X();var re=new Error("WHEN_TIMEOUT");if(!E.onError)throw re;E.onError(re)}},E.timeout)),E.name=E.name||"When@"+_();var D=ut(E.name+"-effect",b),X=Io(function(re){y()&&(re.dispose(),T&&clearTimeout(T),D())},E);return X}function Yi(y,b){var E,T=new Promise(function(D,X){var re=Bo(y,D,be(be({},b),{onError:X}));E=function(){re(),X("WHEN_CANCELLED")}});return T.cancel=E,T}function co(y){return y[k]}function so(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var zr={has:function(y,b){if(b===k||b==="constructor"||b===pe)return!0;var E=co(y);return so(b)?E.has(b):b in y},get:function(y,b){if(b===k||b==="constructor"||b===pe)return y[b];var E=co(y),T=E.values.get(b);if(T instanceof L){var D=T.get();return D===void 0&&E.has(b),D}return so(b)&&E.has(b),y[b]},set:function(y,b,E){return!!so(b)&&(function T(D,X,re){if(arguments.length!==2||Kt(D))if(vn(D)){var Oe=D[k],Ce=Oe.values.get(X);Ce?Oe.write(X,re):Oe.addObservableProp(X,re,Oe.defaultEnhancer)}else if(tn(D))D.set(X,re);else if(Kt(D))D.add(X);else{if(!fn(D))return w(!1);typeof X!="number"&&(X=parseInt(X,10)),j(X>=0,"Not a valid index: '"+X+"'"),hn(),X>=D.length&&(D.length=X+1),D[X]=re,yn()}else{hn();var it=X;try{for(var rt in it)T(D,rt,it[rt])}finally{yn()}}}(y,b,E),!0)},deleteProperty:function(y,b){return!!so(b)&&(co(y).remove(b),!0)},ownKeys:function(y){return co(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return w("Dynamic observable objects cannot be frozen"),!1}};function Br(y){var b=new Proxy(y,zr);return y[k].proxy=b,b}function wn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function Xn(y,b){var E=y.interceptors||(y.interceptors=[]);return E.push(b),S(function(){var T=E.indexOf(b);T!==-1&&E.splice(T,1)})}function ln(y,b){var E=je();try{for(var T=he(y.interceptors||[]),D=0,X=T.length;D<X&&(j(!(b=T[D](b))||b.type,"Intercept handlers should return nothing or a change object"),b);D++);return b}finally{Se(E)}}function ft(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function Fr(y,b){var E=y.changeListeners||(y.changeListeners=[]);return E.push(b),S(function(){var T=E.indexOf(b);T!==-1&&E.splice(T,1)})}function en(y,b){var E=je(),T=y.changeListeners;if(T){for(var D=0,X=(T=T.slice()).length;D<X;D++)T[D](b);Se(E)}}var Er={get:function(y,b){return b===k?y[k]:b==="length"?y[k].getArrayLength():typeof b=="number"?An.get.call(y,b):typeof b!="string"||isNaN(b)?An.hasOwnProperty(b)?An[b]:y[b]:An.get.call(y,parseInt(b))},set:function(y,b,E){return b==="length"&&y[k].setArrayLength(E),typeof b=="number"&&An.set.call(y,b,E),typeof b=="symbol"||isNaN(b)?y[b]=E:An.set.call(y,parseInt(b),E),!0},preventExtensions:function(y){return w("Observable arrays cannot be frozen"),!1}};function Wi(y,b,E,T){E===void 0&&(E="ObservableArray@"+_()),T===void 0&&(T=!1);var D,X,re,Oe=new lo(E,b,T);D=Oe.values,X=k,re=Oe,Object.defineProperty(D,X,{enumerable:!1,writable:!1,configurable:!0,value:re});var Ce=new Proxy(Oe.values,Er);if(Oe.proxy=Ce,y&&y.length){var it=xt(!0);Oe.spliceWithArray(0,0,y),Tt(it)}return Ce}var lo=function(){function y(b,E,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(b||"ObservableArray@"+_()),this.enhancer=function(D,X){return E(D,X,b+"[..]")}}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.observe=function(b,E){return E===void 0&&(E=!1),E&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Fr(this,b)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var E=this.values.length;if(b!==E)if(b>E){for(var T=new Array(b-E),D=0;D<b-E;D++)T[D]=void 0;this.spliceWithArray(E,0,T)}else this.spliceWithArray(b,E-b)},y.prototype.updateArrayLength=function(b,E){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},y.prototype.spliceWithArray=function(b,E,T){var D=this;G(this.atom);var X=this.values.length;if(b===void 0?b=0:b>X?b=X:b<0&&(b=Math.max(0,X+b)),E=arguments.length===1?X-b:E==null?0:Math.max(0,Math.min(E,X-b)),T===void 0&&(T=g),wn(this)){var re=ln(this,{object:this.proxy,type:"splice",index:b,removedCount:E,added:T});if(!re)return g;E=re.removedCount,T=re.added}T=T.length===0?T:T.map(function(Ce){return D.enhancer(Ce,void 0)});var Oe=this.spliceItemsIntoValues(b,E,T);return E===0&&T.length===0||this.notifyArraySplice(b,T,Oe),this.dehanceValues(Oe)},y.prototype.spliceItemsIntoValues=function(b,E,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,he([b,E],T));var X=this.values.slice(b,b+E);return this.values=this.values.slice(0,b).concat(T,this.values.slice(b+E)),X},y.prototype.notifyArrayChildUpdate=function(b,E,T){var D=!this.owned&&!1,X=ft(this),re=X||D?{object:this.proxy,type:"update",index:b,newValue:E,oldValue:T}:null;this.atom.reportChanged(),X&&en(this,re)},y.prototype.notifyArraySplice=function(b,E,T){var D=!this.owned&&!1,X=ft(this),re=X||D?{object:this.proxy,type:"splice",index:b,removed:T,added:E,removedCount:T.length,addedCount:E.length}:null;this.atom.reportChanged(),X&&en(this,re)},y}(),An={intercept:function(y){return this[k].intercept(y)},observe:function(y,b){return b===void 0&&(b=!1),this[k].observe(y,b)},clear:function(){return this.splice(0)},replace:function(y){var b=this[k];return b.spliceWithArray(0,b.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,b){for(var E=[],T=2;T<arguments.length;T++)E[T-2]=arguments[T];var D=this[k];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(y);case 2:return D.spliceWithArray(y,b)}return D.spliceWithArray(y,b,E)},spliceWithArray:function(y,b,E){return this[k].spliceWithArray(y,b,E)},push:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var E=this[k];return E.spliceWithArray(E.values.length,0,y),E.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var E=this[k];return E.spliceWithArray(0,0,y),E.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(y){var b=this[k],E=b.dehanceValues(b.values).indexOf(y);return E>-1&&(this.splice(E,1),!0)},get:function(y){var b=this[k];if(b){if(y<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[y]);console.warn("[mobx.array] Attempt to read an array index ("+y+") that is out of bounds ("+b.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(y,b){var E=this[k],T=E.values;if(y<T.length){G(E.atom);var D=T[y];if(wn(E)){var X=ln(E,{type:"update",object:E.proxy,index:y,newValue:b});if(!X)return;b=X.newValue}(b=E.enhancer(b,D))!==D&&(T[y]=b,E.notifyArrayChildUpdate(y,b,D))}else{if(y!==T.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+T.length);E.spliceWithArray(y,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(An[y]=function(){var b=this[k];b.atom.reportObserved();var E=b.dehanceValues(b.values);return E[y].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(An[y]=function(b,E){var T=this,D=this[k];return D.atom.reportObserved(),D.dehanceValues(D.values)[y](function(X,re){return b.call(E,X,re,T)},E)})}),["reduce","reduceRight"].forEach(function(y){An[y]=function(){var b=this,E=this[k];E.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,X,re){return X=E.dehanceValue(X),T(D,X,re,b)},E.values[y].apply(E.values,arguments)}});var Fo,iu=U("ObservableArrayAdministration",lo);function fn(y){return N(y)&&iu(y[k])}var Ho,au={},Uo=function(){function y(b,E,T){if(E===void 0&&(E=Ye),T===void 0&&(T="ObservableMap@"+_()),this.enhancer=E,this.name=T,this[Fo]=au,this._keysAtom=Q(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return y.prototype._has=function(b){return this._data.has(b)},y.prototype.has=function(b){var E=this;if(!Le.trackingDerivation)return this._has(b);var T=this._hasMap.get(b);if(!T){var D=T=new Qt(this._has(b),st,this.name+"."+V(b)+"?",!1);this._hasMap.set(b,D),_r(D,function(){return E._hasMap.delete(b)})}return T.get()},y.prototype.set=function(b,E){var T=this._has(b);if(wn(this)){var D=ln(this,{type:T?"update":"add",object:this,newValue:E,name:b});if(!D)return this;E=D.newValue}return T?this._updateValue(b,E):this._addValue(b,E),this},y.prototype.delete=function(b){var E=this;if(G(this._keysAtom),wn(this)&&!(D=ln(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var T=ft(this),D=T?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return On(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(b,!1),E._data.get(b).setNewValue(void 0),E._data.delete(b)}),T&&en(this,D),!0}return!1},y.prototype._updateHasMapEntry=function(b,E){var T=this._hasMap.get(b);T&&T.setNewValue(E)},y.prototype._updateValue=function(b,E){var T=this._data.get(b);if((E=T.prepareNewValue(E))!==Le.UNCHANGED){var D=ft(this),X=D?{type:"update",object:this,oldValue:T.value,name:b,newValue:E}:null;T.setNewValue(E),D&&en(this,X)}},y.prototype._addValue=function(b,E){var T=this;G(this._keysAtom),On(function(){var re=new Qt(E,T.enhancer,T.name+"."+V(b),!1);T._data.set(b,re),E=re.value,T._updateHasMapEntry(b,!0),T._keysAtom.reportChanged()});var D=ft(this),X=D?{type:"add",object:this,name:b,newValue:E}:null;D&&en(this,X)},y.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var b=this,E=this.keys();return Gr({next:function(){var T=E.next(),D=T.done,X=T.value;return{done:D,value:D?void 0:b.get(X)}}})},y.prototype.entries=function(){var b=this,E=this.keys();return Gr({next:function(){var T=E.next(),D=T.done,X=T.value;return{done:D,value:D?void 0:[X,b.get(X)]}}})},y.prototype[Fo=k,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(b,E){var T,D;try{for(var X=me(this),re=X.next();!re.done;re=X.next()){var Oe=de(re.value,2),Ce=Oe[0],it=Oe[1];b.call(E,it,Ce,this)}}catch(rt){T={error:rt}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(T)throw T.error}}},y.prototype.merge=function(b){var E=this;return tn(b)&&(b=b.toJS()),On(function(){var T=xt(!0);try{R(b)?K(b).forEach(function(D){return E.set(D,b[D])}):Array.isArray(b)?b.forEach(function(D){var X=de(D,2),re=X[0],Oe=X[1];return E.set(re,Oe)}):B(b)?(b.constructor!==Map&&w("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(D,X){return E.set(X,D)})):b!=null&&w("Cannot initialize map from "+b)}finally{Tt(T)}}),this},y.prototype.clear=function(){var b=this;On(function(){ne(function(){var E,T;try{for(var D=me(b.keys()),X=D.next();!X.done;X=D.next()){var re=X.value;b.delete(re)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(T=D.return)&&T.call(D)}finally{if(E)throw E.error}}})})},y.prototype.replace=function(b){var E=this;return On(function(){var T,D,X,re,Oe=function(nn){if(B(nn)||tn(nn))return nn;if(Array.isArray(nn))return new Map(nn);if(R(nn)){var qi=new Map;for(var Wo in nn)qi.set(Wo,nn[Wo]);return qi}return w("Cannot convert to map from '"+nn+"'")}(b),Ce=new Map,it=!1;try{for(var rt=me(E._data.keys()),Et=rt.next();!Et.done;Et=rt.next()){var bt=Et.value;if(!Oe.has(bt))if(E.delete(bt))it=!0;else{var vt=E._data.get(bt);Ce.set(bt,vt)}}}catch(nn){T={error:nn}}finally{try{Et&&!Et.done&&(D=rt.return)&&D.call(rt)}finally{if(T)throw T.error}}try{for(var Pt=me(Oe.entries()),jt=Pt.next();!jt.done;jt=Pt.next()){var mt=de(jt.value,2),kn=(bt=mt[0],vt=mt[1],E._data.has(bt));if(E.set(bt,vt),E._data.has(bt)){var cu=E._data.get(bt);Ce.set(bt,cu),kn||(it=!0)}}}catch(nn){X={error:nn}}finally{try{jt&&!jt.done&&(re=Pt.return)&&re.call(Pt)}finally{if(X)throw X.error}}if(!it)if(E._data.size!==Ce.size)E._keysAtom.reportChanged();else for(var Xr=E._data.keys(),jr=Ce.keys(),Vr=Xr.next(),Yo=jr.next();!Vr.done;){if(Vr.value!==Yo.value){E._keysAtom.reportChanged();break}Vr=Xr.next(),Yo=jr.next()}E._data=Ce}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var b,E,T={};try{for(var D=me(this),X=D.next();!X.done;X=D.next()){var re=de(X.value,2),Oe=re[0],Ce=re[1];T[typeof Oe=="symbol"?Oe:V(Oe)]=Ce}}catch(it){b={error:it}}finally{try{X&&!X.done&&(E=D.return)&&E.call(D)}finally{if(b)throw b.error}}return T},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return V(E)+": "+b.get(E)}).join(", ")+" }]"},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y}(),tn=U("ObservableMap",Uo),ar={},ur=function(){function y(b,E,T){if(E===void 0&&(E=Ye),T===void 0&&(T="ObservableSet@"+_()),this.name=T,this[Ho]=ar,this._data=new Set,this._atom=Q(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,X){return E(D,X,T)},b&&this.replace(b)}return y.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},y.prototype.clear=function(){var b=this;On(function(){ne(function(){var E,T;try{for(var D=me(b._data.values()),X=D.next();!X.done;X=D.next()){var re=X.value;b.delete(re)}}catch(Oe){E={error:Oe}}finally{try{X&&!X.done&&(T=D.return)&&T.call(D)}finally{if(E)throw E.error}}})})},y.prototype.forEach=function(b,E){var T,D;try{for(var X=me(this),re=X.next();!re.done;re=X.next()){var Oe=re.value;b.call(E,Oe,Oe,this)}}catch(Ce){T={error:Ce}}finally{try{re&&!re.done&&(D=X.return)&&D.call(X)}finally{if(T)throw T.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(b){var E=this;if(G(this._atom),wn(this)&&!(D=ln(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){On(function(){E._data.add(E.enhancer(b,void 0)),E._atom.reportChanged()});var T=ft(this),D=T?{type:"add",object:this,newValue:b}:null;T&&en(this,D)}return this},y.prototype.delete=function(b){var E=this;if(wn(this)&&!(D=ln(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var T=ft(this),D=T?{type:"delete",object:this,oldValue:b}:null;return On(function(){E._atom.reportChanged(),E._data.delete(b)}),T&&en(this,D),!0}return!1},y.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},y.prototype.entries=function(){var b=0,E=Array.from(this.keys()),T=Array.from(this.values());return Gr({next:function(){var D=b;return b+=1,D<T.length?{value:[E[D],T[D]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var b=this,E=0,T=Array.from(this._data.values());return Gr({next:function(){return E<T.length?{value:b.dehanceValue(T[E++]),done:!1}:{done:!0}}})},y.prototype.replace=function(b){var E=this;return Kt(b)&&(b=b.toJS()),On(function(){var T=xt(!0);try{Array.isArray(b)||Y(b)?(E.clear(),b.forEach(function(D){return E.add(D)})):b!=null&&w("Cannot initialize set from "+b)}finally{Tt(T)}}),this},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[Ho=k,Symbol.iterator]=function(){return this.values()},y}(),Kt=U("ObservableSet",ur),Ki=function(){function y(b,E,T,D){E===void 0&&(E=new Map),this.target=b,this.values=E,this.name=T,this.defaultEnhancer=D,this.keysAtom=new L(T+".keys")}return y.prototype.read=function(b){return this.values.get(b).get()},y.prototype.write=function(b,E){var T=this.target,D=this.values.get(b);if(D instanceof Bn)D.set(E);else{if(wn(this)){if(!(re=ln(this,{type:"update",object:this.proxy||T,name:b,newValue:E})))return;E=re.newValue}if((E=D.prepareNewValue(E))!==Le.UNCHANGED){var X=ft(this),re=X?{type:"update",object:this.proxy||T,oldValue:D.value,name:b,newValue:E}:null;D.setNewValue(E),X&&en(this,re)}}},y.prototype.has=function(b){var E=this.pendingKeys||(this.pendingKeys=new Map),T=E.get(b);if(T)return T.get();var D=!!this.values.get(b);return T=new Qt(D,st,this.name+"."+V(b)+"?",!1),E.set(b,T),T.get()},y.prototype.addObservableProp=function(b,E,T){T===void 0&&(T=this.defaultEnhancer);var D=this.target;if(wn(this)){var X=ln(this,{object:this.proxy||D,name:b,type:"add",newValue:E});if(!X)return;E=X.newValue}var re=new Qt(E,T,this.name+"."+V(b),!1);this.values.set(b,re),E=re.value,Object.defineProperty(D,b,function(Oe){return fo[Oe]||(fo[Oe]={configurable:!0,enumerable:!0,get:function(){return this[k].read(Oe)},set:function(Ce){this[k].write(Oe,Ce)}})}(b)),this.notifyPropertyAddition(b,E)},y.prototype.addComputedProp=function(b,E,T){var D,X,re,Oe=this.target;T.name=T.name||this.name+"."+V(E),this.values.set(E,new Bn(T)),(b===Oe||(D=b,X=E,!(re=Object.getOwnPropertyDescriptor(D,X))||re.configurable!==!1&&re.writable!==!1))&&Object.defineProperty(b,E,function(Ce){return po[Ce]||(po[Ce]={configurable:Le.computedConfigurable,enumerable:!1,get:function(){return ho(this).read(Ce)},set:function(it){ho(this).write(Ce,it)}})}(E))},y.prototype.remove=function(b){if(this.values.has(b)){var E=this.target;if(wn(this)&&!(Oe=ln(this,{object:this.proxy||E,name:b,type:"remove"})))return;try{hn();var T=ft(this),D=this.values.get(b),X=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var re=this.pendingKeys.get(b);re&&re.set(!1)}delete this.target[b];var Oe=T?{type:"remove",object:this.proxy||E,oldValue:X,name:b}:null;T&&en(this,Oe)}finally{yn()}}},y.prototype.illegalAccess=function(b,E){console.warn("Property '"+E+"' of '"+b+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},y.prototype.observe=function(b,E){return Fr(this,b)},y.prototype.intercept=function(b){return Xn(this,b)},y.prototype.notifyPropertyAddition=function(b,E){var T=ft(this),D=T?{type:"add",object:this.proxy||this.target,name:b,newValue:E}:null;if(T&&en(this,D),this.pendingKeys){var X=this.pendingKeys.get(b);X&&X.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var b,E;this.keysAtom.reportObserved();var T=[];try{for(var D=me(this.values),X=D.next();!X.done;X=D.next()){var re=de(X.value,2),Oe=re[0];re[1]instanceof Qt&&T.push(Oe)}}catch(Ce){b={error:Ce}}finally{try{X&&!X.done&&(E=D.return)&&E.call(D)}finally{if(b)throw b.error}}return T},y}();function Go(y,b,E){if(b===void 0&&(b=""),E===void 0&&(E=Ye),Object.prototype.hasOwnProperty.call(y,k))return y[k];R(y)||(b=(y.constructor.name||"ObservableObject")+"@"+_()),b||(b="ObservableObject@"+_());var T=new Ki(y,new Map,V(b),E);return F(y,k,T),T}var fo=Object.create(null),po=Object.create(null);function ho(y){var b=y[k];return b||(Re(y),y[k])}var Xo=U("ObservableObjectAdministration",Ki);function vn(y){return!!N(y)&&(Re(y),Xo(y[k]))}function xn(y,b){if(typeof y=="object"&&y!==null){if(fn(y))return b!==void 0&&w(!1),y[k].atom;if(Kt(y))return y[k];if(tn(y)){var E=y;return b===void 0?E._keysAtom:((T=E._data.get(b)||E._hasMap.get(b))||w(!1),T)}var T;if(Re(y),b&&!y[k]&&y[b],vn(y))return b?((T=y[k].values.get(b))||w(!1),T):w(!1);if(H(y)||or(y)||ao(y))return y}else if(typeof y=="function"&&ao(y[k]))return y[k];return w(!1)}function Hr(y,b){return y||w("Expecting some object"),b!==void 0?Hr(xn(y,b)):H(y)||or(y)||ao(y)||tn(y)||Kt(y)?y:(Re(y),y[k]?y[k]:void w(!1))}var Zi=Object.prototype.toString;function Vo(y,b,E){return E===void 0&&(E=-1),function T(D,X,re,Oe,Ce){if(D===X)return D!==0||1/D==1/X;if(D==null||X==null)return!1;if(D!=D)return X!=X;var it=typeof D;if(it!=="function"&&it!=="object"&&typeof X!="object")return!1;var rt=Zi.call(D);if(rt!==Zi.call(X))return!1;switch(rt){case"[object RegExp]":case"[object String]":return""+D==""+X;case"[object Number]":return+D!=+D?+X!=+X:+D==0?1/+D==1/X:+D==+X;case"[object Date]":case"[object Boolean]":return+D==+X;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(X);case"[object Map]":case"[object Set]":re>=0&&re++}D=Vn(D),X=Vn(X);var Et=rt==="[object Array]";if(!Et){if(typeof D!="object"||typeof X!="object")return!1;var bt=D.constructor,vt=X.constructor;if(bt!==vt&&!(typeof bt=="function"&&bt instanceof bt&&typeof vt=="function"&&vt instanceof vt)&&"constructor"in D&&"constructor"in X)return!1}if(re===0)return!1;re<0&&(re=-1),Ce=Ce||[];for(var Pt=(Oe=Oe||[]).length;Pt--;)if(Oe[Pt]===D)return Ce[Pt]===X;if(Oe.push(D),Ce.push(X),Et){if((Pt=D.length)!==X.length)return!1;for(;Pt--;)if(!T(D[Pt],X[Pt],re-1,Oe,Ce))return!1}else{var jt=Object.keys(D),mt=void 0;if(Pt=jt.length,Object.keys(X).length!==Pt)return!1;for(;Pt--;)if(mt=jt[Pt],!Ur(X,mt)||!T(D[mt],X[mt],re-1,Oe,Ce))return!1}return Oe.pop(),Ce.pop(),!0}(y,b,E)}function Vn(y){return fn(y)?y.slice():B(y)||tn(y)||Y(y)||Kt(y)?Array.from(y.entries()):y}function Ur(y,b){return Object.prototype.hasOwnProperty.call(y,b)}function Gr(y){return y[Symbol.iterator]=uu,y}function uu(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Di,extras:{getDebugName:function(y,b){return(b!==void 0?xn(y,b):vn(y)||tn(y)||Kt(y)?Hr(y):xn(y)).name}},$mobx:k})}).call(this,i(155),i(81))},function(c,p,i){i.d(p,"a",function(){return V}),i.d(p,"b",function(){return K}),i.d(p,"c",function(){return Ye}),i.d(p,"d",function(){return st}),i.d(p,"e",function(){return U}),i.d(p,"f",function(){return Y}),i.d(p,"g",function(){return U}),i.d(p,"h",function(){return Ae}),i.d(p,"i",function(){return s}),i.d(p,"j",function(){return Ge}),i.d(p,"k",function(){return Z});var f,s,g,m,_,w,j,S={},P=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R($,J){for(var ae in J)$[ae]=J[ae];return $}function F($){var J=$.parentNode;J&&J.removeChild($)}function U($,J,ae){var ve,Me,we,We={};for(we in J)we=="key"?ve=J[we]:we=="ref"?Me=J[we]:We[we]=J[we];if(arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ae),typeof $=="function"&&$.defaultProps!=null)for(we in $.defaultProps)We[we]===void 0&&(We[we]=$.defaultProps[we]);return B($,We,ve,Me,null)}function B($,J,ae,ve,Me){var we={type:$,props:J,key:ae,ref:ve,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Me==null?++g:Me};return Me==null&&s.vnode!=null&&s.vnode(we),we}function Y(){return{current:null}}function K($){return $.children}function V($,J){this.props=$,this.context=J}function C($,J){if(J==null)return $.__?C($.__,$.__.__k.indexOf($)+1):null;for(var ae;J<$.__k.length;J++)if((ae=$.__k[J])!=null&&ae.__e!=null)return ae.__e;return typeof $.type=="function"?C($):null}function z($){var J,ae;if(($=$.__)!=null&&$.__c!=null){for($.__e=$.__c.base=null,J=0;J<$.__k.length;J++)if((ae=$.__k[J])!=null&&ae.__e!=null){$.__e=$.__c.base=ae.__e;break}return z($)}}function k($){(!$.__d&&($.__d=!0)&&m.push($)&&!L.__r++||w!==s.debounceRendering)&&((w=s.debounceRendering)||_)(L)}function L(){for(var $;L.__r=m.length;)$=m.sort(function(J,ae){return J.__v.__b-ae.__v.__b}),m=[],$.some(function(J){var ae,ve,Me,we,We,Xe;J.__d&&(We=(we=(ae=J).__v).__e,(Xe=ae.__P)&&(ve=[],(Me=R({},we)).__v=we.__v+1,pe(Xe,we,Me,ae.__n,Xe.ownerSVGElement!==void 0,we.__h!=null?[We]:null,ve,We==null?C(we):We,we.__h),se(ve,we),we.__e!=We&&z(we)))})}function H($,J,ae,ve,Me,we,We,Xe,et,qe){var ye,q,ze,Fe,Ke,At,at,lt=ve&&ve.__k||P,yt=lt.length;for(ae.__k=[],ye=0;ye<J.length;ye++)if((Fe=ae.__k[ye]=(Fe=J[ye])==null||typeof Fe=="boolean"?null:typeof Fe=="string"||typeof Fe=="number"||typeof Fe=="bigint"?B(null,Fe,null,null,Fe):Array.isArray(Fe)?B(K,{children:Fe},null,null,null):Fe.__b>0?B(Fe.type,Fe.props,Fe.key,null,Fe.__v):Fe)!=null){if(Fe.__=ae,Fe.__b=ae.__b+1,(ze=lt[ye])===null||ze&&Fe.key==ze.key&&Fe.type===ze.type)lt[ye]=void 0;else for(q=0;q<yt;q++){if((ze=lt[q])&&Fe.key==ze.key&&Fe.type===ze.type){lt[q]=void 0;break}ze=null}pe($,Fe,ze=ze||S,Me,we,We,Xe,et,qe),Ke=Fe.__e,(q=Fe.ref)&&ze.ref!=q&&(at||(at=[]),ze.ref&&at.push(ze.ref,null,Fe),at.push(q,Fe.__c||Ke,Fe)),Ke!=null?(At==null&&(At=Ke),typeof Fe.type=="function"&&Fe.__k===ze.__k?Fe.__d=et=Q(Fe,et,$):et=ue($,Fe,ze,lt,Ke,et),typeof ae.type=="function"&&(ae.__d=et)):et&&ze.__e==et&&et.parentNode!=$&&(et=C(ze))}for(ae.__e=At,ye=yt;ye--;)lt[ye]!=null&&(typeof ae.type=="function"&&lt[ye].__e!=null&&lt[ye].__e==ae.__d&&(ae.__d=C(ve,ye+1)),ke(lt[ye],lt[ye]));if(at)for(ye=0;ye<at.length;ye++)xe(at[ye],at[++ye],at[++ye])}function Q($,J,ae){for(var ve,Me=$.__k,we=0;Me&&we<Me.length;we++)(ve=Me[we])&&(ve.__=$,J=typeof ve.type=="function"?Q(ve,J,ae):ue(ae,ve,ve,Me,ve.__e,J));return J}function Z($,J){return J=J||[],$==null||typeof $=="boolean"||(Array.isArray($)?$.some(function(ae){Z(ae,J)}):J.push($)),J}function ue($,J,ae,ve,Me,we){var We,Xe,et;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(ae==null||Me!=we||Me.parentNode==null)e:if(we==null||we.parentNode!==$)$.appendChild(Me),We=null;else{for(Xe=we,et=0;(Xe=Xe.nextSibling)&&et<ve.length;et+=2)if(Xe==Me)break e;$.insertBefore(Me,we),We=we}return We!==void 0?We:Me.nextSibling}function be($,J,ae){J[0]==="-"?$.setProperty(J,ae):$[J]=ae==null?"":typeof ae!="number"||N.test(J)?ae:ae+"px"}function me($,J,ae,ve,Me){var we;e:if(J==="style")if(typeof ae=="string")$.style.cssText=ae;else{if(typeof ve=="string"&&($.style.cssText=ve=""),ve)for(J in ve)ae&&J in ae||be($.style,J,"");if(ae)for(J in ae)ve&&ae[J]===ve[J]||be($.style,J,ae[J])}else if(J[0]==="o"&&J[1]==="n")we=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in $?J.toLowerCase().slice(2):J.slice(2),$.l||($.l={}),$.l[J+we]=ae,ae?ve||$.addEventListener(J,we?he:de,we):$.removeEventListener(J,we?he:de,we);else if(J!=="dangerouslySetInnerHTML"){if(Me)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in $)try{$[J]=ae==null?"":ae;break e}catch(We){}typeof ae=="function"||(ae!=null&&(ae!==!1||J[0]==="a"&&J[1]==="r")?$.setAttribute(J,ae):$.removeAttribute(J))}}function de($){this.l[$.type+!1](s.event?s.event($):$)}function he($){this.l[$.type+!0](s.event?s.event($):$)}function pe($,J,ae,ve,Me,we,We,Xe,et){var qe,ye,q,ze,Fe,Ke,At,at,lt,yt,Rt,G=J.type;if(J.constructor!==void 0)return null;ae.__h!=null&&(et=ae.__h,Xe=J.__e=ae.__e,J.__h=null,we=[Xe]),(qe=s.__b)&&qe(J);try{e:if(typeof G=="function"){if(at=J.props,lt=(qe=G.contextType)&&ve[qe.__c],yt=qe?lt?lt.props.value:qe.__:ve,ae.__c?At=(ye=J.__c=ae.__c).__=ye.__E:("prototype"in G&&G.prototype.render?J.__c=ye=new G(at,yt):(J.__c=ye=new V(at,yt),ye.constructor=G,ye.render=Re),lt&&lt.sub(ye),ye.props=at,ye.state||(ye.state={}),ye.context=yt,ye.__n=ve,q=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),G.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=R({},ye.__s)),R(ye.__s,G.getDerivedStateFromProps(at,ye.__s))),ze=ye.props,Fe=ye.state,q)G.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(G.getDerivedStateFromProps==null&&at!==ze&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(at,yt),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(at,ye.__s,yt)===!1||J.__v===ae.__v){ye.props=at,ye.state=ye.__s,J.__v!==ae.__v&&(ye.__d=!1),ye.__v=J,J.__e=ae.__e,J.__k=ae.__k,J.__k.forEach(function(te){te&&(te.__=J)}),ye.__h.length&&We.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(at,ye.__s,yt),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(ze,Fe,Ke)})}ye.context=yt,ye.props=at,ye.state=ye.__s,(qe=s.__r)&&qe(J),ye.__d=!1,ye.__v=J,ye.__P=$,qe=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(ve=R(R({},ve),ye.getChildContext())),q||ye.getSnapshotBeforeUpdate==null||(Ke=ye.getSnapshotBeforeUpdate(ze,Fe)),Rt=qe!=null&&qe.type===K&&qe.key==null?qe.props.children:qe,H($,Array.isArray(Rt)?Rt:[Rt],J,ae,ve,Me,we,We,Xe,et),ye.base=J.__e,J.__h=null,ye.__h.length&&We.push(ye),At&&(ye.__E=ye.__=null),ye.__e=!1}else we==null&&J.__v===ae.__v?(J.__k=ae.__k,J.__e=ae.__e):J.__e=_e(ae.__e,J,ae,ve,Me,we,We,et);(qe=s.diffed)&&qe(J)}catch(te){J.__v=null,(et||we!=null)&&(J.__e=Xe,J.__h=!!et,we[we.indexOf(Xe)]=null),s.__e(te,J,ae)}}function se($,J){s.__c&&s.__c(J,$),$.some(function(ae){try{$=ae.__h,ae.__h=[],$.some(function(ve){ve.call(ae)})}catch(ve){s.__e(ve,ae.__v)}})}function _e($,J,ae,ve,Me,we,We,Xe){var et,qe,ye,q=ae.props,ze=J.props,Fe=J.type,Ke=0;if(Fe==="svg"&&(Me=!0),we!=null){for(;Ke<we.length;Ke++)if((et=we[Ke])&&"setAttribute"in et==!!Fe&&(Fe?et.localName===Fe:et.nodeType===3)){$=et,we[Ke]=null;break}}if($==null){if(Fe===null)return document.createTextNode(ze);$=Me?document.createElementNS("http://www.w3.org/2000/svg",Fe):document.createElement(Fe,ze.is&&ze),we=null,Xe=!1}if(Fe===null)q===ze||Xe&&$.data===ze||($.data=ze);else{if(we=we&&f.call($.childNodes),qe=(q=ae.props||S).dangerouslySetInnerHTML,ye=ze.dangerouslySetInnerHTML,!Xe){if(we!=null)for(q={},Ke=0;Ke<$.attributes.length;Ke++)q[$.attributes[Ke].name]=$.attributes[Ke].value;(ye||qe)&&(ye&&(qe&&ye.__html==qe.__html||ye.__html===$.innerHTML)||($.innerHTML=ye&&ye.__html||""))}if(function(At,at,lt,yt,Rt){var G;for(G in lt)G==="children"||G==="key"||G in at||me(At,G,null,lt[G],yt);for(G in at)Rt&&typeof at[G]!="function"||G==="children"||G==="key"||G==="value"||G==="checked"||lt[G]===at[G]||me(At,G,at[G],lt[G],yt)}($,ze,q,Me,Xe),ye)J.__k=[];else if(Ke=J.props.children,H($,Array.isArray(Ke)?Ke:[Ke],J,ae,ve,Me&&Fe!=="foreignObject",we,We,we?we[0]:ae.__k&&C(ae,0),Xe),we!=null)for(Ke=we.length;Ke--;)we[Ke]!=null&&F(we[Ke]);Xe||("value"in ze&&(Ke=ze.value)!==void 0&&(Ke!==q.value||Ke!==$.value||Fe==="progress"&&!Ke)&&me($,"value",Ke,q.value,!1),"checked"in ze&&(Ke=ze.checked)!==void 0&&Ke!==$.checked&&me($,"checked",Ke,q.checked,!1))}return $}function xe($,J,ae){try{typeof $=="function"?$(J):$.current=J}catch(ve){s.__e(ve,ae)}}function ke($,J,ae){var ve,Me;if(s.unmount&&s.unmount($),(ve=$.ref)&&(ve.current&&ve.current!==$.__e||xe(ve,null,J)),(ve=$.__c)!=null){if(ve.componentWillUnmount)try{ve.componentWillUnmount()}catch(we){s.__e(we,J)}ve.base=ve.__P=null}if(ve=$.__k)for(Me=0;Me<ve.length;Me++)ve[Me]&&ke(ve[Me],J,typeof $.type!="function");ae||$.__e==null||F($.__e),$.__e=$.__d=void 0}function Re($,J,ae){return this.constructor($,ae)}function Ge($,J,ae){var ve,Me,we;s.__&&s.__($,J),Me=(ve=typeof ae=="function")?null:ae&&ae.__k||J.__k,we=[],pe(J,$=(!ve&&ae||J).__k=U(K,null,[$]),Me||S,S,J.ownerSVGElement!==void 0,!ve&&ae?[ae]:Me?null:J.firstChild?f.call(J.childNodes):null,we,!ve&&ae?ae:Me?Me.__e:J.firstChild,ve),se(we,$)}function Ae($,J){Ge($,J,Ae)}function Ye($,J,ae){var ve,Me,we,We=R({},$.props);for(we in J)we=="key"?ve=J[we]:we=="ref"?Me=J[we]:We[we]=J[we];return arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ae),B($.type,We,ve||$.key,Me||$.ref,null)}function st($,J){var ae={__c:J="__cC"+j++,__:$,Consumer:function(ve,Me){return ve.children(Me)},Provider:function(ve){var Me,we;return this.getChildContext||(Me=[],(we={})[J]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Me.some(k)},this.sub=function(We){Me.push(We);var Xe=We.componentWillUnmount;We.componentWillUnmount=function(){Me.splice(Me.indexOf(We),1),Xe&&Xe.call(We)}}),ve.children}};return ae.Provider.__=ae.Consumer.contextType=ae}f=P.slice,s={__e:function($,J){for(var ae,ve,Me;J=J.__;)if((ae=J.__c)&&!ae.__)try{if((ve=ae.constructor)&&ve.getDerivedStateFromError!=null&&(ae.setState(ve.getDerivedStateFromError($)),Me=ae.__d),ae.componentDidCatch!=null&&(ae.componentDidCatch($),Me=ae.__d),Me)return ae.__E=ae}catch(we){$=we}throw $}},g=0,V.prototype.setState=function($,J){var ae;ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof $=="function"&&($=$(R({},ae),this.props)),$&&R(ae,$),$!=null&&this.__v&&(J&&this.__h.push(J),k(this))},V.prototype.forceUpdate=function($){this.__v&&(this.__e=!0,$&&this.__h.push($),k(this))},V.prototype.render=K,m=[],_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,j=0},function(c,p,i){var f=i(116),s=i(44),g=i(177);f||s(Object.prototype,"toString",g,{unsafe:!0})},function(c,p,i){var f=i(39),s=i(82),g=i(70),m=i(56),_=i(111),w=m.set,j=m.getterFor("Array Iterator");c.exports=_(Array,"Array",function(S,P){w(this,{type:"Array Iterator",target:f(S),index:0,kind:P})},function(){var S=j(this),P=S.target,N=S.kind,R=S.index++;return!P||R>=P.length?(S.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),g.Arguments=g.Array,s("keys"),s("values"),s("entries")},function(c,p,i){var f=i(7),s=i(147),g=i(148),m=i(3),_=i(57),w=i(27),j=w("iterator"),S=w("toStringTag"),P=m.values,N=function(F,U){if(F){if(F[j]!==P)try{_(F,j,P)}catch(Y){F[j]=P}if(F[S]||_(F,S,U),s[U]){for(var B in m)if(F[B]!==m[B])try{_(F,B,m[B])}catch(Y){F[B]=m[B]}}}};for(var R in s)N(f[R]&&f[R].prototype,R);N(g,"DOMTokenList")},function(c,p,i){var f=i(16),s=i(7),g=i(46),m=i(76),_=i(35),w=i(15),j=i(64),S=i(36),P=i(109),N=i(18),R=i(34),F=i(98),U=i(28),B=i(33),Y=i(58),K=i(87),V=i(32),C=i(38),z=i(39),k=i(86),L=i(40),H=i(71),Q=i(54),Z=i(66),ue=i(72),be=i(139),me=i(112),de=i(51),he=i(37),pe=i(92),se=i(100),_e=i(44),xe=i(83),ke=i(90),Re=i(69),Ge=i(84),Ae=i(27),Ye=i(149),st=i(150),$=i(73),J=i(56),ae=i(74).forEach,ve=ke("hidden"),Me=Ae("toPrimitive"),we=J.set,We=J.getterFor("Symbol"),Xe=Object.prototype,et=s.Symbol,qe=et&&et.prototype,ye=s.TypeError,q=s.QObject,ze=g("JSON","stringify"),Fe=de.f,Ke=he.f,At=be.f,at=pe.f,lt=w([].push),yt=xe("symbols"),Rt=xe("op-symbols"),G=xe("string-to-symbol-registry"),te=xe("symbol-to-string-registry"),fe=xe("wks"),ne=!q||!q.prototype||!q.prototype.findChild,je=S&&N(function(){return Q(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!=7})?function(Ne,Ve,$e){var nt=Fe(Xe,Ve);nt&&delete Xe[Ve],Ke(Ne,Ve,$e),nt&&Ne!==Xe&&Ke(Xe,Ve,nt)}:Ke,Se=function(Ne,Ve){var $e=yt[Ne]=Q(qe);return we($e,{type:"Symbol",tag:Ne,description:Ve}),S||($e.description=Ve),$e},Te=function(Ne,Ve,$e){Ne===Xe&&Te(Rt,Ve,$e),V(Ne);var nt=k(Ve);return V($e),R(yt,nt)?($e.enumerable?(R(Ne,ve)&&Ne[ve][nt]&&(Ne[ve][nt]=!1),$e=Q($e,{enumerable:H(0,!1)})):(R(Ne,ve)||Ke(Ne,ve,H(1,{})),Ne[ve][nt]=!0),je(Ne,nt,$e)):Ke(Ne,nt,$e)},Ue=function(Ne,Ve){V(Ne);var $e=z(Ve),nt=Z($e).concat(Jt($e));return ae(nt,function(xt){S&&!_(gt,$e,xt)||Te(Ne,xt,$e[xt])}),Ne},gt=function(Ne){var Ve=k(Ne),$e=_(at,this,Ve);return!(this===Xe&&R(yt,Ve)&&!R(Rt,Ve))&&(!($e||!R(this,Ve)||!R(yt,Ve)||R(this,ve)&&this[ve][Ve])||$e)},wt=function(Ne,Ve){var $e=z(Ne),nt=k(Ve);if($e!==Xe||!R(yt,nt)||R(Rt,nt)){var xt=Fe($e,nt);return!xt||!R(yt,nt)||R($e,ve)&&$e[ve][nt]||(xt.enumerable=!0),xt}},Wt=function(Ne){var Ve=At(z(Ne)),$e=[];return ae(Ve,function(nt){R(yt,nt)||R(Re,nt)||lt($e,nt)}),$e},Jt=function(Ne){var Ve=Ne===Xe,$e=At(Ve?Rt:z(Ne)),nt=[];return ae($e,function(xt){!R(yt,xt)||Ve&&!R(Xe,xt)||lt(nt,yt[xt])}),nt};if(P||(_e(qe=(et=function(){if(Y(qe,this))throw ye("Symbol is not a constructor");var Ne=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ve=Ge(Ne),$e=function(nt){this===Xe&&_($e,Rt,nt),R(this,ve)&&R(this[ve],Ve)&&(this[ve][Ve]=!1),je(this,Ve,H(1,nt))};return S&&ne&&je(Xe,Ve,{configurable:!0,set:$e}),Se(Ve,Ne)}).prototype,"toString",function(){return We(this).tag}),_e(et,"withoutSetter",function(Ne){return Se(Ge(Ne),Ne)}),pe.f=gt,he.f=Te,de.f=wt,ue.f=be.f=Wt,me.f=Jt,Ye.f=function(Ne){return Se(Ae(Ne),Ne)},S&&(Ke(qe,"description",{configurable:!0,get:function(){return We(this).description}}),j||_e(Xe,"propertyIsEnumerable",gt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:et}),ae(Z(fe),function(Ne){st(Ne)}),f({target:"Symbol",stat:!0,forced:!P},{for:function(Ne){var Ve=L(Ne);if(R(G,Ve))return G[Ve];var $e=et(Ve);return G[Ve]=$e,te[$e]=Ve,$e},keyFor:function(Ne){if(!K(Ne))throw ye(Ne+" is not a symbol");if(R(te,Ne))return te[Ne]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),f({target:"Object",stat:!0,forced:!P,sham:!S},{create:function(Ne,Ve){return Ve===void 0?Q(Ne):Ue(Q(Ne),Ve)},defineProperty:Te,defineProperties:Ue,getOwnPropertyDescriptor:wt}),f({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:Wt,getOwnPropertySymbols:Jt}),f({target:"Object",stat:!0,forced:N(function(){me.f(1)})},{getOwnPropertySymbols:function(Ne){return me.f(C(Ne))}}),ze&&f({target:"JSON",stat:!0,forced:!P||N(function(){var Ne=et();return ze([Ne])!="[null]"||ze({a:Ne})!="{}"||ze(Object(Ne))!="{}"})},{stringify:function(Ne,Ve,$e){var nt=se(arguments),xt=Ve;if((B(Ve)||Ne!==void 0)&&!K(Ne))return F(Ve)||(Ve=function(Tt,Qt){if(U(xt)&&(Qt=_(xt,this,Tt,Qt)),!K(Qt))return Qt}),nt[1]=Ve,m(ze,null,nt)}}),!qe[Me]){var ut=qe.valueOf;_e(qe,Me,function(Ne){return _(ut,this)})}$(et,"Symbol"),Re[ve]=!0},function(c,p,i){var f=i(146).charAt,s=i(40),g=i(56),m=i(111),_=g.set,w=g.getterFor("String Iterator");m(String,"String",function(j){_(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=w(this),P=S.string,N=S.index;return N>=P.length?{value:void 0,done:!0}:(j=f(P,N),S.index+=j.length,{value:j,done:!1})})},function(c,p,i){(function(f){var s=function(g){return g&&g.Math==Math&&g};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,i(81))},function(c,p,i){var f=i(16),s=i(36),g=i(7),m=i(15),_=i(34),w=i(28),j=i(58),S=i(40),P=i(37).f,N=i(134),R=g.Symbol,F=R&&R.prototype;if(s&&w(R)&&(!("description"in F)||R().description!==void 0)){var U={},B=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),H=j(F,this)?new R(L):L===void 0?R():R(L);return L===""&&(U[H]=!0),H};N(B,R),B.prototype=F,F.constructor=B;var Y=String(R("test"))=="Symbol(test)",K=m(F.toString),V=m(F.valueOf),C=/^Symbol\((.*)\)[^)]+$/,z=m("".replace),k=m("".slice);P(F,"description",{configurable:!0,get:function(){var L=V(this),H=K(L);if(_(U,L))return"";var Q=Y?k(H,7,-1):z(H,C,"$1");return Q===""?void 0:Q}}),f({global:!0,forced:!0},{Symbol:B})}},function(c,p,i){i(150)("iterator")},function(c,p,i){i.d(p,"a",function(){return m.a}),i.d(p,"c",function(){return m.e}),i.d(p,"h",function(){return C}),i.d(p,"i",function(){return Y}),i.d(p,"j",function(){return U}),i.d(p,"b",function(){return de}),i.d(p,"e",function(){return _e}),i.d(p,"f",function(){return he}),i.d(p,"g",function(){return lt});var f,s,g,m=i(1),_=0,w=[],j=m.i.__b,S=m.i.__r,P=m.i.diffed,N=m.i.__c,R=m.i.unmount;function F(G,te){m.i.__h&&m.i.__h(s,G,_||te),_=0;var fe=s.__H||(s.__H={__:[],__h:[]});return G>=fe.__.length&&fe.__.push({}),fe.__[G]}function U(G){return _=1,B(ue,G)}function B(G,te,fe){var ne=F(f++,2);return ne.t=G,ne.__c||(ne.__=[fe?fe(te):ue(void 0,te),function(je){var Se=ne.t(ne.__[0],je);ne.__[0]!==Se&&(ne.__=[Se,ne.__[1]],ne.__c.setState({}))}],ne.__c=s),ne.__}function Y(G,te){var fe=F(f++,3);!m.i.__s&&Z(fe.__H,te)&&(fe.__=G,fe.__H=te,s.__H.__h.push(fe))}function K(G,te){var fe=F(f++,4);!m.i.__s&&Z(fe.__H,te)&&(fe.__=G,fe.__H=te,s.__h.push(fe))}function V(G,te){var fe=F(f++,7);return Z(fe.__H,te)&&(fe.__=G(),fe.__H=te,fe.__h=G),fe.__}function C(G,te){return _=8,V(function(){return G},te)}function z(){var G;for(w.sort(function(te,fe){return te.__v.__b-fe.__v.__b});G=w.pop();)if(G.__P)try{G.__H.__h.forEach(H),G.__H.__h.forEach(Q),G.__H.__h=[]}catch(te){G.__H.__h=[],m.i.__e(te,G.__v)}}m.i.__b=function(G){s=null,j&&j(G)},m.i.__r=function(G){S&&S(G),f=0;var te=(s=G.__c).__H;te&&(te.__h.forEach(H),te.__h.forEach(Q),te.__h=[])},m.i.diffed=function(G){P&&P(G);var te=G.__c;te&&te.__H&&te.__H.__h.length&&(w.push(te)!==1&&g===m.i.requestAnimationFrame||((g=m.i.requestAnimationFrame)||L)(z)),s=null},m.i.__c=function(G,te){te.some(function(fe){try{fe.__h.forEach(H),fe.__h=fe.__h.filter(function(ne){return!ne.__||Q(ne)})}catch(ne){te.some(function(je){je.__h&&(je.__h=[])}),te=[],m.i.__e(ne,fe.__v)}}),N&&N(G,te)},m.i.unmount=function(G){R&&R(G);var te,fe=G.__c;fe&&fe.__H&&(fe.__H.__.forEach(function(ne){try{H(ne)}catch(je){te=je}}),te&&m.i.__e(te,fe.__v))};var k=typeof requestAnimationFrame=="function";function L(G){var te,fe=function(){clearTimeout(ne),k&&cancelAnimationFrame(te),setTimeout(G)},ne=setTimeout(fe,100);k&&(te=requestAnimationFrame(fe))}function H(G){var te=s,fe=G.__c;typeof fe=="function"&&(G.__c=void 0,fe()),s=te}function Q(G){var te=s;G.__c=G.__(),s=te}function Z(G,te){return!G||G.length!==te.length||te.some(function(fe,ne){return fe!==G[ne]})}function ue(G,te){return typeof te=="function"?te(G):te}function be(G,te){for(var fe in te)G[fe]=te[fe];return G}function me(G,te){for(var fe in G)if(fe!=="__source"&&!(fe in te))return!0;for(var ne in te)if(ne!=="__source"&&G[ne]!==te[ne])return!0;return!1}function de(G){this.props=G}function he(G,te){function fe(je){var Se=this.props.ref,Te=Se==je.ref;return!Te&&Se&&(Se.call?Se(null):Se.current=null),te?!te(this.props,je)||!Te:me(this.props,je)}function ne(je){return this.shouldComponentUpdate=fe,Object(m.e)(G,je)}return ne.displayName="Memo("+(G.displayName||G.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(de.prototype=new m.a).isPureReactComponent=!0,de.prototype.shouldComponentUpdate=function(G,te){return me(this.props,G)||me(this.state,te)};var pe=m.i.__b;m.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),pe&&pe(G)};var se=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function _e(G){function te(fe,ne){var je=be({},fe);return delete je.ref,G(je,!(ne=fe.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return te.$$typeof=se,te.render=te,te.prototype.isReactComponent=te.__f=!0,te.displayName="ForwardRef("+(G.displayName||G.name)+")",te}var xe=function(G,te){return G==null?null:Object(m.k)(Object(m.k)(G).map(te))},ke={map:xe,forEach:xe,count:function(G){return G?Object(m.k)(G).length:0},only:function(G){var te=Object(m.k)(G);if(te.length!==1)throw"Children.only";return te[0]},toArray:m.k},Re=m.i.__e;m.i.__e=function(G,te,fe){if(G.then){for(var ne,je=te;je=je.__;)if((ne=je.__c)&&ne.__c)return te.__e==null&&(te.__e=fe.__e,te.__k=fe.__k),ne.__c(G,te)}Re(G,te,fe)};var Ge=m.i.unmount;function Ae(){this.__u=0,this.t=null,this.__b=null}function Ye(G){var te=G.__.__c;return te&&te.__e&&te.__e(G)}function st(){this.u=null,this.o=null}m.i.unmount=function(G){var te=G.__c;te&&te.__R&&te.__R(),te&&G.__h===!0&&(G.type=null),Ge&&Ge(G)},(Ae.prototype=new m.a).__c=function(G,te){var fe=te.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(fe);var je=Ye(ne.__v),Se=!1,Te=function(){Se||(Se=!0,fe.__R=null,je?je(Ue):Ue())};fe.__R=Te;var Ue=function(){if(!--ne.__u){if(ne.state.__e){var wt=ne.state.__e;ne.__v.__k[0]=function Jt(ut,Ne,Ve){return ut&&(ut.__v=null,ut.__k=ut.__k&&ut.__k.map(function($e){return Jt($e,Ne,Ve)}),ut.__c&&ut.__c.__P===Ne&&(ut.__e&&Ve.insertBefore(ut.__e,ut.__d),ut.__c.__e=!0,ut.__c.__P=Ve)),ut}(wt,wt.__c.__P,wt.__c.__O)}var Wt;for(ne.setState({__e:ne.__b=null});Wt=ne.t.pop();)Wt.forceUpdate()}},gt=te.__h===!0;ne.__u++||gt||ne.setState({__e:ne.__b=ne.__v.__k[0]}),G.then(Te,Te)},Ae.prototype.componentWillUnmount=function(){this.t=[]},Ae.prototype.render=function(G,te){if(this.__b){if(this.__v.__k){var fe=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=function Se(Te,Ue,gt){return Te&&(Te.__c&&Te.__c.__H&&(Te.__c.__H.__.forEach(function(wt){typeof wt.__c=="function"&&wt.__c()}),Te.__c.__H=null),(Te=be({},Te)).__c!=null&&(Te.__c.__P===gt&&(Te.__c.__P=Ue),Te.__c=null),Te.__k=Te.__k&&Te.__k.map(function(wt){return Se(wt,Ue,gt)})),Te}(this.__b,fe,ne.__O=ne.__P)}this.__b=null}var je=te.__e&&Object(m.e)(m.b,null,G.fallback);return je&&(je.__h=null),[Object(m.e)(m.b,null,te.__e?null:G.children),je]};var $=function(G,te,fe){if(++fe[1]===fe[0]&&G.o.delete(te),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(fe=G.u;fe;){for(;fe.length>3;)fe.pop()();if(fe[1]<fe[0])break;G.u=fe=fe[2]}};function J(G){return this.getChildContext=function(){return G.context},G.children}function ae(G){var te=this,fe=G.i;te.componentWillUnmount=function(){Object(m.j)(null,te.l),te.l=null,te.i=null},te.i&&te.i!==fe&&te.componentWillUnmount(),G.__v?(te.l||(te.i=fe,te.l={nodeType:1,parentNode:fe,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),te.i.appendChild(ne)},insertBefore:function(ne,je){this.childNodes.push(ne),te.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),te.i.removeChild(ne)}}),Object(m.j)(Object(m.e)(J,{context:te.context},G.__v),te.l)):te.l&&te.componentWillUnmount()}(st.prototype=new m.a).__e=function(G){var te=this,fe=Ye(te.__v),ne=te.o.get(G);return ne[0]++,function(je){var Se=function(){te.props.revealOrder?(ne.push(je),$(te,G,ne)):je()};fe?fe(Se):Se()}},st.prototype.render=function(G){this.u=null,this.o=new Map;var te=Object(m.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&te.reverse();for(var fe=te.length;fe--;)this.o.set(te[fe],this.u=[1,0,this.u]);return G.children},st.prototype.componentDidUpdate=st.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(te,fe){$(G,fe,te)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Me=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",We=function(G){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};m.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(m.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(te){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:te})}})});var Xe=m.i.event;function et(){}function qe(){return this.cancelBubble}function ye(){return this.defaultPrevented}m.i.event=function(G){return Xe&&(G=Xe(G)),G.persist=et,G.isPropagationStopped=qe,G.isDefaultPrevented=ye,G.nativeEvent=G};var q,ze={configurable:!0,get:function(){return this.class}},Fe=m.i.vnode;m.i.vnode=function(G){var te=G.type,fe=G.props,ne=fe;if(typeof te=="string"){var je=te.indexOf("-")===-1;for(var Se in ne={},fe){var Te=fe[Se];we&&Se==="children"&&te==="noscript"||Se==="value"&&"defaultValue"in fe&&Te==null||(Se==="defaultValue"&&"value"in fe&&fe.value==null?Se="value":Se==="download"&&Te===!0?Te="":/ondoubleclick/i.test(Se)?Se="ondblclick":/^onchange(textarea|input)/i.test(Se+te)&&!We(fe.type)?Se="oninput":/^onfocus$/i.test(Se)?Se="onfocusin":/^onblur$/i.test(Se)?Se="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Se)?Se=Se.toLowerCase():je&&Me.test(Se)?Se=Se.replace(/[A-Z0-9]/,"-$&").toLowerCase():Te===null&&(Te=void 0),ne[Se]=Te)}te=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(m.k)(fe.children).forEach(function(Ue){Ue.props.selected=ne.value.indexOf(Ue.props.value)!=-1})),te=="select"&&ne.defaultValue!=null&&(ne.value=Object(m.k)(fe.children).forEach(function(Ue){Ue.props.selected=ne.multiple?ne.defaultValue.indexOf(Ue.props.value)!=-1:ne.defaultValue==Ue.props.value})),G.props=ne,fe.class!=fe.className&&(ze.enumerable="className"in fe,fe.className!=null&&(ne.class=fe.className),Object.defineProperty(ne,"className",ze))}G.$$typeof=ve,Fe&&Fe(G)};var Ke=m.i.__r;m.i.__r=function(G){Ke&&Ke(G),q=G.__c};var At={ReactCurrentDispatcher:{current:{readContext:function(G){return q.__n[G.__c].props.value}}}};function at(G){return!!G&&G.$$typeof===ve}var lt=function(G,te){return G(te)},yt=m.b,Rt={useState:U,useReducer:B,useEffect:Y,useLayoutEffect:K,useRef:function(G){return _=5,V(function(){return{current:G}},[])},useImperativeHandle:function(G,te,fe){_=6,K(function(){typeof G=="function"?G(te()):G&&(G.current=te())},fe==null?fe:fe.concat(G))},useMemo:V,useCallback:C,useContext:function(G){var te=s.context[G.__c],fe=F(f++,9);return fe.c=G,te?(fe.__==null&&(fe.__=!0,te.sub(s)),te.props.value):G.__},useDebugValue:function(G,te){m.i.useDebugValue&&m.i.useDebugValue(te?te(G):G)},version:"17.0.2",Children:ke,render:function(G,te,fe){return te.__k==null&&(te.textContent=""),Object(m.j)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},hydrate:function(G,te,fe){return Object(m.h)(G,te),typeof fe=="function"&&fe(),G?G.__c:null},unmountComponentAtNode:function(G){return!!G.__k&&(Object(m.j)(null,G),!0)},createPortal:function(G,te){return Object(m.e)(ae,{__v:G,i:te})},createElement:m.e,createContext:m.d,createFactory:function(G){return m.e.bind(null,G)},cloneElement:function(G){return at(G)?m.c.apply(null,arguments):G},createRef:m.f,Fragment:m.b,isValidElement:at,findDOMNode:function(G){return G&&(G.base||G.nodeType===1&&G)||null},Component:m.a,PureComponent:de,memo:he,forwardRef:_e,flushSync:function(G,te){return G(te)},unstable_batchedUpdates:lt,StrictMode:yt,Suspense:Ae,SuspenseList:st,lazy:function(G){var te,fe,ne;function je(Se){if(te||(te=G()).then(function(Te){fe=Te.default||Te},function(Te){ne=Te}),ne)throw ne;if(!fe)throw te;return Object(m.e)(fe,Se)}return je.displayName="Lazy",je.__f=!0,je},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:At};p.d=Rt},function(c,p,i){var f=i(7),s=i(147),g=i(148),m=i(178),_=i(57),w=function(S){if(S&&S.forEach!==m)try{_(S,"forEach",m)}catch(P){S.forEach=m}};for(var j in s)s[j]&&w(f[j]&&f[j].prototype);w(g)},function(c,p,i){i(16)({target:"Object",stat:!0},{setPrototypeOf:i(96)})},function(c,p,i){var f=i(16),s=i(18),g=i(38),m=i(95),_=i(137);f({target:"Object",stat:!0,forced:s(function(){m(1)}),sham:!_},{getPrototypeOf:function(w){return m(g(w))}})},function(c,p,i){var f=i(16),s=i(46),g=i(76),m=i(198),_=i(157),w=i(32),j=i(33),S=i(54),P=i(18),N=s("Reflect","construct"),R=Object.prototype,F=[].push,U=P(function(){function K(){}return!(N(function(){},[],K)instanceof K)}),B=!P(function(){N(function(){})}),Y=U||B;f({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(K,V){_(K),w(V);var C=arguments.length<3?K:_(arguments[2]);if(B&&!U)return N(K,V,C);if(K==C){switch(V.length){case 0:return new K;case 1:return new K(V[0]);case 2:return new K(V[0],V[1]);case 3:return new K(V[0],V[1],V[2]);case 4:return new K(V[0],V[1],V[2],V[3])}var z=[null];return g(F,z,V),new(g(m,K,z))}var k=C.prototype,L=S(j(k)?k:R),H=g(K,L,V);return j(H)?H:L}})},function(c,p){var i=Function.prototype,f=i.bind,s=i.call,g=f&&f.bind(s);c.exports=f?function(m){return m&&g(s,m)}:function(m){return m&&function(){return s.apply(m,arguments)}}},function(c,p,i){var f=i(7),s=i(51).f,g=i(57),m=i(44),_=i(108),w=i(134),j=i(94);c.exports=function(S,P){var N,R,F,U,B,Y=S.target,K=S.global,V=S.stat;if(N=K?f:V?f[Y]||_(Y,{}):(f[Y]||{}).prototype)for(R in P){if(U=P[R],F=S.noTargetGet?(B=s(N,R))&&B.value:N[R],!j(K?R:Y+(V?".":"#")+R,S.forced)&&F!==void 0){if(typeof U==typeof F)continue;w(U,F)}(S.sham||F&&F.sham)&&g(U,"sham",!0),m(N,R,U,S)}}},function(c,p,i){var f=i(16),s=i(7),g=i(98),m=i(99),_=i(33),w=i(67),j=i(43),S=i(39),P=i(61),N=i(27),R=i(75),F=i(100),U=R("slice"),B=N("species"),Y=s.Array,K=Math.max;f({target:"Array",proto:!0,forced:!U},{slice:function(V,C){var z,k,L,H=S(this),Q=j(H),Z=w(V,Q),ue=w(C===void 0?Q:C,Q);if(g(H)&&(z=H.constructor,(m(z)&&(z===Y||g(z.prototype))||_(z)&&(z=z[B])===null)&&(z=void 0),z===Y||z===void 0))return F(H,Z,ue);for(k=new(z===void 0?Y:z)(K(ue-Z,0)),L=0;Z<ue;Z++,L++)Z in H&&P(k,L,H[Z]);return k.length=L,k}})},function(c,p){c.exports=function(i){try{return!!i()}catch(f){return!0}}},function(c,p,i){var f=i(16),s=i(101);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p,i){var f=i(16),s=i(38),g=i(66);f({target:"Object",stat:!0,forced:i(18)(function(){g(1)})},{keys:function(m){return g(s(m))}})},function(c,p,i){var f=i(16),s=i(18),g=i(39),m=i(51).f,_=i(36),w=s(function(){m(1)});f({target:"Object",stat:!0,forced:!_||w,sham:!_},{getOwnPropertyDescriptor:function(j,S){return m(g(j),S)}})},function(c,p,i){var f=i(16),s=i(74).filter;f({target:"Array",proto:!0,forced:!i(75)("filter")},{filter:function(g){return s(this,g,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(16),s=i(36),g=i(135),m=i(39),_=i(51),w=i(61);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,P,N=m(j),R=_.f,F=g(N),U={},B=0;F.length>B;)(P=R(N,S=F[B++]))!==void 0&&w(U,S,P);return U}})},function(c,p,i){var f=i(36),s=i(93).EXISTS,g=i(15),m=i(37).f,_=Function.prototype,w=g(_.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=g(j.exec);f&&!s&&m(_,"name",{configurable:!0,get:function(){try{return S(j,w(this))[1]}catch(P){return""}}})},function(c,p,i){var f=i(16),s=i(181);f({target:"Array",stat:!0,forced:!i(118)(function(g){Array.from(g)})},{from:s})},,function(c,p,i){var f=i(7),s=i(83),g=i(34),m=i(84),_=i(109),w=i(128),j=s("wks"),S=f.Symbol,P=S&&S.for,N=w?S:S&&S.withoutSetter||m;c.exports=function(R){if(!g(j,R)||!_&&typeof j[R]!="string"){var F="Symbol."+R;_&&g(S,R)?j[R]=S[R]:j[R]=w&&P?P(F):N(F)}return j[R]}},function(c,p){c.exports=function(i){return typeof i=="function"}},function(c,p,i){var f=i(16),s=i(7),g=i(18),m=i(98),_=i(33),w=i(38),j=i(43),S=i(61),P=i(119),N=i(75),R=i(27),F=i(65),U=R("isConcatSpreadable"),B=s.TypeError,Y=F>=51||!g(function(){var C=[];return C[U]=!1,C.concat()[0]!==C}),K=N("concat"),V=function(C){if(!_(C))return!1;var z=C[U];return z!==void 0?!!z:m(C)};f({target:"Array",proto:!0,forced:!Y||!K},{concat:function(C){var z,k,L,H,Q,Z=w(this),ue=P(Z,0),be=0;for(z=-1,L=arguments.length;z<L;z++)if(V(Q=z===-1?Z:arguments[z])){if(be+(H=j(Q))>9007199254740991)throw B("Maximum allowed index exceeded");for(k=0;k<H;k++,be++)k in Q&&S(ue,be,Q[k])}else{if(be>=9007199254740991)throw B("Maximum allowed index exceeded");S(ue,be++,Q)}return ue.length=be,ue}})},function(c,p,i){var f=i(105),s=typeof self=="object"&&self&&self.Object===Object&&self,g=f.a||s||Function("return this")();p.a=g},function(c,p,i){var f=i(16),s=i(200);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,i){var f=i(7),s=i(33),g=f.String,m=f.TypeError;c.exports=function(_){if(s(_))return _;throw m(g(_)+" is not an object")}},function(c,p,i){var f=i(28);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,i){var f=i(15),s=i(38),g=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(m,_){return g(s(m),_)}},function(c,p){var i=Function.prototype.call;c.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p,i){var f=i(7),s=i(36),g=i(129),m=i(32),_=i(86),w=f.TypeError,j=Object.defineProperty;p.f=s?j:function(S,P,N){if(m(S),P=_(P),m(N),g)try{return j(S,P,N)}catch(R){}if("get"in N||"set"in N)throw w("Accessors not supported");return"value"in N&&(S[P]=N.value),S}},function(c,p,i){var f=i(7),s=i(45),g=f.Object;c.exports=function(m){return g(s(m))}},function(c,p,i){var f=i(80),s=i(45);c.exports=function(g){return f(s(g))}},function(c,p,i){var f=i(7),s=i(97),g=f.String;c.exports=function(m){if(s(m)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(m)}},function(c,p,i){var f=i(16),s=i(74).map;f({target:"Array",proto:!0,forced:!i(75)("map")},{map:function(g){return s(this,g,arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){(function(f){i.d(p,"d",function(){return m}),i.d(p,"c",function(){return _}),i.d(p,"b",function(){return w}),i.d(p,"a",function(){return S});var s=i(10),g=function(P,N){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var F,U,B=R.call(P),Y=[];try{for(;(N===void 0||N-- >0)&&!(F=B.next()).done;)Y.push(F.value)}catch(K){U={error:K}}finally{try{F&&!F.done&&(R=B.return)&&R.call(B)}finally{if(U)throw U.error}}return Y};function m(){var P=g(Object(s.j)(0),2)[1];return Object(s.h)(function(){P(function(N){return N+1})},[])}function _(P){if(!P||typeof P!="object")return!1;var N=Object.getPrototypeOf(P);return!N||N===Object.prototype}function w(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var j={};function S(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:j}}).call(this,i(81))},function(c,p,i){var f=i(89);c.exports=function(s){return f(s.length)}},function(c,p,i){var f=i(7),s=i(28),g=i(34),m=i(57),_=i(108),w=i(91),j=i(56),S=i(93).CONFIGURABLE,P=j.get,N=j.enforce,R=String(String).split("String");(c.exports=function(F,U,B,Y){var K,V=!!Y&&!!Y.unsafe,C=!!Y&&!!Y.enumerable,z=!!Y&&!!Y.noTargetGet,k=Y&&Y.name!==void 0?Y.name:U;s(B)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(B,"name")||S&&B.name!==k)&&m(B,"name",k),(K=N(B)).source||(K.source=R.join(typeof k=="string"?k:""))),F!==f?(V?!z&&F[U]&&(C=!0):delete F[U],C?F[U]=B:m(F,U,B)):C?F[U]=B:_(U,B)})(Function.prototype,"toString",function(){return s(this)&&P(this).source||w(this)})},function(c,p,i){var f=i(7).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,i){var f=i(7),s=i(28),g=function(m){return s(m)?m:void 0};c.exports=function(m,_){return arguments.length<2?g(f[m]):f[m]&&f[m][_]}},function(c,p,i){var f=i(16),s=i(35),g=i(33),m=i(32),_=i(199),w=i(51),j=i(95);f({target:"Reflect",stat:!0},{get:function S(P,N){var R,F,U=arguments.length<3?P:arguments[2];return m(P)===U?P[N]:(R=w.f(P,N))?_(R)?R.value:R.get===void 0?void 0:s(R.get,U):g(F=j(P))?S(F,N,U):void 0}})},function(c,p,i){(function(f){var s=i(30),g=i(164),m=h&&!h.nodeType&&h,_=m&&typeof f=="object"&&f&&!f.nodeType&&f,w=_&&_.exports===m?s.a.Buffer:void 0,j=(w?w.isBuffer:void 0)||g.a;p.a=j}).call(this,i(121)(c))},function(c,p,i){(function(f){var s=i(105),g=h&&!h.nodeType&&h,m=g&&typeof f=="object"&&f&&!f.nodeType&&f,_=m&&m.exports===g&&s.a.process,w=function(){try{var j=m&&m.require&&m.require("util").types;return j||_&&_.binding&&_.binding("util")}catch(S){}}();p.a=w}).call(this,i(121)(c))},function(c,p,i){var f=i(15),s=f({}.toString),g=f("".slice);c.exports=function(m){return g(s(m),8,-1)}},function(c,p,i){var f=i(36),s=i(35),g=i(92),m=i(71),_=i(39),w=i(86),j=i(34),S=i(129),P=Object.getOwnPropertyDescriptor;p.f=f?P:function(N,R){if(N=_(N),R=w(R),S)try{return P(N,R)}catch(F){}if(j(N,R))return m(!s(g.f,N,R),N[R])}},function(c,p,i){var f=i(16),s=i(213).entries;f({target:"Object",stat:!0},{entries:function(g){return s(g)}})},function(c,p,i){var f=i(46);c.exports=f("navigator","userAgent")||""},function(c,p,i){var f,s=i(32),g=i(167),m=i(110),_=i(69),w=i(133),j=i(85),S=i(90),P=S("IE_PROTO"),N=function(){},R=function(B){return"<script>"+B+"<\/script>"},F=function(B){B.write(R("")),B.close();var Y=B.parentWindow.Object;return B=null,Y},U=function(){try{f=new ActiveXObject("htmlfile")}catch(V){}var B,Y;U=typeof document!="undefined"?document.domain&&f?F(f):((Y=j("iframe")).style.display="none",w.appendChild(Y),Y.src=String("javascript:"),(B=Y.contentWindow.document).open(),B.write(R("document.F=Object")),B.close(),B.F):F(f);for(var K=m.length;K--;)delete U.prototype[m[K]];return U()};_[P]=!0,c.exports=Object.create||function(B,Y){var K;return B!==null?(N.prototype=s(B),K=new N,N.prototype=null,K[P]=B):K=U(),Y===void 0?K:g(K,Y)}},function(c,p,i){var f=i(7),s=i(28),g=i(88),m=f.TypeError;c.exports=function(_){if(s(_))return _;throw m(g(_)+" is not a function")}},function(c,p,i){var f,s,g,m=i(169),_=i(7),w=i(15),j=i(33),S=i(57),P=i(34),N=i(107),R=i(90),F=i(69),U=_.TypeError,B=_.WeakMap;if(m||N.state){var Y=N.state||(N.state=new B),K=w(Y.get),V=w(Y.has),C=w(Y.set);f=function(k,L){if(V(Y,k))throw new U("Object already initialized");return L.facade=k,C(Y,k,L),L},s=function(k){return K(Y,k)||{}},g=function(k){return V(Y,k)}}else{var z=R("state");F[z]=!0,f=function(k,L){if(P(k,z))throw new U("Object already initialized");return L.facade=k,S(k,z,L),L},s=function(k){return P(k,z)?k[z]:{}},g=function(k){return P(k,z)}}c.exports={set:f,get:s,has:g,enforce:function(k){return g(k)?s(k):f(k,{})},getterFor:function(k){return function(L){var H;if(!j(L)||(H=s(L)).type!==k)throw U("Incompatible receiver, "+k+" required");return H}}}},function(c,p,i){var f=i(36),s=i(37),g=i(71);c.exports=f?function(m,_,w){return s.f(m,_,g(1,w))}:function(m,_,w){return m[_]=w,m}},function(c,p,i){var f=i(15);c.exports=f({}.isPrototypeOf)},function(c,p,i){var f=i(55);c.exports=function(s,g){var m=s[g];return m==null?void 0:f(m)}},function(c,p,i){i(172)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},i(176))},function(c,p,i){var f=i(86),s=i(37),g=i(71);c.exports=function(m,_,w){var j=f(_);j in m?s.f(m,j,g(0,w)):m[j]=w}},function(c,p,i){var f=i(15),s=i(55),g=f(f.bind);c.exports=function(m,_){return s(m),_===void 0?m:g?g(m,_):function(){return m.apply(_,arguments)}}},function(c,p,i){var f=i(16),s=i(214),g=i(82);f({target:"Array",proto:!0},{fill:s}),g("fill")},function(c,p){c.exports=!1},function(c,p,i){var f,s,g=i(7),m=i(53),_=g.process,w=g.Deno,j=_&&_.versions||w&&w.version,S=j&&j.v8;S&&(s=(f=S.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&m&&(!(f=m.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=m.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,i){var f=i(131),s=i(110);c.exports=Object.keys||function(g){return f(g,s)}},function(c,p,i){var f=i(68),s=Math.max,g=Math.min;c.exports=function(m,_){var w=f(m);return w<0?s(w+_,0):g(w,_)}},function(c,p){var i=Math.ceil,f=Math.floor;c.exports=function(s){var g=+s;return g!=g||g===0?0:(g>0?f:i)(g)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(i,f){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:f}}},function(c,p,i){var f=i(131),s=i(110).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(g){return f(g,s)}},function(c,p,i){var f=i(37).f,s=i(34),g=i(27)("toStringTag");c.exports=function(m,_,w){m&&!s(m=w?m:m.prototype,g)&&f(m,g,{configurable:!0,value:_})}},function(c,p,i){var f=i(62),s=i(15),g=i(80),m=i(38),_=i(43),w=i(119),j=s([].push),S=function(P){var N=P==1,R=P==2,F=P==3,U=P==4,B=P==6,Y=P==7,K=P==5||B;return function(V,C,z,k){for(var L,H,Q=m(V),Z=g(Q),ue=f(C,z),be=_(Z),me=0,de=k||w,he=N?de(V,be):R||Y?de(V,0):void 0;be>me;me++)if((K||me in Z)&&(H=ue(L=Z[me],me,Q),P))if(N)he[me]=H;else if(H)switch(P){case 3:return!0;case 5:return L;case 6:return me;case 2:j(he,L)}else switch(P){case 4:return!1;case 7:j(he,L)}return B?-1:F||U?U:he}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,p,i){var f=i(18),s=i(27),g=i(65),m=s("species");c.exports=function(_){return g>=51||!f(function(){var w=[];return(w.constructor={})[m]=function(){return{foo:1}},w[_](Boolean).foo!==1})}},function(c,p){var i=Function.prototype,f=i.apply,s=i.bind,g=i.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?g.bind(f):function(){return g.apply(f,arguments)})},function(c,p,i){var f=i(76),s=i(35),g=i(15),m=i(122),_=i(154),w=i(32),j=i(45),S=i(156),P=i(123),N=i(89),R=i(40),F=i(59),U=i(113),B=i(124),Y=i(101),K=i(151),V=i(18),C=K.UNSUPPORTED_Y,z=Math.min,k=[].push,L=g(/./.exec),H=g(k),Q=g("".slice);m("split",function(Z,ue,be){var me;return me="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(de,he){var pe=R(j(this)),se=he===void 0?4294967295:he>>>0;if(se===0)return[];if(de===void 0)return[pe];if(!_(de))return s(ue,pe,de,se);for(var _e,xe,ke,Re=[],Ge=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),Ae=0,Ye=new RegExp(de.source,Ge+"g");(_e=s(Y,Ye,pe))&&!((xe=Ye.lastIndex)>Ae&&(H(Re,Q(pe,Ae,_e.index)),_e.length>1&&_e.index<pe.length&&f(k,Re,U(_e,1)),ke=_e[0].length,Ae=xe,Re.length>=se));)Ye.lastIndex===_e.index&&Ye.lastIndex++;return Ae===pe.length?!ke&&L(Ye,"")||H(Re,""):H(Re,Q(pe,Ae)),Re.length>se?U(Re,0,se):Re}:"0".split(void 0,0).length?function(de,he){return de===void 0&&he===0?[]:s(ue,this,de,he)}:ue,[function(de,he){var pe=j(this),se=de==null?void 0:F(de,Z);return se?s(se,de,pe,he):s(me,R(pe),de,he)},function(de,he){var pe=w(this),se=R(de),_e=be(me,pe,se,he,me!==ue);if(_e.done)return _e.value;var xe=S(pe,RegExp),ke=pe.unicode,Re=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(C?"g":"y"),Ge=new xe(C?"^(?:"+pe.source+")":pe,Re),Ae=he===void 0?4294967295:he>>>0;if(Ae===0)return[];if(se.length===0)return B(Ge,se)===null?[se]:[];for(var Ye=0,st=0,$=[];st<se.length;){Ge.lastIndex=C?0:st;var J,ae=B(Ge,C?Q(se,st):se);if(ae===null||(J=z(N(Ge.lastIndex+(C?st:0)),se.length))===Ye)st=P(se,st,ke);else{if(H($,Q(se,Ye,st)),$.length===Ae)return $;for(var ve=1;ve<=ae.length-1;ve++)if(H($,ae[ve]),$.length===Ae)return $;st=Ye=J}}return H($,Q(se,Ye)),$}]},!!V(function(){var Z=/(?:)/,ue=Z.exec;Z.exec=function(){return ue.apply(this,arguments)};var be="ab".split(Z);return be.length!==2||be[0]!=="a"||be[1]!=="b"}),C)},function(c,p,i){var f=i(36),s=i(7),g=i(15),m=i(94),_=i(44),w=i(34),j=i(143),S=i(58),P=i(87),N=i(130),R=i(18),F=i(72).f,U=i(51).f,B=i(37).f,Y=i(196),K=i(158).trim,V=s.Number,C=V.prototype,z=s.TypeError,k=g("".slice),L=g("".charCodeAt),H=function(de){var he=N(de,"number");return typeof he=="bigint"?he:Q(he)},Q=function(de){var he,pe,se,_e,xe,ke,Re,Ge,Ae=N(de,"number");if(P(Ae))throw z("Cannot convert a Symbol value to a number");if(typeof Ae=="string"&&Ae.length>2){if(Ae=K(Ae),(he=L(Ae,0))===43||he===45){if((pe=L(Ae,2))===88||pe===120)return NaN}else if(he===48){switch(L(Ae,1)){case 66:case 98:se=2,_e=49;break;case 79:case 111:se=8,_e=55;break;default:return+Ae}for(ke=(xe=k(Ae,2)).length,Re=0;Re<ke;Re++)if((Ge=L(xe,Re))<48||Ge>_e)return NaN;return parseInt(xe,se)}}return+Ae};if(m("Number",!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var Z,ue=function(de){var he=arguments.length<1?0:V(H(de)),pe=this;return S(C,pe)&&R(function(){Y(pe)})?j(Object(he),pe,ue):he},be=f?F(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),me=0;be.length>me;me++)w(V,Z=be[me])&&!w(ue,Z)&&B(ue,Z,U(V,Z));ue.prototype=C,C.constructor=ue,_(s,"Number",ue)}},function(c,p,i){i(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,i){var f=i(7),s=i(15),g=i(18),m=i(50),_=f.Object,w=s("".split);c.exports=g(function(){return!_("z").propertyIsEnumerable(0)})?function(j){return m(j)=="String"?w(j,""):_(j)}:_},function(c,p){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(f){typeof window=="object"&&(i=window)}c.exports=i},function(c,p,i){var f=i(27),s=i(54),g=i(37),m=f("unscopables"),_=Array.prototype;_[m]==null&&g.f(_,m,{configurable:!0,value:s(null)}),c.exports=function(w){_[m][w]=!0}},function(c,p,i){var f=i(64),s=i(107);(c.exports=function(g,m){return s[g]||(s[g]=m!==void 0?m:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p,i){var f=i(15),s=0,g=Math.random(),m=f(1 .toString);c.exports=function(_){return"Symbol("+(_===void 0?"":_)+")_"+m(++s+g,36)}},function(c,p,i){var f=i(7),s=i(33),g=f.document,m=s(g)&&s(g.createElement);c.exports=function(_){return m?g.createElement(_):{}}},function(c,p,i){var f=i(130),s=i(87);c.exports=function(g){var m=f(g,"string");return s(m)?m:m+""}},function(c,p,i){var f=i(7),s=i(46),g=i(28),m=i(58),_=i(128),w=f.Object;c.exports=_?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return g(S)&&m(S.prototype,w(j))}},function(c,p,i){var f=i(7).String;c.exports=function(s){try{return f(s)}catch(g){return"Object"}}},function(c,p,i){var f=i(68),s=Math.min;c.exports=function(g){return g>0?s(f(g),9007199254740991):0}},function(c,p,i){var f=i(83),s=i(84),g=f("keys");c.exports=function(m){return g[m]||(g[m]=s(m))}},function(c,p,i){var f=i(15),s=i(28),g=i(107),m=f(Function.toString);s(g.inspectSource)||(g.inspectSource=function(_){return m(_)}),c.exports=g.inspectSource},function(c,p,i){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,g=s&&!f.call({1:2},1);p.f=g?function(m){var _=s(this,m);return!!_&&_.enumerable}:f},function(c,p,i){var f=i(36),s=i(34),g=Function.prototype,m=f&&Object.getOwnPropertyDescriptor,_=s(g,"name"),w=_&&function(){}.name==="something",j=_&&(!f||f&&m(g,"name").configurable);c.exports={EXISTS:_,PROPER:w,CONFIGURABLE:j}},function(c,p,i){var f=i(18),s=i(28),g=/#|\.prototype\./,m=function(P,N){var R=w[_(P)];return R==S||R!=j&&(s(N)?f(N):!!N)},_=m.normalize=function(P){return String(P).replace(g,".").toLowerCase()},w=m.data={},j=m.NATIVE="N",S=m.POLYFILL="P";c.exports=m},function(c,p,i){var f=i(7),s=i(34),g=i(28),m=i(38),_=i(90),w=i(137),j=_("IE_PROTO"),S=f.Object,P=S.prototype;c.exports=w?S.getPrototypeOf:function(N){var R=m(N);if(s(R,j))return R[j];var F=R.constructor;return g(F)&&R instanceof F?F.prototype:R instanceof S?P:null}},function(c,p,i){var f=i(15),s=i(32),g=i(171);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m,_=!1,w={};try{(m=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(w,[]),_=w instanceof Array}catch(j){}return function(j,S){return s(j),g(S),_?m(j,S):j.__proto__=S,j}}():void 0)},function(c,p,i){var f=i(7),s=i(116),g=i(28),m=i(50),_=i(27)("toStringTag"),w=f.Object,j=m(function(){return arguments}())=="Arguments";c.exports=s?m:function(S){var P,N,R;return S===void 0?"Undefined":S===null?"Null":typeof(N=function(F,U){try{return F[U]}catch(B){}}(P=w(S),_))=="string"?N:j?m(P):(R=m(P))=="Object"&&g(P.callee)?"Arguments":R}},function(c,p,i){var f=i(50);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,i){var f=i(15),s=i(18),g=i(28),m=i(97),_=i(46),w=i(91),j=function(){},S=[],P=_("Reflect","construct"),N=/^\s*(?:class|function)\b/,R=f(N.exec),F=!N.exec(j),U=function(B){if(!g(B))return!1;try{return P(j,S,B),!0}catch(Y){return!1}};c.exports=!P||s(function(){var B;return U(U.call)||!U(Object)||!U(function(){B=!0})||B})?function(B){if(!g(B))return!1;switch(m(B)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!R(N,w(B))}:U},function(c,p,i){var f=i(15);c.exports=f([].slice)},function(c,p,i){var f,s,g=i(35),m=i(15),_=i(40),w=i(183),j=i(151),S=i(83),P=i(54),N=i(56).get,R=i(184),F=i(185),U=S("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,Y=B,K=m("".charAt),V=m("".indexOf),C=m("".replace),z=m("".slice),k=(s=/b*/g,g(B,f=/a/,"a"),g(B,s,"a"),f.lastIndex!==0||s.lastIndex!==0),L=j.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(k||H||L||R||F)&&(Y=function(Q){var Z,ue,be,me,de,he,pe,se=this,_e=N(se),xe=_(Q),ke=_e.raw;if(ke)return ke.lastIndex=se.lastIndex,Z=g(Y,ke,xe),se.lastIndex=ke.lastIndex,Z;var Re=_e.groups,Ge=L&&se.sticky,Ae=g(w,se),Ye=se.source,st=0,$=xe;if(Ge&&(Ae=C(Ae,"y",""),V(Ae,"g")===-1&&(Ae+="g"),$=z(xe,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&K(xe,se.lastIndex-1)!==`
`)&&(Ye="(?: "+Ye+")",$=" "+$,st++),ue=new RegExp("^(?:"+Ye+")",Ae)),H&&(ue=new RegExp("^"+Ye+"$(?!\\s)",Ae)),k&&(be=se.lastIndex),me=g(B,Ge?ue:se,$),Ge?me?(me.input=z(me.input,st),me[0]=z(me[0],st),me.index=se.lastIndex,se.lastIndex+=me[0].length):se.lastIndex=0:k&&me&&(se.lastIndex=se.global?me.index+me[0].length:be),H&&me&&me.length>1&&g(U,me[0],ue,function(){for(de=1;de<arguments.length-2;de++)arguments[de]===void 0&&(me[de]=void 0)}),me&&Re)for(me.groups=he=P(null),de=0;de<Re.length;de++)he[(pe=Re[de])[0]]=me[pe[1]];return me}),c.exports=Y},function(c,p,i){var f=i(16),s=i(7),g=i(67),m=i(68),_=i(43),w=i(38),j=i(119),S=i(61),P=i(75)("splice"),N=s.TypeError,R=Math.max,F=Math.min;f({target:"Array",proto:!0,forced:!P},{splice:function(U,B){var Y,K,V,C,z,k,L=w(this),H=_(L),Q=g(U,H),Z=arguments.length;if(Z===0?Y=K=0:Z===1?(Y=0,K=H-Q):(Y=Z-2,K=F(R(m(B),0),H-Q)),H+Y-K>9007199254740991)throw N("Maximum allowed length exceeded");for(V=j(L,K),C=0;C<K;C++)(z=Q+C)in L&&S(V,C,L[z]);if(V.length=K,Y<K){for(C=Q;C<H-K;C++)k=C+Y,(z=C+K)in L?L[k]=L[z]:delete L[k];for(C=H;C>H-K+Y;C--)delete L[C-1]}else if(Y>K)for(C=H-K;C>Q;C--)k=C+Y-1,(z=C+K-1)in L?L[k]=L[z]:delete L[k];for(C=0;C<Y;C++)L[C+Q]=arguments[C+2];return L.length=H-K+Y,V}})},function(c,p,i){var f=i(16),s=i(15),g=i(80),m=i(39),_=i(120),w=s([].join),j=g!=Object,S=_("join",",");f({target:"Array",proto:!0,forced:j||!S},{join:function(P){return w(m(this),P===void 0?",":P)}})},function(c,p,i){var f=i(16),s=i(201);f({target:"String",proto:!0,forced:i(202)("anchor")},{anchor:function(g){return s(this,"a","name",g)}})},function(c,p,i){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,i(81))},function(c,p,i){(function(f){var s=i(30),g=h&&!h.nodeType&&h,m=g&&typeof f=="object"&&f&&!f.nodeType&&f,_=m&&m.exports===g?s.a.Buffer:void 0,w=_?_.allocUnsafe:void 0;p.a=function(j,S){if(S)return j.slice();var P=j.length,N=w?w(P):new j.constructor(P);return j.copy(N),N}}).call(this,i(121)(c))},function(c,p,i){var f=i(7),s=i(108),g=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=g},function(c,p,i){var f=i(7),s=Object.defineProperty;c.exports=function(g,m){try{s(f,g,{value:m,configurable:!0,writable:!0})}catch(_){f[g]=m}return m}},function(c,p,i){var f=i(65),s=i(18);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,i){var f=i(16),s=i(35),g=i(64),m=i(93),_=i(28),w=i(170),j=i(95),S=i(96),P=i(73),N=i(57),R=i(44),F=i(27),U=i(70),B=i(136),Y=m.PROPER,K=m.CONFIGURABLE,V=B.IteratorPrototype,C=B.BUGGY_SAFARI_ITERATORS,z=F("iterator"),k=function(){return this};c.exports=function(L,H,Q,Z,ue,be,me){w(Q,H,Z);var de,he,pe,se=function(Ye){if(Ye===ue&&Ge)return Ge;if(!C&&Ye in ke)return ke[Ye];switch(Ye){case"keys":case"values":case"entries":return function(){return new Q(this,Ye)}}return function(){return new Q(this)}},_e=H+" Iterator",xe=!1,ke=L.prototype,Re=ke[z]||ke["@@iterator"]||ue&&ke[ue],Ge=!C&&Re||se(ue),Ae=H=="Array"&&ke.entries||Re;if(Ae&&(de=j(Ae.call(new L)))!==Object.prototype&&de.next&&(g||j(de)===V||(S?S(de,V):_(de[z])||R(de,z,k)),P(de,_e,!0,!0),g&&(U[_e]=k)),Y&&ue=="values"&&Re&&Re.name!=="values"&&(!g&&K?N(ke,"name","values"):(xe=!0,Ge=function(){return s(Re,this)})),ue)if(he={values:se("values"),keys:be?Ge:se("keys"),entries:se("entries")},me)for(pe in he)(C||xe||!(pe in ke))&&R(ke,pe,he[pe]);else f({target:H,proto:!0,forced:C||xe},he);return g&&!me||ke[z]===Ge||R(ke,z,Ge,{name:ue}),U[H]=Ge,he}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,i){var f=i(7),s=i(67),g=i(43),m=i(61),_=f.Array,w=Math.max;c.exports=function(j,S,P){for(var N=g(j),R=s(S,N),F=s(P===void 0?N:P,N),U=_(w(F-R,0)),B=0;R<F;R++,B++)m(U,B,j[R]);return U.length=B,U}},function(c,p,i){var f=i(7),s=i(62),g=i(35),m=i(32),_=i(88),w=i(140),j=i(43),S=i(58),P=i(141),N=i(115),R=i(142),F=f.TypeError,U=function(Y,K){this.stopped=Y,this.result=K},B=U.prototype;c.exports=function(Y,K,V){var C,z,k,L,H,Q,Z,ue=V&&V.that,be=!(!V||!V.AS_ENTRIES),me=!(!V||!V.IS_ITERATOR),de=!(!V||!V.INTERRUPTED),he=s(K,ue),pe=function(_e){return C&&R(C,"normal",_e),new U(!0,_e)},se=function(_e){return be?(m(_e),de?he(_e[0],_e[1],pe):he(_e[0],_e[1])):de?he(_e,pe):he(_e)};if(me)C=Y;else{if(!(z=N(Y)))throw F(_(Y)+" is not iterable");if(w(z)){for(k=0,L=j(Y);L>k;k++)if((H=se(Y[k]))&&S(B,H))return H;return new U(!1)}C=P(Y,z)}for(Q=C.next;!(Z=g(Q,C)).done;){try{H=se(Z.value)}catch(_e){R(C,"throw",_e)}if(typeof H=="object"&&H&&S(B,H))return H}return new U(!1)}},function(c,p,i){var f=i(97),s=i(59),g=i(70),m=i(27)("iterator");c.exports=function(_){if(_!=null)return s(_,m)||s(_,"@@iterator")||g[f(_)]}},function(c,p,i){var f={};f[i(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,i){var f=i(7),s=i(58),g=f.TypeError;c.exports=function(m,_){if(s(_,m))return m;throw g("Incorrect invocation")}},function(c,p,i){var f=i(27)("iterator"),s=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){s=!0}};m[f]=function(){return this},Array.from(m,function(){throw 2})}catch(_){}c.exports=function(_,w){if(!w&&!s)return!1;var j=!1;try{var S={};S[f]=function(){return{next:function(){return{done:j=!0}}}},_(S)}catch(P){}return j}},function(c,p,i){var f=i(179);c.exports=function(s,g){return new(f(s))(g===0?0:g)}},function(c,p,i){var f=i(18);c.exports=function(s,g){var m=[][s];return!!m&&f(function(){m.call(null,g||function(){throw 1},1)})}},function(c,p){c.exports=function(i){if(!i.webpackPolyfill){var f=Object.create(i);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,i){i(19);var f=i(15),s=i(44),g=i(101),m=i(18),_=i(27),w=i(57),j=_("species"),S=RegExp.prototype;c.exports=function(P,N,R,F){var U=_(P),B=!m(function(){var C={};return C[U]=function(){return 7},""[P](C)!=7}),Y=B&&!m(function(){var C=!1,z=/a/;return P==="split"&&((z={}).constructor={},z.constructor[j]=function(){return z},z.flags="",z[U]=/./[U]),z.exec=function(){return C=!0,null},z[U](""),!C});if(!B||!Y||R){var K=f(/./[U]),V=N(U,""[P],function(C,z,k,L,H){var Q=f(C),Z=z.exec;return Z===g||Z===S.exec?B&&!H?{done:!0,value:K(z,k,L)}:{done:!0,value:Q(k,z,L)}:{done:!1}});s(String.prototype,P,V[0]),s(S,U,V[1])}F&&w(S[U],"sham",!0)}},function(c,p,i){var f=i(146).charAt;c.exports=function(s,g,m){return g+(m?f(s,g).length:1)}},function(c,p,i){var f=i(7),s=i(35),g=i(32),m=i(28),_=i(50),w=i(101),j=f.TypeError;c.exports=function(S,P){var N=S.exec;if(m(N)){var R=s(N,S,P);return R!==null&&g(R),R}if(_(S)==="RegExp")return s(w,S,P);throw j("RegExp#exec called on incompatible receiver")}},function(c,p,i){var f=i(76),s=i(35),g=i(15),m=i(122),_=i(18),w=i(32),j=i(28),S=i(68),P=i(89),N=i(40),R=i(45),F=i(123),U=i(59),B=i(197),Y=i(124),K=i(27)("replace"),V=Math.max,C=Math.min,z=g([].concat),k=g([].push),L=g("".indexOf),H=g("".slice),Q="a".replace(/./,"$0")==="$0",Z=!!/./[K]&&/./[K]("a","$0")==="";m("replace",function(ue,be,me){var de=Z?"$":"$0";return[function(he,pe){var se=R(this),_e=he==null?void 0:U(he,K);return _e?s(_e,he,se,pe):s(be,N(se),he,pe)},function(he,pe){var se=w(this),_e=N(he);if(typeof pe=="string"&&L(pe,de)===-1&&L(pe,"$<")===-1){var xe=me(be,se,_e,pe);if(xe.done)return xe.value}var ke=j(pe);ke||(pe=N(pe));var Re=se.global;if(Re){var Ge=se.unicode;se.lastIndex=0}for(var Ae=[];;){var Ye=Y(se,_e);if(Ye===null||(k(Ae,Ye),!Re))break;N(Ye[0])===""&&(se.lastIndex=F(_e,P(se.lastIndex),Ge))}for(var st,$="",J=0,ae=0;ae<Ae.length;ae++){for(var ve=N((Ye=Ae[ae])[0]),Me=V(C(S(Ye.index),_e.length),0),we=[],We=1;We<Ye.length;We++)k(we,(st=Ye[We])===void 0?st:String(st));var Xe=Ye.groups;if(ke){var et=z([ve],we,Me,_e);Xe!==void 0&&k(et,Xe);var qe=N(f(pe,void 0,et))}else qe=B(ve,_e,Me,we,Xe,pe);Me>=J&&($+=H(_e,J,Me)+qe,J=Me+ve.length)}return $+H(_e,J)}]},!!_(function(){var ue=/./;return ue.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(ue,"$<a>")!=="7"})||!Q||Z)},function(c,p,i){var f=i(50),s=i(7);c.exports=f(s.process)=="process"},function(c,p,i){i(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,i){var f=i(109);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,i){var f=i(36),s=i(18),g=i(85);c.exports=!f&&!s(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,i){var f=i(7),s=i(35),g=i(33),m=i(87),_=i(59),w=i(168),j=i(27),S=f.TypeError,P=j("toPrimitive");c.exports=function(N,R){if(!g(N)||m(N))return N;var F,U=_(N,P);if(U){if(R===void 0&&(R="default"),F=s(U,N,R),!g(F)||m(F))return F;throw S("Can't convert object to primitive value")}return R===void 0&&(R="number"),w(N,R)}},function(c,p,i){var f=i(15),s=i(34),g=i(39),m=i(132).indexOf,_=i(69),w=f([].push);c.exports=function(j,S){var P,N=g(j),R=0,F=[];for(P in N)!s(_,P)&&s(N,P)&&w(F,P);for(;S.length>R;)s(N,P=S[R++])&&(~m(F,P)||w(F,P));return F}},function(c,p,i){var f=i(39),s=i(67),g=i(43),m=function(_){return function(w,j,S){var P,N=f(w),R=g(N),F=s(S,R);if(_&&j!=j){for(;R>F;)if((P=N[F++])!=P)return!0}else for(;R>F;F++)if((_||F in N)&&N[F]===j)return _||F||0;return!_&&-1}};c.exports={includes:m(!0),indexOf:m(!1)}},function(c,p,i){var f=i(46);c.exports=f("document","documentElement")},function(c,p,i){var f=i(34),s=i(135),g=i(51),m=i(37);c.exports=function(_,w){for(var j=s(w),S=m.f,P=g.f,N=0;N<j.length;N++){var R=j[N];f(_,R)||S(_,R,P(w,R))}}},function(c,p,i){var f=i(46),s=i(15),g=i(72),m=i(112),_=i(32),w=s([].concat);c.exports=f("Reflect","ownKeys")||function(j){var S=g.f(_(j)),P=m.f;return P?w(S,P(j)):S}},function(c,p,i){var f,s,g,m=i(18),_=i(28),w=i(54),j=i(95),S=i(44),P=i(27),N=i(64),R=P("iterator"),F=!1;[].keys&&("next"in(g=[].keys())?(s=j(j(g)))!==Object.prototype&&(f=s):F=!0),f==null||m(function(){var U={};return f[R].call(U)!==U})?f={}:N&&(f=w(f)),_(f[R])||S(f,R,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:F}},function(c,p,i){var f=i(18);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,i){var f=i(16),s=i(15),g=i(69),m=i(33),_=i(34),w=i(37).f,j=i(72),S=i(139),P=i(173),N=i(84),R=i(175),F=!1,U=N("meta"),B=0,Y=function(V){w(V,U,{value:{objectID:"O"+B++,weakData:{}}})},K=c.exports={enable:function(){K.enable=function(){},F=!0;var V=j.f,C=s([].splice),z={};z[U]=1,V(z).length&&(j.f=function(k){for(var L=V(k),H=0,Q=L.length;H<Q;H++)if(L[H]===U){C(L,H,1);break}return L},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(V,C){if(!m(V))return typeof V=="symbol"?V:(typeof V=="string"?"S":"P")+V;if(!_(V,U)){if(!P(V))return"F";if(!C)return"E";Y(V)}return V[U].objectID},getWeakData:function(V,C){if(!_(V,U)){if(!P(V))return!0;if(!C)return!1;Y(V)}return V[U].weakData},onFreeze:function(V){return R&&F&&P(V)&&!_(V,U)&&Y(V),V}};g[U]=!0},function(c,p,i){var f=i(50),s=i(39),g=i(72).f,m=i(113),_=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(w){return _&&f(w)=="Window"?function(j){try{return g(j)}catch(S){return m(_)}}(w):g(s(w))}},function(c,p,i){var f=i(27),s=i(70),g=f("iterator"),m=Array.prototype;c.exports=function(_){return _!==void 0&&(s.Array===_||m[g]===_)}},function(c,p,i){var f=i(7),s=i(35),g=i(55),m=i(32),_=i(88),w=i(115),j=f.TypeError;c.exports=function(S,P){var N=arguments.length<2?w(S):P;if(g(N))return m(s(N,S));throw j(_(S)+" is not iterable")}},function(c,p,i){var f=i(35),s=i(32),g=i(59);c.exports=function(m,_,w){var j,S;s(m);try{if(!(j=g(m,"return"))){if(_==="throw")throw w;return w}j=f(j,m)}catch(P){S=!0,j=P}if(_==="throw")throw w;if(S)throw j;return s(j),w}},function(c,p,i){var f=i(28),s=i(33),g=i(96);c.exports=function(m,_,w){var j,S;return g&&f(j=_.constructor)&&j!==w&&s(S=j.prototype)&&S!==w.prototype&&g(m,S),m}},function(c,p,i){var f=i(44);c.exports=function(s,g,m){for(var _ in g)f(s,_,g[_],m);return s}},function(c,p,i){var f=i(46),s=i(37),g=i(27),m=i(36),_=g("species");c.exports=function(w){var j=f(w),S=s.f;m&&j&&!j[_]&&S(j,_,{configurable:!0,get:function(){return this}})}},function(c,p,i){var f=i(15),s=i(68),g=i(40),m=i(45),_=f("".charAt),w=f("".charCodeAt),j=f("".slice),S=function(P){return function(N,R){var F,U,B=g(m(N)),Y=s(R),K=B.length;return Y<0||Y>=K?P?"":void 0:(F=w(B,Y))<55296||F>56319||Y+1===K||(U=w(B,Y+1))<56320||U>57343?P?_(B,Y):F:P?j(B,Y,Y+2):U-56320+(F-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,i){var f=i(85)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,i){var f=i(27);p.f=f},function(c,p,i){var f=i(180),s=i(34),g=i(149),m=i(37).f;c.exports=function(_){var w=f.Symbol||(f.Symbol={});s(w,_)||m(w,_,{value:g.f(_)})}},function(c,p,i){var f=i(18),s=i(7).RegExp,g=f(function(){var w=s("a","y");return w.lastIndex=2,w.exec("abcd")!=null}),m=g||f(function(){return!s("a","y").sticky}),_=g||f(function(){var w=s("^r","gy");return w.lastIndex=2,w.exec("str")!=null});c.exports={BROKEN_CARET:_,MISSED_STICKY:m,UNSUPPORTED_Y:g}},function(c,p,i){var f=i(16),s=i(132).includes,g=i(82);f({target:"Array",proto:!0},{includes:function(m){return s(this,m,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(c,p,i){var f=i(16),s=i(15),g=i(192),m=i(45),_=i(40),w=i(193),j=s("".indexOf);f({target:"String",proto:!0,forced:!w("includes")},{includes:function(S){return!!~j(_(m(this)),_(g(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,i){var f=i(33),s=i(50),g=i(27)("match");c.exports=function(m){var _;return f(m)&&((_=m[g])!==void 0?!!_:s(m)=="RegExp")}},function(c,p){var i,f,s=c.exports={};function g(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function _(B){if(i===setTimeout)return setTimeout(B,0);if((i===g||!i)&&setTimeout)return i=setTimeout,setTimeout(B,0);try{return i(B,0)}catch(Y){try{return i.call(null,B,0)}catch(K){return i.call(this,B,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:g}catch(B){i=g}try{f=typeof clearTimeout=="function"?clearTimeout:m}catch(B){f=m}})();var w,j=[],S=!1,P=-1;function N(){S&&w&&(S=!1,w.length?j=w.concat(j):P=-1,j.length&&R())}function R(){if(!S){var B=_(N);S=!0;for(var Y=j.length;Y;){for(w=j,j=[];++P<Y;)w&&w[P].run();P=-1,Y=j.length}w=null,S=!1,function(K){if(f===clearTimeout)return clearTimeout(K);if((f===m||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(K);try{f(K)}catch(V){try{return f.call(null,K)}catch(C){return f.call(this,K)}}}(B)}}function F(B,Y){this.fun=B,this.array=Y}function U(){}s.nextTick=function(B){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var K=1;K<arguments.length;K++)Y[K-1]=arguments[K];j.push(new F(B,Y)),j.length!==1||S||_(R)},F.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=U,s.addListener=U,s.once=U,s.off=U,s.removeListener=U,s.removeAllListeners=U,s.emit=U,s.prependListener=U,s.prependOnceListener=U,s.listeners=function(B){return[]},s.binding=function(B){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(B){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,i){var f=i(32),s=i(157),g=i(27)("species");c.exports=function(m,_){var w,j=f(m).constructor;return j===void 0||(w=f(j)[g])==null?_:s(w)}},function(c,p,i){var f=i(7),s=i(99),g=i(88),m=f.TypeError;c.exports=function(_){if(s(_))return _;throw m(g(_)+" is not a constructor")}},function(c,p,i){var f=i(15),s=i(45),g=i(40),m=i(159),_=f("".replace),w="["+m+"]",j=RegExp("^"+w+w+"*"),S=RegExp(w+w+"*$"),P=function(N){return function(R){var F=g(s(R));return 1&N&&(F=_(F,j,"")),2&N&&(F=_(F,S,"")),F}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,i){var f=i(35),s=i(122),g=i(32),m=i(89),_=i(40),w=i(45),j=i(59),S=i(123),P=i(124);s("match",function(N,R,F){return[function(U){var B=w(this),Y=U==null?void 0:j(U,N);return Y?f(Y,U,B):new RegExp(U)[N](_(B))},function(U){var B=g(this),Y=_(U),K=F(R,B,Y);if(K.done)return K.value;if(!B.global)return P(B,Y);var V=B.unicode;B.lastIndex=0;for(var C,z=[],k=0;(C=P(B,Y))!==null;){var L=_(C[0]);z[k]=L,L===""&&(B.lastIndex=S(Y,m(B.lastIndex),V)),k++}return k===0?null:z}]})},function(c,p,i){var f,s,g,m,_=i(7),w=i(76),j=i(62),S=i(28),P=i(34),N=i(18),R=i(133),F=i(100),U=i(85),B=i(162),Y=i(126),K=_.setImmediate,V=_.clearImmediate,C=_.process,z=_.Dispatch,k=_.Function,L=_.MessageChannel,H=_.String,Q=0,Z={};try{f=_.location}catch(he){}var ue=function(he){if(P(Z,he)){var pe=Z[he];delete Z[he],pe()}},be=function(he){return function(){ue(he)}},me=function(he){ue(he.data)},de=function(he){_.postMessage(H(he),f.protocol+"//"+f.host)};K&&V||(K=function(he){var pe=F(arguments,1);return Z[++Q]=function(){w(S(he)?he:k(he),void 0,pe)},s(Q),Q},V=function(he){delete Z[he]},Y?s=function(he){C.nextTick(be(he))}:z&&z.now?s=function(he){z.now(be(he))}:L&&!B?(m=(g=new L).port2,g.port1.onmessage=me,s=j(m.postMessage,m)):_.addEventListener&&S(_.postMessage)&&!_.importScripts&&f&&f.protocol!=="file:"&&!N(de)?(s=de,_.addEventListener("message",me,!1)):s="onreadystatechange"in U("script")?function(he){R.appendChild(U("script")).onreadystatechange=function(){R.removeChild(this),ue(he)}}:function(he){setTimeout(be(he),0)}),c.exports={set:K,clear:V}},function(c,p,i){var f=i(53);c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},function(c,p,i){var f=i(55),s=function(g){var m,_;this.promise=new g(function(w,j){if(m!==void 0||_!==void 0)throw TypeError("Bad Promise constructor");m=w,_=j}),this.resolve=f(m),this.reject=f(_)};c.exports.f=function(g){return new s(g)}},function(c,p,i){p.a=function(){return!1}},function(c,p,i){(function(f){i.d(p,"a",function(){return Y});var s=i(0);function g(C){throw new Error("[mobx-utils] "+C)}function m(C,z){z===void 0&&(z="Illegal state"),C||g(z)}var _=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(_(Object.getPrototypeOf(C))||[])},w=function(C){return function(z){var k=_(z);return k.filter(function(L,H){return k.indexOf(L)===H})}(C).filter(function(z){return z!=="constructor"&&!~z.indexOf("__")})};function j(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function S(C,z){if(m(arguments.length<=2,"fromPromise expects up to two arguments"),m(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var k=C;C.then(Object(s.k)("observableFromPromise-resolve",function(H){k.value=H,k.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(H){k.value=H,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=j;var L=z&&z.state==="fulfilled"?z.value:void 0;return Object(s.q)(k,{value:L,state:"pending"},{},{deep:!1}),k}(function(C){C.reject=Object(s.k)("fromPromise.reject",function(z){var k=C(Promise.reject(z));return k.state="rejected",k.value=z,k}),C.resolve=Object(s.k)("fromPromise.resolve",function(z){z===void 0&&(z=void 0);var k=C(Promise.resolve(z));return k.state="fulfilled",k.value=z,k})})(S||(S={}));var P=function(C,z,k,L){var H,Q=arguments.length,Z=Q<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(C,z,k,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(Z=(Q<3?H(Z):Q>3?H(z,k,Z):H(z,k))||Z);return Q>3&&Z&&Object.defineProperty(z,k,Z),Z};(function(){function C(z,k){var L=this;Object(s.G)(function(){L.current=k,L.subscription=z.subscribe(L)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(z){this.current=z},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(z){this.current=z,this.dispose()},P([s.C.ref],C.prototype,"current",void 0),P([s.k.bound],C.prototype,"next",null),P([s.k.bound],C.prototype,"complete",null),P([s.k.bound],C.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(C){for(var z,k=1,L=arguments.length;k<L;k++)for(var H in z=arguments[k])Object.prototype.hasOwnProperty.call(z,H)&&(C[H]=z[H]);return C}).apply(this,arguments)},R=function(C,z,k,L){var H,Q=arguments.length,Z=Q<3?z:L===null?L=Object.getOwnPropertyDescriptor(z,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(C,z,k,L);else for(var ue=C.length-1;ue>=0;ue--)(H=C[ue])&&(Z=(Q<3?H(Z):Q>3?H(z,k,Z):H(z,k))||Z);return Q>3&&Z&&Object.defineProperty(z,k,Z),Z},F=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(z){var k=this;this.model=z,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(L){return k.localValues.has(L)},m(Object(s.A)(z),"createViewModel expects an observable object"),w(z).forEach(function(L){if(L!==s.a&&L!=="__mobxDidRunLazyInitializers"){if(m(F.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(s.w)(z,L)){var H=Object(s.h)(z,L).derivation;k.localComputedValues.set(L,Object(s.m)(H.bind(k)))}var Q=Object.getOwnPropertyDescriptor(z,L),Z=Q?{enumerable:Q.enumerable}:{};Object.defineProperty(k,L,N(N({},Z),{configurable:!0,get:function(){return Object(s.w)(z,L)?k.localComputedValues.get(L).get():k.isPropertyDirty(L)?k.localValues.get(L):k.model[L]},set:Object(s.k)(function(ue){ue!==k.model[L]?k.localValues.set(L,ue):k.localValues.delete(L)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var z=this;Object(s.B)(this.localValues).forEach(function(k){var L=z.localValues.get(k),H=z.model[k];Object(s.y)(H)?H.replace(L):Object(s.z)(H)?(H.clear(),H.merge(L)):Object(s.v)(L)||(z.model[k]=L)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(z){this.localValues.delete(z)},R([s.m],C.prototype,"isDirty",null),R([s.m],C.prototype,"changedValues",null),R([s.k.bound],C.prototype,"submit",null),R([s.k.bound],C.prototype,"reset",null),R([s.k.bound],C.prototype,"resetProperty",null)})();function U(C){if(!C)return"ROOT";for(var z=[];C.parent;)z.push(C.path),C=C.parent;return z.reverse().join("/")}function B(C){return Object(s.A)(C)||Object(s.y)(C)||Object(s.z)(C)}function Y(C,z){var k=new WeakMap;function L(Z){var ue=k.get(Z.object);(function(be,me){switch(be.type){case"add":H(be.newValue,me,be.name);break;case"update":Q(be.oldValue),H(be.newValue,me,be.name||""+be.index);break;case"remove":case"delete":Q(be.oldValue);break;case"splice":be.removed.map(Q),be.added.forEach(function(pe,se){return H(pe,me,""+(be.index+se))});for(var de=be.index+be.addedCount;de<be.object.length;de++)if(B(be.object[de])){var he=k.get(be.object[de]);he&&(he.path=""+de)}}})(Z,ue),z(Z,U(ue),C)}function H(Z,ue,be){if(B(Z)){var me=k.get(Z);if(me){if(me.parent!==ue||me.path!==be)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+U(ue)+"/"+be+"', but it already exists at '"+U(me.parent)+"/"+me.path+"'")}else{var de={parent:ue,path:be,dispose:Object(s.D)(Z,L)};k.set(Z,de),Object(s.p)(Z).forEach(function(he){var pe=he[0];return H(he[1],de,pe)})}}}function Q(Z){if(B(Z)){var ue=k.get(Z);if(!ue)return;k.delete(Z),ue.dispose(),Object(s.L)(Z).forEach(Q)}}return H(C,void 0,""),function(){Q(C)}}var K,V=(K=function(C,z){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var H in L)L.hasOwnProperty(H)&&(k[H]=L[H])})(C,z)},function(C,z){function k(){this.constructor=C}K(C,z),C.prototype=z===null?Object.create(z):(k.prototype=z.prototype,new k)});(function(C){function z(k,L,H){var Q=H===void 0?{}:H,Z=Q.name,ue=Z===void 0?"ogm"+(1e3*Math.random()|0):Z,be=Q.keyToName,me=be===void 0?function(pe){return""+pe}:be,de=C.call(this)||this;de._keyToName=me,de._groupBy=L,de._ogmInfoKey=Symbol("ogmInfo"+ue),de._base=k;for(var he=0;he<k.length;he++)de._addItem(k[he]);return de._disposeBaseObserver=Object(s.D)(de._base,function(pe){if(pe.type==="splice")Object(s.J)(function(){for(var se=0,_e=pe.removed;se<_e.length;se++){var xe=_e[se];de._removeItem(xe)}for(var ke=0,Re=pe.added;ke<Re.length;ke++){var Ge=Re[ke];de._addItem(Ge)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){de._removeItem(pe.oldValue),de._addItem(pe.newValue)})}}),de}V(z,C),z.prototype.clear=function(){throw new Error("not supported")},z.prototype.delete=function(k){throw new Error("not supported")},z.prototype.set=function(k,L){throw new Error("not supported")},z.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var L=this._base[k];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},z.prototype._getGroupArr=function(k){var L=C.prototype.get.call(this,k);return L===void 0&&(L=Object(s.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),C.prototype.set.call(this,k,L)),L},z.prototype._removeFromGroupArr=function(k,L){var H=C.prototype.get.call(this,k);H.length===1?C.prototype.delete.call(this,k):(L===H.length-1||(H[L]=H[H.length-1],H[L][this._ogmInfoKey].groupArrIndex=L),H.length--)},z.prototype._addItem=function(k){var L=this,H=this._groupBy(k),Q=this._getGroupArr(H),Z={groupByValue:H,groupArrIndex:Q.length,reaction:Object(s.F)(function(){return L._groupBy(k)},function(ue,be){var me=k[L._ogmInfoKey];L._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var de=L._getGroupArr(ue),he=de.length;de.push(k),me.groupByValue=ue,me.groupArrIndex=he})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),Q.push(k)},z.prototype._removeItem=function(k){var L=k[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete k[this._ogmInfoKey]}})(s.b),function(){function C(z,k){this.base=z,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=z,H=0;H<this.args.length-1&&(L=L.get(k[H]));H++)this.closest=L;this.closestIdx=H}return C.prototype.exists=function(){this.assertNotDisposed();var z=this.args.length;return this.closestIdx>=z-1&&this.closest.has(this.args[z-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(z){this.assertNotDisposed();for(var k=this.args.length,L=this.closest,H=this.closestIdx;H<k-1;H++){var Q=new Map;L.set(this.args[H],Q),L=Q}this.closestIdx=k-1,this.closest=L,L.set(this.args[k-1],z)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var z=this.args.length;this.closest.delete(this.args[z-1]);for(var k=this.root,L=[k],H=0;H<z-1;H++)k=k.get(this.args[H]),L.push(k);for(H=L.length-1;H>0;H--)L[H].size===0&&L[H-1].delete(this.args[H-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,i(155))},function(c,p,i){var f;(function(s,g,m){if(s){for(var _,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)w[111+N]="f"+N;for(N=0;N<=9;++N)w[N+96]=N.toString();K.prototype.bind=function(V,C,z){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,C,z),this},K.prototype.unbind=function(V,C){return this.bind.call(this,V,function(){},C)},K.prototype.trigger=function(V,C){return this._directMap[V+":"+C]&&this._directMap[V+":"+C]({},V),this},K.prototype.reset=function(){return this._callbacks={},this._directMap={},this},K.prototype.stopCallback=function(V,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function k(L,H){return L!==null&&L!==g&&(L===H||k(L.parentNode,H))}(C,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var z=V.composedPath()[0];z!==V.target&&(C=z)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},K.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},K.addKeycodes=function(V){for(var C in V)V.hasOwnProperty(C)&&(w[C]=V[C]);_=null},K.init=function(){var V=K(g);for(var C in V)C.charAt(0)!=="_"&&(K[C]=function(z){return function(){return V[z].apply(V,arguments)}}(C))},K.init(),s.Mousetrap=K,c.exports&&(c.exports=K),(f=function(){return K}.call(p,i,p,c))===void 0||(c.exports=f)}function R(V,C,z){V.addEventListener?V.addEventListener(C,z,!1):V.attachEvent("on"+C,z)}function F(V){if(V.type=="keypress"){var C=String.fromCharCode(V.which);return V.shiftKey||(C=C.toLowerCase()),C}return w[V.which]?w[V.which]:j[V.which]?j[V.which]:String.fromCharCode(V.which).toLowerCase()}function U(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function B(V,C,z){return z||(z=function(){if(!_)for(var k in _={},w)k>95&&k<112||w.hasOwnProperty(k)&&(_[w[k]]=k);return _}()[V]?"keydown":"keypress"),z=="keypress"&&C.length&&(z="keydown"),z}function Y(V,C){var z,k,L,H=[];for(z=function(Q){return Q==="+"?["+"]:(Q=Q.replace(/\+{2}/g,"+plus")).split("+")}(V),L=0;L<z.length;++L)k=z[L],P[k]&&(k=P[k]),C&&C!="keypress"&&S[k]&&(k=S[k],H.push("shift")),U(k)&&H.push(k);return{key:k,modifiers:H,action:C=B(k,H,C)}}function K(V){var C=this;if(V=V||g,!(C instanceof K))return new K(V);C.target=V,C._callbacks={},C._directMap={};var z,k={},L=!1,H=!1,Q=!1;function Z(pe){pe=pe||{};var se,_e=!1;for(se in k)pe[se]?_e=!0:k[se]=0;_e||(Q=!1)}function ue(pe,se,_e,xe,ke,Re){var Ge,Ae,Ye,st,$=[],J=_e.type;if(!C._callbacks[pe])return[];for(J=="keyup"&&U(pe)&&(se=[pe]),Ge=0;Ge<C._callbacks[pe].length;++Ge)if(Ae=C._callbacks[pe][Ge],(xe||!Ae.seq||k[Ae.seq]==Ae.level)&&J==Ae.action&&(J=="keypress"&&!_e.metaKey&&!_e.ctrlKey||(Ye=se,st=Ae.modifiers,Ye.sort().join(",")===st.sort().join(",")))){var ae=!xe&&Ae.combo==ke,ve=xe&&Ae.seq==xe&&Ae.level==Re;(ae||ve)&&C._callbacks[pe].splice(Ge,1),$.push(Ae)}return $}function be(pe,se,_e,xe){C.stopCallback(se,se.target||se.srcElement,_e,xe)||pe(se,_e)===!1&&(function(ke){ke.preventDefault?ke.preventDefault():ke.returnValue=!1}(se),function(ke){ke.stopPropagation?ke.stopPropagation():ke.cancelBubble=!0}(se))}function me(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var se=F(pe);se&&(pe.type!="keyup"||L!==se?C.handleKey(se,function(_e){var xe=[];return _e.shiftKey&&xe.push("shift"),_e.altKey&&xe.push("alt"),_e.ctrlKey&&xe.push("ctrl"),_e.metaKey&&xe.push("meta"),xe}(pe),pe):L=!1)}function de(pe,se,_e,xe){function ke(Ye){return function(){Q=Ye,++k[pe],clearTimeout(z),z=setTimeout(Z,1e3)}}function Re(Ye){be(_e,Ye,pe),xe!=="keyup"&&(L=F(Ye)),setTimeout(Z,10)}k[pe]=0;for(var Ge=0;Ge<se.length;++Ge){var Ae=Ge+1===se.length?Re:ke(xe||Y(se[Ge+1]).action);he(se[Ge],Ae,xe,pe,Ge)}}function he(pe,se,_e,xe,ke){C._directMap[pe+":"+_e]=se;var Re,Ge=(pe=pe.replace(/\s+/g," ")).split(" ");Ge.length>1?de(pe,Ge,se,_e):(Re=Y(pe,_e),C._callbacks[Re.key]=C._callbacks[Re.key]||[],ue(Re.key,Re.modifiers,{type:Re.action},xe,pe,ke),C._callbacks[Re.key][xe?"unshift":"push"]({callback:se,modifiers:Re.modifiers,action:Re.action,seq:xe,level:ke,combo:pe}))}C._handleKey=function(pe,se,_e){var xe,ke=ue(pe,se,_e),Re={},Ge=0,Ae=!1;for(xe=0;xe<ke.length;++xe)ke[xe].seq&&(Ge=Math.max(Ge,ke[xe].level));for(xe=0;xe<ke.length;++xe)if(ke[xe].seq){if(ke[xe].level!=Ge)continue;Ae=!0,Re[ke[xe].seq]=1,be(ke[xe].callback,_e,ke[xe].combo,ke[xe].seq)}else Ae||be(ke[xe].callback,_e,ke[xe].combo);var Ye=_e.type=="keypress"&&H;_e.type!=Q||U(pe)||Ye||Z(Re),H=Ae&&_e.type=="keydown"},C._bindMultiple=function(pe,se,_e){for(var xe=0;xe<pe.length;++xe)he(pe[xe],se,_e)},R(V,"keypress",me),R(V,"keydown",me),R(V,"keyup",me)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,i){var f=i(36),s=i(37),g=i(32),m=i(39),_=i(66);c.exports=f?Object.defineProperties:function(w,j){g(w);for(var S,P=m(j),N=_(j),R=N.length,F=0;R>F;)s.f(w,S=N[F++],P[S]);return w}},function(c,p,i){var f=i(7),s=i(35),g=i(28),m=i(33),_=f.TypeError;c.exports=function(w,j){var S,P;if(j==="string"&&g(S=w.toString)&&!m(P=s(S,w))||g(S=w.valueOf)&&!m(P=s(S,w))||j!=="string"&&g(S=w.toString)&&!m(P=s(S,w)))return P;throw _("Can't convert object to primitive value")}},function(c,p,i){var f=i(7),s=i(28),g=i(91),m=f.WeakMap;c.exports=s(m)&&/native code/.test(g(m))},function(c,p,i){var f=i(136).IteratorPrototype,s=i(54),g=i(71),m=i(73),_=i(70),w=function(){return this};c.exports=function(j,S,P,N){var R=S+" Iterator";return j.prototype=s(f,{next:g(+!N,P)}),m(j,R,!1,!0),_[R]=w,j}},function(c,p,i){var f=i(7),s=i(28),g=f.String,m=f.TypeError;c.exports=function(_){if(typeof _=="object"||s(_))return _;throw m("Can't set "+g(_)+" as a prototype")}},function(c,p,i){var f=i(16),s=i(7),g=i(15),m=i(94),_=i(44),w=i(138),j=i(114),S=i(117),P=i(28),N=i(33),R=i(18),F=i(118),U=i(73),B=i(143);c.exports=function(Y,K,V){var C=Y.indexOf("Map")!==-1,z=Y.indexOf("Weak")!==-1,k=C?"set":"add",L=s[Y],H=L&&L.prototype,Q=L,Z={},ue=function(se){var _e=g(H[se]);_(H,se,se=="add"?function(xe){return _e(this,xe===0?0:xe),this}:se=="delete"?function(xe){return!(z&&!N(xe))&&_e(this,xe===0?0:xe)}:se=="get"?function(xe){return z&&!N(xe)?void 0:_e(this,xe===0?0:xe)}:se=="has"?function(xe){return!(z&&!N(xe))&&_e(this,xe===0?0:xe)}:function(xe,ke){return _e(this,xe===0?0:xe,ke),this})};if(m(Y,!P(L)||!(z||H.forEach&&!R(function(){new L().entries().next()}))))Q=V.getConstructor(K,Y,C,k),w.enable();else if(m(Y,!0)){var be=new Q,me=be[k](z?{}:-0,1)!=be,de=R(function(){be.has(1)}),he=F(function(se){new L(se)}),pe=!z&&R(function(){for(var se=new L,_e=5;_e--;)se[k](_e,_e);return!se.has(-0)});he||((Q=K(function(se,_e){S(se,H);var xe=B(new L,se,Q);return _e!=null&&j(_e,xe[k],{that:xe,AS_ENTRIES:C}),xe})).prototype=H,H.constructor=Q),(de||pe)&&(ue("delete"),ue("has"),C&&ue("get")),(pe||me)&&ue(k),z&&H.clear&&delete H.clear}return Z[Y]=Q,f({global:!0,forced:Q!=L},Z),U(Q,Y),z||V.setStrong(Q,Y,C),Q}},function(c,p,i){var f=i(18),s=i(33),g=i(50),m=i(174),_=Object.isExtensible,w=f(function(){});c.exports=w||m?function(j){return!!s(j)&&(!m||g(j)!="ArrayBuffer")&&(!_||_(j))}:_},function(c,p,i){var f=i(18);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,i){var f=i(18);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,i){var f=i(37).f,s=i(54),g=i(144),m=i(62),_=i(117),w=i(114),j=i(111),S=i(145),P=i(36),N=i(138).fastKey,R=i(56),F=R.set,U=R.getterFor;c.exports={getConstructor:function(B,Y,K,V){var C=B(function(Q,Z){_(Q,z),F(Q,{type:Y,index:s(null),first:void 0,last:void 0,size:0}),P||(Q.size=0),Z!=null&&w(Z,Q[V],{that:Q,AS_ENTRIES:K})}),z=C.prototype,k=U(Y),L=function(Q,Z,ue){var be,me,de=k(Q),he=H(Q,Z);return he?he.value=ue:(de.last=he={index:me=N(Z,!0),key:Z,value:ue,previous:be=de.last,next:void 0,removed:!1},de.first||(de.first=he),be&&(be.next=he),P?de.size++:Q.size++,me!=="F"&&(de.index[me]=he)),Q},H=function(Q,Z){var ue,be=k(Q),me=N(Z);if(me!=="F")return be.index[me];for(ue=be.first;ue;ue=ue.next)if(ue.key==Z)return ue};return g(z,{clear:function(){for(var Q=k(this),Z=Q.index,ue=Q.first;ue;)ue.removed=!0,ue.previous&&(ue.previous=ue.previous.next=void 0),delete Z[ue.index],ue=ue.next;Q.first=Q.last=void 0,P?Q.size=0:this.size=0},delete:function(Q){var Z=k(this),ue=H(this,Q);if(ue){var be=ue.next,me=ue.previous;delete Z.index[ue.index],ue.removed=!0,me&&(me.next=be),be&&(be.previous=me),Z.first==ue&&(Z.first=be),Z.last==ue&&(Z.last=me),P?Z.size--:this.size--}return!!ue},forEach:function(Q){for(var Z,ue=k(this),be=m(Q,arguments.length>1?arguments[1]:void 0);Z=Z?Z.next:ue.first;)for(be(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(Q){return!!H(this,Q)}}),g(z,K?{get:function(Q){var Z=H(this,Q);return Z&&Z.value},set:function(Q,Z){return L(this,Q===0?0:Q,Z)}}:{add:function(Q){return L(this,Q=Q===0?0:Q,Q)}}),P&&f(z,"size",{get:function(){return k(this).size}}),C},setStrong:function(B,Y,K){var V=Y+" Iterator",C=U(Y),z=U(V);j(B,Y,function(k,L){F(this,{type:V,target:k,state:C(k),kind:L,last:void 0})},function(){for(var k=z(this),L=k.kind,H=k.last;H&&H.removed;)H=H.previous;return k.target&&(k.last=H=H?H.next:k.state.first)?L=="keys"?{value:H.key,done:!1}:L=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},K?"entries":"values",!K,!0),S(Y)}}},function(c,p,i){var f=i(116),s=i(97);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,i){var f=i(74).forEach,s=i(120)("forEach");c.exports=s?[].forEach:function(g){return f(this,g,arguments.length>1?arguments[1]:void 0)}},function(c,p,i){var f=i(7),s=i(98),g=i(99),m=i(33),_=i(27)("species"),w=f.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(g(S)&&(S===w||s(S.prototype))||m(S)&&(S=S[_])===null)&&(S=void 0)),S===void 0?w:S}},function(c,p,i){var f=i(7);c.exports=f},function(c,p,i){var f=i(7),s=i(62),g=i(35),m=i(38),_=i(182),w=i(140),j=i(99),S=i(43),P=i(61),N=i(141),R=i(115),F=f.Array;c.exports=function(U){var B=m(U),Y=j(this),K=arguments.length,V=K>1?arguments[1]:void 0,C=V!==void 0;C&&(V=s(V,K>2?arguments[2]:void 0));var z,k,L,H,Q,Z,ue=R(B),be=0;if(!ue||this==F&&w(ue))for(z=S(B),k=Y?new this(z):F(z);z>be;be++)Z=C?V(B[be],be):B[be],P(k,be,Z);else for(Q=(H=N(B,ue)).next,k=Y?new this:[];!(L=g(Q,H)).done;be++)Z=C?_(H,V,[L.value,be],!0):L.value,P(k,be,Z);return k.length=be,k}},function(c,p,i){var f=i(32),s=i(142);c.exports=function(g,m,_,w){try{return w?m(f(_)[0],_[1]):m(_)}catch(j){s(g,"throw",j)}}},function(c,p,i){var f=i(32);c.exports=function(){var s=f(this),g="";return s.global&&(g+="g"),s.ignoreCase&&(g+="i"),s.multiline&&(g+="m"),s.dotAll&&(g+="s"),s.unicode&&(g+="u"),s.sticky&&(g+="y"),g}},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var g=s(".","s");return!(g.dotAll&&g.exec(`
`)&&g.flags==="s")})},function(c,p,i){var f=i(18),s=i(7).RegExp;c.exports=f(function(){var g=s("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},function(c,p,i){var f=i(16),s=i(15),g=i(55),m=i(38),_=i(43),w=i(40),j=i(18),S=i(187),P=i(120),N=i(188),R=i(189),F=i(65),U=i(190),B=[],Y=s(B.sort),K=s(B.push),V=j(function(){B.sort(void 0)}),C=j(function(){B.sort(null)}),z=P("sort"),k=!j(function(){if(F)return F<70;if(!(N&&N>3)){if(R)return!0;if(U)return U<603;var L,H,Q,Z,ue="";for(L=65;L<76;L++){switch(H=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(Z=0;Z<47;Z++)B.push({k:H+Z,v:Q})}for(B.sort(function(be,me){return me.v-be.v}),Z=0;Z<B.length;Z++)H=B[Z].k.charAt(0),ue.charAt(ue.length-1)!==H&&(ue+=H);return ue!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:V||!C||!z||!k},{sort:function(L){L!==void 0&&g(L);var H=m(this);if(k)return L===void 0?Y(H):Y(H,L);var Q,Z,ue=[],be=_(H);for(Z=0;Z<be;Z++)Z in H&&K(ue,H[Z]);for(S(ue,function(me){return function(de,he){return he===void 0?-1:de===void 0?1:me!==void 0?+me(de,he)||0:w(de)>w(he)?1:-1}}(L)),Q=ue.length,Z=0;Z<Q;)H[Z]=ue[Z++];for(;Z<be;)delete H[Z++];return H}})},function(c,p,i){var f=i(113),s=Math.floor,g=function(w,j){var S=w.length,P=s(S/2);return S<8?m(w,j):_(w,g(f(w,0,P),j),g(f(w,P),j),j)},m=function(w,j){for(var S,P,N=w.length,R=1;R<N;){for(P=R,S=w[R];P&&j(w[P-1],S)>0;)w[P]=w[--P];P!==R++&&(w[P]=S)}return w},_=function(w,j,S,P){for(var N=j.length,R=S.length,F=0,U=0;F<N||U<R;)w[F+U]=F<N&&U<R?P(j[F],S[U])<=0?j[F++]:S[U++]:F<N?j[F++]:S[U++];return w};c.exports=g},function(c,p,i){var f=i(53).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(53);c.exports=/MSIE|Trident/.test(f)},function(c,p,i){var f=i(53).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,i){var f=i(16),s=i(74).find,g=i(82),m=!0;"find"in[]&&Array(1).find(function(){m=!1}),f({target:"Array",proto:!0,forced:m},{find:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),g("find")},function(c,p,i){var f=i(7),s=i(154),g=f.TypeError;c.exports=function(m){if(s(m))throw g("The method doesn't accept regular expressions");return m}},function(c,p,i){var f=i(27)("match");c.exports=function(s){var g=/./;try{"/./"[s](g)}catch(m){try{return g[f]=!1,"/./"[s](g)}catch(_){}}return!1}},function(c,p,i){var f=i(16),s=i(158).trim;f({target:"String",proto:!0,forced:i(195)("trim")},{trim:function(){return s(this)}})},function(c,p,i){var f=i(93).PROPER,s=i(18),g=i(159);c.exports=function(m){return s(function(){return!!g[m]()||"\u200B\x85\u180E"[m]()!=="\u200B\x85\u180E"||f&&g[m].name!==m})}},function(c,p,i){var f=i(15);c.exports=f(1 .valueOf)},function(c,p,i){var f=i(15),s=i(38),g=Math.floor,m=f("".charAt),_=f("".replace),w=f("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,N,R,F,U,B){var Y=R+P.length,K=F.length,V=S;return U!==void 0&&(U=s(U),V=j),_(B,V,function(C,z){var k;switch(m(z,0)){case"$":return"$";case"&":return P;case"`":return w(N,0,R);case"'":return w(N,Y);case"<":k=U[w(z,1,-1)];break;default:var L=+z;if(L===0)return C;if(L>K){var H=g(L/10);return H===0?C:H<=K?F[H-1]===void 0?m(z,1):F[H-1]+m(z,1):C}k=F[L-1]}return k===void 0?"":k})}},function(c,p,i){var f=i(7),s=i(15),g=i(55),m=i(33),_=i(34),w=i(100),j=f.Function,S=s([].concat),P=s([].join),N={},R=function(F,U,B){if(!_(N,U)){for(var Y=[],K=0;K<U;K++)Y[K]="a["+K+"]";N[U]=j("C,a","return new C("+P(Y,",")+")")}return N[U](F,B)};c.exports=j.bind||function(F){var U=g(this),B=U.prototype,Y=w(arguments,1),K=function(){var V=S(Y,w(arguments));return this instanceof K?R(U,V.length,V):U.apply(F,V)};return m(B)&&(K.prototype=B),K}},function(c,p,i){var f=i(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,i){var f=i(36),s=i(15),g=i(35),m=i(18),_=i(66),w=i(112),j=i(92),S=i(38),P=i(80),N=Object.assign,R=Object.defineProperty,F=s([].concat);c.exports=!N||m(function(){if(f&&N({b:1},N(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},B={},Y=Symbol();return U[Y]=7,"abcdefghijklmnopqrst".split("").forEach(function(K){B[K]=K}),N({},U)[Y]!=7||_(N({},B)).join("")!="abcdefghijklmnopqrst"})?function(U,B){for(var Y=S(U),K=arguments.length,V=1,C=w.f,z=j.f;K>V;)for(var k,L=P(arguments[V++]),H=C?F(_(L),C(L)):_(L),Q=H.length,Z=0;Q>Z;)k=H[Z++],f&&!g(z,L,k)||(Y[k]=L[k]);return Y}:N},function(c,p,i){var f=i(15),s=i(45),g=i(40),m=/"/g,_=f("".replace);c.exports=function(w,j,S,P){var N=g(s(w)),R="<"+j;return S!==""&&(R+=" "+S+'="'+_(g(P),m,"&quot;")+'"'),R+">"+N+"</"+j+">"}},function(c,p,i){var f=i(18);c.exports=function(s){return f(function(){var g=""[s]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},function(c,p,i){var f=i(16),s=Math.hypot,g=Math.abs,m=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(_,w){for(var j,S,P=0,N=0,R=arguments.length,F=0;N<R;)F<(j=g(arguments[N++]))?(P=P*(S=F/j)*S+1,F=j):P+=j>0?(S=j/F)*S:j;return F===1/0?1/0:F*m(P)}})},function(c,p,i){var f,s,g,m,_=i(16),w=i(64),j=i(7),S=i(46),P=i(35),N=i(205),R=i(44),F=i(144),U=i(96),B=i(73),Y=i(145),K=i(55),V=i(28),C=i(33),z=i(117),k=i(91),L=i(114),H=i(118),Q=i(156),Z=i(161).set,ue=i(206),be=i(209),me=i(210),de=i(163),he=i(211),pe=i(56),se=i(94),_e=i(27),xe=i(212),ke=i(126),Re=i(65),Ge=_e("species"),Ae="Promise",Ye=pe.getterFor(Ae),st=pe.set,$=pe.getterFor(Ae),J=N&&N.prototype,ae=N,ve=J,Me=j.TypeError,we=j.document,We=j.process,Xe=de.f,et=Xe,qe=!!(we&&we.createEvent&&j.dispatchEvent),ye=V(j.PromiseRejectionEvent),q=!1,ze=se(Ae,function(){var ne=k(ae),je=ne!==String(ae);if(!je&&Re===66||w&&!ve.finally)return!0;if(Re>=51&&/native code/.test(ne))return!1;var Se=new ae(function(Ue){Ue(1)}),Te=function(Ue){Ue(function(){},function(){})};return(Se.constructor={})[Ge]=Te,!(q=Se.then(function(){})instanceof Te)||!je&&xe&&!ye}),Fe=ze||!H(function(ne){ae.all(ne).catch(function(){})}),Ke=function(ne){var je;return!(!C(ne)||!V(je=ne.then))&&je},At=function(ne,je){if(!ne.notified){ne.notified=!0;var Se=ne.reactions;ue(function(){for(var Te=ne.value,Ue=ne.state==1,gt=0;Se.length>gt;){var wt,Wt,Jt,ut=Se[gt++],Ne=Ue?ut.ok:ut.fail,Ve=ut.resolve,$e=ut.reject,nt=ut.domain;try{Ne?(Ue||(ne.rejection===2&&Rt(ne),ne.rejection=1),Ne===!0?wt=Te:(nt&&nt.enter(),wt=Ne(Te),nt&&(nt.exit(),Jt=!0)),wt===ut.promise?$e(Me("Promise-chain cycle")):(Wt=Ke(wt))?P(Wt,wt,Ve,$e):Ve(wt)):$e(Te)}catch(xt){nt&&!Jt&&nt.exit(),$e(xt)}}ne.reactions=[],ne.notified=!1,je&&!ne.rejection&&lt(ne)})}},at=function(ne,je,Se){var Te,Ue;qe?((Te=we.createEvent("Event")).promise=je,Te.reason=Se,Te.initEvent(ne,!1,!0),j.dispatchEvent(Te)):Te={promise:je,reason:Se},!ye&&(Ue=j["on"+ne])?Ue(Te):ne==="unhandledrejection"&&me("Unhandled promise rejection",Se)},lt=function(ne){P(Z,j,function(){var je,Se=ne.facade,Te=ne.value;if(yt(ne)&&(je=he(function(){ke?We.emit("unhandledRejection",Te,Se):at("unhandledrejection",Se,Te)}),ne.rejection=ke||yt(ne)?2:1,je.error))throw je.value})},yt=function(ne){return ne.rejection!==1&&!ne.parent},Rt=function(ne){P(Z,j,function(){var je=ne.facade;ke?We.emit("rejectionHandled",je):at("rejectionhandled",je,ne.value)})},G=function(ne,je,Se){return function(Te){ne(je,Te,Se)}},te=function(ne,je,Se){ne.done||(ne.done=!0,Se&&(ne=Se),ne.value=je,ne.state=2,At(ne,!0))},fe=function(ne,je,Se){if(!ne.done){ne.done=!0,Se&&(ne=Se);try{if(ne.facade===je)throw Me("Promise can't be resolved itself");var Te=Ke(je);Te?ue(function(){var Ue={done:!1};try{P(Te,je,G(fe,Ue,ne),G(te,Ue,ne))}catch(gt){te(Ue,gt,ne)}}):(ne.value=je,ne.state=1,At(ne,!1))}catch(Ue){te({done:!1},Ue,ne)}}};if(ze&&(ve=(ae=function(ne){z(this,ve),K(ne),P(f,this);var je=Ye(this);try{ne(G(fe,je),G(te,je))}catch(Se){te(je,Se)}}).prototype,(f=function(ne){st(this,{type:Ae,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=F(ve,{then:function(ne,je){var Se=$(this),Te=Se.reactions,Ue=Xe(Q(this,ae));return Ue.ok=!V(ne)||ne,Ue.fail=V(je)&&je,Ue.domain=ke?We.domain:void 0,Se.parent=!0,Te[Te.length]=Ue,Se.state!=0&&At(Se,!1),Ue.promise},catch:function(ne){return this.then(void 0,ne)}}),s=function(){var ne=new f,je=Ye(ne);this.promise=ne,this.resolve=G(fe,je),this.reject=G(te,je)},de.f=Xe=function(ne){return ne===ae||ne===g?new s(ne):et(ne)},!w&&V(N)&&J!==Object.prototype)){m=J.then,q||(R(J,"then",function(ne,je){var Se=this;return new ae(function(Te,Ue){P(m,Se,Te,Ue)}).then(ne,je)},{unsafe:!0}),R(J,"catch",ve.catch,{unsafe:!0}));try{delete J.constructor}catch(ne){}U&&U(J,ve)}_({global:!0,wrap:!0,forced:ze},{Promise:ae}),B(ae,Ae,!1,!0),Y(Ae),g=S(Ae),_({target:Ae,stat:!0,forced:ze},{reject:function(ne){var je=Xe(this);return P(je.reject,void 0,ne),je.promise}}),_({target:Ae,stat:!0,forced:w||ze},{resolve:function(ne){return be(w&&this===g?ae:this,ne)}}),_({target:Ae,stat:!0,forced:Fe},{all:function(ne){var je=this,Se=Xe(je),Te=Se.resolve,Ue=Se.reject,gt=he(function(){var wt=K(je.resolve),Wt=[],Jt=0,ut=1;L(ne,function(Ne){var Ve=Jt++,$e=!1;ut++,P(wt,je,Ne).then(function(nt){$e||($e=!0,Wt[Ve]=nt,--ut||Te(Wt))},Ue)}),--ut||Te(Wt)});return gt.error&&Ue(gt.value),Se.promise},race:function(ne){var je=this,Se=Xe(je),Te=Se.reject,Ue=he(function(){var gt=K(je.resolve);L(ne,function(wt){P(gt,je,wt).then(Se.resolve,Te)})});return Ue.error&&Te(Ue.value),Se.promise}})},function(c,p,i){var f=i(7);c.exports=f.Promise},function(c,p,i){var f,s,g,m,_,w,j,S,P=i(7),N=i(62),R=i(51).f,F=i(161).set,U=i(162),B=i(207),Y=i(208),K=i(126),V=P.MutationObserver||P.WebKitMutationObserver,C=P.document,z=P.process,k=P.Promise,L=R(P,"queueMicrotask"),H=L&&L.value;H||(f=function(){var Q,Z;for(K&&(Q=z.domain)&&Q.exit();s;){Z=s.fn,s=s.next;try{Z()}catch(ue){throw s?m():g=void 0,ue}}g=void 0,Q&&Q.enter()},U||K||Y||!V||!C?!B&&k&&k.resolve?((j=k.resolve(void 0)).constructor=k,S=N(j.then,j),m=function(){S(f)}):K?m=function(){z.nextTick(f)}:(F=N(F,P),m=function(){F(f)}):(_=!0,w=C.createTextNode(""),new V(f).observe(w,{characterData:!0}),m=function(){w.data=_=!_})),c.exports=H||function(Q){var Z={fn:Q,next:void 0};g&&(g.next=Z),s||(s=Z,m()),g=Z}},function(c,p,i){var f=i(53),s=i(7);c.exports=/ipad|iphone|ipod/i.test(f)&&s.Pebble!==void 0},function(c,p,i){var f=i(53);c.exports=/web0s(?!.*chrome)/i.test(f)},function(c,p,i){var f=i(32),s=i(33),g=i(163);c.exports=function(m,_){if(f(m),s(_)&&_.constructor===m)return _;var w=g.f(m);return(0,w.resolve)(_),w.promise}},function(c,p,i){var f=i(7);c.exports=function(s,g){var m=f.console;m&&m.error&&(arguments.length==1?m.error(s):m.error(s,g))}},function(c,p){c.exports=function(i){try{return{error:!1,value:i()}}catch(f){return{error:!0,value:f}}}},function(c,p){c.exports=typeof window=="object"},function(c,p,i){var f=i(36),s=i(15),g=i(66),m=i(39),_=s(i(92).f),w=s([].push),j=function(S){return function(P){for(var N,R=m(P),F=g(R),U=F.length,B=0,Y=[];U>B;)N=F[B++],f&&!_(R,N)||w(Y,S?[N,R[N]]:R[N]);return Y}};c.exports={entries:j(!0),values:j(!1)}},function(c,p,i){var f=i(38),s=i(67),g=i(43);c.exports=function(m){for(var _=f(this),w=g(_),j=arguments.length,S=s(j>1?arguments[1]:void 0,w),P=j>2?arguments[2]:void 0,N=P===void 0?w:s(P,w);N>S;)_[S++]=m;return _}},function(c,p,i){i.r(p),i.d(p,"observer",function(){return zn}),i.d(p,"LogicFlow",function(){return qc}),i.d(p,"h",function(){return q.g}),i.d(p,"LogicFlowUtil",function(){return f}),i.d(p,"BaseNode",function(){return hr}),i.d(p,"RectNode",function(){return dc}),i.d(p,"CircleNode",function(){return yc}),i.d(p,"PolygonNode",function(){return gc}),i.d(p,"DiamondNode",function(){return mc}),i.d(p,"EllipseNode",function(){return _c}),i.d(p,"TextNode",function(){return xc}),i.d(p,"HtmlNode",function(){return jc}),i.d(p,"BaseEdge",function(){return di}),i.d(p,"LineEdge",function(){return Rc}),i.d(p,"PolylineEdge",function(){return zc}),i.d(p,"BezierEdge",function(){return Hc}),i.d(p,"Arrow",function(){return Wh}),i.d(p,"BaseEdgeModel",function(){return Su}),i.d(p,"BezierEdgeModel",function(){return qu}),i.d(p,"LineEdgeModel",function(){return Au}),i.d(p,"PolylineEdgeModel",function(){return Mu}),i.d(p,"BaseNodeModel",function(){return pr}),i.d(p,"CircleNodeModel",function(){return Ju}),i.d(p,"DiamondNodeModel",function(){return ec}),i.d(p,"EllipseNodeModel",function(){return tc}),i.d(p,"PolygonNodeModel",function(){return rc}),i.d(p,"RectNodeModel",function(){return oc}),i.d(p,"TextNodeModel",function(){return ic}),i.d(p,"HtmlNodeModel",function(){return uc}),i.d(p,"EditConfigModel",function(){return Cs}),i.d(p,"GraphModel",function(){return Ef}),i.d(p,"SnaplineModel",function(){return qd}),i.d(p,"Keyboard",function(){return Ly}),i.d(p,"get",function(){return bp}),i.d(p,"defaults",function(){return Op});var f={};i.r(f),i.d(f,"createUuid",function(){return Wr}),i.d(f,"refreshGraphId",function(){return ob}),i.d(f,"createDrag",function(){return Iu}),i.d(f,"StepDrag",function(){return Zr});var s=i(0),g=i(10);if(!g.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var m=i(42),_=Object(m.b)("observerBatching");function w(e){e()}var j=!1;function S(){return j}function P(e){return Object(s.t)(e)}var N,R=1e4,F=new Set;function U(){N===void 0&&(N=setTimeout(B,1e4))}function B(){N=void 0;var e=Date.now();F.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,F.delete(t))}),F.size>0&&U()}var Y=!1,K=[],V={};function C(e){return"observer"+e}function z(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=V),S();var r,a=function(O){return function(){Y?K.push(O):O()}}((n.useForceUpdate||m.d)()),o=g.d.useRef(null);if(!o.current){var u=new s.c(C(t),function(){l.mounted?a():(u.dispose(),o.current=null)}),l=function(O){return{cleanAt:Date.now()+R,reaction:O}}(u);o.current=l,r=o,F.add(r),U()}var d=o.current.reaction;return g.d.useDebugValue(d,P),g.d.useEffect(function(){var O;return O=o,F.delete(O),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(C(t),function(){a()}),cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(O){Y=!0,K=[];try{var x=O();Y=!1;var A=K.length>0?K:void 0;return g.d.useLayoutEffect(function(){A&&A.forEach(function(M){return M()})},[A]),x}finally{Y=!1}}(function(){var O,x;if(d.track(function(){try{O=e()}catch(A){x=A}}),x)throw x;return O})}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function L(e,t){var n,r,a,o=k({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,O){return z(function(){return e(d,O)},u)};return l.displayName=u,n=o.forwardRef?Object(g.f)(Object(g.e)(l)):Object(g.f)(l),r=e,a=n,Object.keys(r).forEach(function(d){H[d]||Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function Q(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:z(r)}function Z(e,t,n,r,a){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+a+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}Q.propTypes={children:Z,render:Z},Q.displayName="Observer";var ue;(ue=g.g)||(ue=w),Object(s.n)({reactionScheduler:ue}),Object(m.a)()[_]=!0;var be=0,me={};function de(e){return me[e]||(me[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+be+")";return be++,n}(e)),me[e]}function he(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!pe(e[n[a]],t[n[a]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var _e=de("patchMixins"),xe=de("patchedDefinition");function ke(e,t){for(var n=this,r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,a)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,a)})}}function Re(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];ke.call.apply(ke,[this,e,t].concat(r))}}function Ge(e,t,n){var r=function(l,d){var O=l[_e]=l[_e]||{},x=O[d]=O[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[xe]){var o=e[t],u=function l(d,O,x,A,M){var I,W=Re(M,A);return(I={})[xe]=!0,I.get=function(){return W},I.set=function(ee){if(this===d)W=Re(ee,A);else{var ie=l(this,O,x,A,ee);Object.defineProperty(this,O,ie)}},I.configurable=!0,I.enumerable=x,I}(e,t,a?a.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Ae=s.a||"$mobx",Ye=de("isMobXReactObserver"),st=de("isUnmounted"),$=de("skipRender"),J=de("isForcingUpdate");function ae(e){var t=e.prototype;if(e[Ye]){var n=ve(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ye]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==g.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return Me.call(this,r)},Ge(t,"componentWillUnmount",function(){var a;if((a=this.render[Ae])===null||a===void 0||a.dispose(),this[st]=!0,!this.render[Ae]){var o=ve(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Me(e){var t=this;se(this,$,!1),se(this,J,!1);var n=ve(this),r=e.bind(this),a=!1,o=new s.c(n+".render()",function(){if(!a&&(a=!0,t[st]!==!0)){var l=!0;try{se(t,J,!0),t[$]||g.a.prototype.forceUpdate.call(t),l=!1}finally{se(t,J,!1),l&&o.dispose()}}});function u(){a=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(O){l=O}}),l)throw l;return d}return o.reactComponent=this,u[Ae]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!he(this.props,e)}function We(e,t){var n=de("reactProp_"+t+"_valueHolder"),r=de("reactProp_"+t+"_atomHolder");function a(){return this[r]||se(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),a.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||he(this[n],o)?se(this,n,o):(se(this,n,o),se(this,$,!0),a.call(this).reportChanged(),se(this,$,!1))}})}var Xe=typeof Symbol=="function"&&Symbol.for,et=Xe?Symbol.for("react.forward_ref"):typeof g.e=="function"&&Object(g.e)(function(e){return null}).$$typeof,qe=Xe?Symbol.for("react.memo"):typeof g.f=="function"&&Object(g.f)(function(e){return null}).$$typeof;function ye(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),qe&&e.$$typeof===qe)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(et&&e.$$typeof===et){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(g.e)(function(){var n=arguments;return Object(g.c)(Q,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(g.a,e)?ae(e):L(e)}if(!g.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var q=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(186),i(191),i(102),i(152),i(153);var ze=function(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a},Fe=function(){this.__data__=[],this.size=0},Ke=function(e,t){return e===t||e!=e&&t!=t},At=function(e,t){for(var n=e.length;n--;)if(Ke(e[n][0],t))return n;return-1},at=Array.prototype.splice,lt=function(e){var t=this.__data__,n=At(t,e);return!(n<0)&&(n==t.length-1?t.pop():at.call(t,n,1),--this.size,!0)},yt=function(e){var t=this.__data__,n=At(t,e);return n<0?void 0:t[n][1]},Rt=function(e){return At(this.__data__,e)>-1},G=function(e,t){var n=this.__data__,r=At(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function te(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}te.prototype.clear=Fe,te.prototype.delete=lt,te.prototype.get=yt,te.prototype.has=Rt,te.prototype.set=G;var fe=te,ne=function(){this.__data__=new fe,this.size=0},je=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se=function(e){return this.__data__.get(e)},Te=function(e){return this.__data__.has(e)},Ue=i(30),gt=Ue.a.Symbol,wt=Object.prototype,Wt=wt.hasOwnProperty,Jt=wt.toString,ut=gt?gt.toStringTag:void 0,Ne=function(e){var t=Wt.call(e,ut),n=e[ut];try{e[ut]=void 0;var r=!0}catch(o){}var a=Jt.call(e);return r&&(t?e[ut]=n:delete e[ut]),a},Ve=Object.prototype.toString,$e=function(e){return Ve.call(e)},nt=gt?gt.toStringTag:void 0,xt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":nt&&nt in Object(e)?Ne(e):$e(e)},Tt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Qt,No=function(e){if(!Tt(e))return!1;var t=xt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Bn=Ue.a["__core-js_shared__"],or=(Qt=/[^.]+$/.exec(Bn&&Bn.keys&&Bn.keys.IE_PROTO||""))?"Symbol(src)_1."+Qt:"",oo=function(e){return!!or&&or in e},Za=Function.prototype.toString,Sn=function(e){if(e!=null){try{return Za.call(e)}catch(t){}try{return e+""}catch(t){}}return""},io=/^\[object .+?Constructor\]$/,Ai=Function.prototype,Le=Object.prototype,qa=Ai.toString,ki=Le.hasOwnProperty,Mi=RegExp("^"+qa.call(ki).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=function(e){return!(!Tt(e)||oo(e))&&(No(e)?Mi:io).test(Sn(e))},yn=function(e,t){return e==null?void 0:e[t]},Fn=function(e,t){var n=yn(e,t);return hn(n)?n:void 0},mr=Fn(Ue.a,"Map"),Pn=Fn(Object,"create"),Co=function(){this.__data__=Pn?Pn(null):{},this.size=0},Ti=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$a=Object.prototype.hasOwnProperty,ao=function(e){var t=this.__data__;if(Pn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return $a.call(t,e)?t[e]:void 0},Ja=Object.prototype.hasOwnProperty,Di=function(e){var t=this.__data__;return Pn?t[e]!==void 0:Ja.call(t,e)},Qa=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===void 0?"__lodash_hash_undefined__":t,this};function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=Co,ir.prototype.delete=Ti,ir.prototype.get=ao,ir.prototype.has=Di,ir.prototype.set=Qa;var Ni=ir,Hn=function(){this.size=0,this.__data__={hash:new Ni,map:new(mr||fe),string:new Ni}},eu=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},uo=function(e,t){var n=e.__data__;return eu(t)?n[typeof t=="string"?"string":"hash"]:n.map},Ro=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Io=function(e){return uo(this,e).get(e)},tu=function(e){return uo(this,e).has(e)},Ci=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Hn,Or.prototype.delete=Ro,Or.prototype.get=Io,Or.prototype.has=tu,Or.prototype.set=Ci;var _r=Or,Ri=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!mr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(e,t),this.size=n.size,this};function wr(e){var t=this.__data__=new fe(e);this.size=t.size}wr.prototype.clear=ne,wr.prototype.delete=je,wr.prototype.get=Se,wr.prototype.has=Te,wr.prototype.set=Ri;var Un=wr,Ii=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Li=function(e){return this.__data__.has(e)};function Rr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _r;++t<n;)this.add(e[t])}Rr.prototype.add=Rr.prototype.push=Ii,Rr.prototype.has=Li;var zi=Rr,nu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Bi=function(e,t){return e.has(t)},Fi=function(e,t,n,r,a,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var O=o.get(e),x=o.get(t);if(O&&x)return O==t&&x==e;var A=-1,M=!0,I=2&n?new zi:void 0;for(o.set(e,t),o.set(t,e);++A<l;){var W=e[A],ee=t[A];if(r)var ie=u?r(ee,W,A,t,e,o):r(W,ee,A,e,t,o);if(ie!==void 0){if(ie)continue;M=!1;break}if(I){if(!nu(t,function(oe,ce){if(!Bi(I,ce)&&(W===oe||a(W,oe,n,r,o)))return I.push(ce)})){M=!1;break}}else if(W!==ee&&!a(W,ee,n,r,o)){M=!1;break}}return o.delete(e),o.delete(t),M},Ir=Ue.a.Uint8Array,Hi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n},ru=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Ui=gt?gt.prototype:void 0,Lo=Ui?Ui.valueOf:void 0,Lr=function(e,t,n,r,a,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ir(e),new Ir(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Hi;case"[object Set]":var d=1&r;if(l||(l=ru),e.size!=t.size&&!d)return!1;var O=u.get(e);if(O)return O==t;r|=2,u.set(e,t);var x=Fi(l(e),l(t),r,a,o,u);return u.delete(e),x;case"[object Symbol]":if(Lo)return Lo.call(e)==Lo.call(t)}return!1},Gn=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e},Ut=Array.isArray,Gi=function(e,t,n){var r=t(e);return Ut(e)?r:Gn(r,n(e))},ou=function(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[a++]=u)}return o},Xi=function(){return[]},xr=Object.prototype.propertyIsEnumerable,Vi=Object.getOwnPropertySymbols,zo=Vi?function(e){return e==null?[]:(e=Object(e),ou(Vi(e),function(t){return xr.call(e,t)}))}:Xi,On=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},_n=function(e){return e!=null&&typeof e=="object"},Bo=function(e){return _n(e)&&xt(e)=="[object Arguments]"},Yi=Object.prototype,co=Yi.hasOwnProperty,so=Yi.propertyIsEnumerable,zr=Bo(function(){return arguments}())?Bo:function(e){return _n(e)&&co.call(e,"callee")&&!so.call(e,"callee")},Br=i(48),wn=/^(?:0|[1-9]\d*)$/,Xn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&wn.test(e))&&e>-1&&e%1==0&&e<t},ln=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var Fr=function(e){return _n(e)&&ln(e.length)&&!!ft[xt(e)]},en=function(e){return function(t){return e(t)}},Er=i(49),Wi=Er.a&&Er.a.isTypedArray,lo=Wi?en(Wi):Fr,An=Object.prototype.hasOwnProperty,Fo=function(e,t){var n=Ut(e),r=!n&&zr(e),a=!n&&!r&&Object(Br.a)(e),o=!n&&!r&&!a&&lo(e),u=n||r||a||o,l=u?On(e.length,String):[],d=l.length;for(var O in e)!t&&!An.call(e,O)||u&&(O=="length"||a&&(O=="offset"||O=="parent")||o&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Xn(O,d))||l.push(O);return l},iu=Object.prototype,fn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||iu)},Ho=function(e,t){return function(n){return e(t(n))}},au=Ho(Object.keys,Object),Uo=Object.prototype.hasOwnProperty,tn=function(e){if(!fn(e))return au(e);var t=[];for(var n in Object(e))Uo.call(e,n)&&n!="constructor"&&t.push(n);return t},ar=function(e){return e!=null&&ln(e.length)&&!No(e)},ur=function(e){return ar(e)?Fo(e):tn(e)},Kt=function(e){return Gi(e,ur,zo)},Ki=Object.prototype.hasOwnProperty,Go=function(e,t,n,r,a,o){var u=1&n,l=Kt(e),d=l.length;if(d!=Kt(t).length&&!u)return!1;for(var O=d;O--;){var x=l[O];if(!(u?x in t:Ki.call(t,x)))return!1}var A=o.get(e),M=o.get(t);if(A&&M)return A==t&&M==e;var I=!0;o.set(e,t),o.set(t,e);for(var W=u;++O<d;){var ee=e[x=l[O]],ie=t[x];if(r)var oe=u?r(ie,ee,x,t,e,o):r(ee,ie,x,e,t,o);if(!(oe===void 0?ee===ie||a(ee,ie,n,r,o):oe)){I=!1;break}W||(W=x=="constructor")}if(I&&!W){var ce=e.constructor,ge=t.constructor;ce==ge||!("constructor"in e)||!("constructor"in t)||typeof ce=="function"&&ce instanceof ce&&typeof ge=="function"&&ge instanceof ge||(I=!1)}return o.delete(e),o.delete(t),I},fo=Fn(Ue.a,"DataView"),po=Fn(Ue.a,"Promise"),ho=Fn(Ue.a,"Set"),Xo=Fn(Ue.a,"WeakMap"),vn=Sn(fo),xn=Sn(mr),Hr=Sn(po),Zi=Sn(ho),Vo=Sn(Xo),Vn=xt;(fo&&Vn(new fo(new ArrayBuffer(1)))!="[object DataView]"||mr&&Vn(new mr)!="[object Map]"||po&&Vn(po.resolve())!="[object Promise]"||ho&&Vn(new ho)!="[object Set]"||Xo&&Vn(new Xo)!="[object WeakMap]")&&(Vn=function(e){var t=xt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Sn(n):"";if(r)switch(r){case vn:return"[object DataView]";case xn:return"[object Map]";case Hr:return"[object Promise]";case Zi:return"[object Set]";case Vo:return"[object WeakMap]"}return t});var Ur=Vn,Gr=Object.prototype.hasOwnProperty,uu=function(e,t,n,r,a,o){var u=Ut(e),l=Ut(t),d=u?"[object Array]":Ur(e),O=l?"[object Array]":Ur(t),x=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",A=(O=O=="[object Arguments]"?"[object Object]":O)=="[object Object]",M=d==O;if(M&&Object(Br.a)(e)){if(!Object(Br.a)(t))return!1;u=!0,x=!1}if(M&&!x)return o||(o=new Un),u||lo(e)?Fi(e,t,n,r,a,o):Lr(e,t,d,n,r,a,o);if(!(1&n)){var I=x&&Gr.call(e,"__wrapped__"),W=A&&Gr.call(t,"__wrapped__");if(I||W){var ee=I?e.value():e,ie=W?t.value():t;return o||(o=new Un),a(ee,ie,n,r,o)}}return!!M&&(o||(o=new Un),Go(e,t,n,r,a,o))},y=function e(t,n,r,a,o){return t===n||(t==null||n==null||!_n(t)&&!_n(n)?t!=t&&n!=n:uu(t,n,r,a,e,o))},b=function(e,t,n,r){var a=n.length,o=a,u=!r;if(e==null)return!o;for(e=Object(e);a--;){var l=n[a];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var d=(l=n[a])[0],O=e[d],x=l[1];if(u&&l[2]){if(O===void 0&&!(d in e))return!1}else{var A=new Un;if(r)var M=r(O,x,d,e,t,A);if(!(M===void 0?y(x,O,3,r,A):M))return!1}}return!0},E=function(e){return e==e&&!Tt(e)},T=function(e){for(var t=ur(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,E(a)]}return t},D=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},X=function(e){var t=T(e);return t.length==1&&t[0][2]?D(t[0][0],t[0][1]):function(n){return n===e||b(n,e,t)}},re=function(e){return typeof e=="symbol"||_n(e)&&xt(e)=="[object Symbol]"},Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,it=function(e,t){if(Ut(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!re(e))||Ce.test(e)||!Oe.test(e)||t!=null&&e in Object(t)};function rt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var u=e.apply(this,r);return n.cache=o.set(a,u)||o,u};return n.cache=new(rt.Cache||_r),n}rt.Cache=_r;var Et=rt,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,Pt=function(e){var t=Et(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bt,function(n,r,a,o){t.push(a?o.replace(vt,"$1"):r||n)}),t}),jt=gt?gt.prototype:void 0,mt=jt?jt.toString:void 0,kn=function e(t){if(typeof t=="string")return t;if(Ut(t))return ze(t,e)+"";if(re(t))return mt?mt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},cu=function(e){return e==null?"":kn(e)},Xr=function(e,t){return Ut(e)?e:it(e,t)?[e]:Pt(cu(e))},jr=function(e){if(typeof e=="string"||re(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vr=function(e,t){for(var n=0,r=(t=Xr(t,e)).length;e!=null&&n<r;)e=e[jr(t[n++])];return n&&n==r?e:void 0},Yo=function(e,t,n){var r=e==null?void 0:Vr(e,t);return r===void 0?n:r},nn=function(e,t){return e!=null&&t in Object(e)},qi=function(e,t,n){for(var r=-1,a=(t=Xr(t,e)).length,o=!1;++r<a;){var u=jr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=a?o:!!(a=e==null?0:e.length)&&ln(a)&&Xn(u,a)&&(Ut(e)||zr(e))},Wo=function(e,t){return e!=null&&qi(e,t,nn)},Kv=function(e,t){return it(e)&&E(t)?D(jr(e),t):function(n){var r=Yo(n,e);return r===void 0&&r===t?Wo(n,e):y(t,r,3)}},su=function(e){return e},Zv=function(e){return function(t){return t==null?void 0:t[e]}},qv=function(e){return function(t){return Vr(t,e)}},$v=function(e){return it(e)?Zv(jr(e)):qv(e)},Jv=function(e){return typeof e=="function"?e:e==null?su:typeof e=="object"?Ut(e)?Kv(e[0],e[1]):X(e):$v(e)},ls=function(e){return function(t,n,r){for(var a=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++a];if(n(o[d],d,o)===!1)break}return t}}(),Qv=function(e,t){return function(n,r){if(n==null)return n;if(!ar(n))return e(n,r);for(var a=n.length,o=t?a:-1,u=Object(n);(t?o--:++o<a)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ls(e,t,ur)}),eg=function(e,t){var n=-1,r=ar(e)?Array(e.length):[];return Qv(e,function(a,o,u){r[++n]=t(a,o,u)}),r},$i=function(e,t){return(Ut(e)?ze:eg)(e,Jv(t))},Ji=function(){try{var e=Fn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),lu=function(e,t,n){t=="__proto__"&&Ji?Ji(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tg=Object.prototype.hasOwnProperty,Qi=function(e,t,n){var r=e[t];tg.call(e,t)&&Ke(r,n)&&(n!==void 0||t in e)||lu(e,t,n)},yo=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),a?lu(n,l,d):Qi(n,l,d)}return n},ng=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},fs=Math.max,ps=function(e,t,n){return t=fs(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=fs(r.length-t,0),u=Array(o);++a<o;)u[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(u),ng(e,this,l)}},rg=function(e){return function(){return e}},og=Ji?function(e,t){return Ji(e,"toString",{configurable:!0,enumerable:!1,value:rg(t),writable:!0})}:su,ig=Date.now,ds=function(e){var t=0,n=0;return function(){var r=ig(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(og),ag=function(e,t){return ds(ps(e,t,su),e+"")},ug=function(e,t,n){if(!Tt(n))return!1;var r=typeof t;return!!(r=="number"?ar(n)&&Xn(t,n.length):r=="string"&&t in n)&&Ke(n[t],e)},hs=function(e){return ag(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(a--,o):void 0,u&&ug(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})},cg=Object.prototype.hasOwnProperty,rn=hs(function(e,t){if(fn(t)||ar(t))yo(t,ur(t),e);else for(var n in t)cg.call(t,n)&&Qi(e,n,t[n])}),sg=function(e,t,n,r){if(!Tt(e))return e;for(var a=-1,o=(t=Xr(t,e)).length,u=o-1,l=e;l!=null&&++a<o;){var d=jr(t[a]),O=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(a!=u){var x=l[d];(O=r?r(x,d,l):void 0)===void 0&&(O=Tt(x)?x:Xn(t[a+1])?[]:{})}Qi(l,d,O),l=l[d]}return e},lg=function(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var u=t[r],l=Vr(e,u);n(l,u)&&sg(o,Xr(u,e),l)}return o},fg=function(e,t){return lg(e,t,function(n,r){return Wo(e,r)})},ys=gt?gt.isConcatSpreadable:void 0,pg=function(e){return Ut(e)||zr(e)||!!(ys&&e&&e[ys])},dg=function e(t,n,r,a,o){var u=-1,l=t.length;for(r||(r=pg),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,a,o):Gn(o,d):a||(o[o.length]=d)}return o},hg=function(e){return e!=null&&e.length?dg(e,1):[]},It,vs,gs,bs,ms,Os,_s,ws,xs,Es,js,Ss,Ps,As,ks,Ms,Ts,Ko=function(e){return ds(ps(e,void 0,hg),e+"")}(function(e,t){return e==null?{}:fg(e,t)});function Zt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var St,Ns,pt,Ft,tt,Mt,vg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},fu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Cs=(vs=Gt((It=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Zt(this,"isSilentMode",vs,this),Zt(this,"stopZoomGraph",gs,this),Zt(this,"stopScrollGraph",bs,this),Zt(this,"stopMoveGraph",ms,this),Zt(this,"adjustEdge",Os,this),Zt(this,"adjustEdgeMiddle",_s,this),Zt(this,"adjustEdgeStartAndEnd",ws,this),Zt(this,"adjustNodePosition",xs,this),Zt(this,"hideAnchors",Es,this),Zt(this,"hoverOutline",js,this),Zt(this,"nodeSelectedOutline",Ss,this),Zt(this,"edgeSelectedOutline",Ps,this),Zt(this,"nodeTextEdit",As,this),Zt(this,"edgeTextEdit",ks,this),Zt(this,"nodeTextDraggable",Ms,this),Zt(this,"edgeTextDraggable",Ts,this),Ds(this,"multipleSelectKey",""),Ds(this,"defaultConfig",{}),rn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var a=this.getConfigDetail(r);rn(this,a)}},{key:"getConfigDetail",value:function(r){var a=r.isSilentMode,o=r.textEdit,u={};if(a===!1&&rn(u,this.defaultConfig),a===!0){var l=Ko(vg,fu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},rn(u,l)}o===!1&&rn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Ko(r,fu);return rn(u,d)}},{key:"getConfig",value:function(){return Ko(this,fu)}}])&&yg(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Gt(It.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Gt(It.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Gt(It.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Gt(It.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Gt(It.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Gt(It.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=Gt(It.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Es=Gt(It.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Gt(It.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Gt(It.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Gt(It.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Gt(It.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Gt(It.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ms=Gt(It.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=Gt(It.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gt(It.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(103),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(St||(St={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ns||(Ns={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(pt||(pt={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Ft||(Ft={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(tt||(tt={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Mt||(Mt={}));var gn,Lt,Rs,Is,Ls,zs,Bs,Fs,Hs;function ea(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Us(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Us(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(gn||(gn={}));var bg=(Rs=Mn((Lt=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),pu(this,"MINI_SCALE_SIZE",.2),pu(this,"MAX_SCALE_SIZE",16),Yr(this,"SCALE_X",Rs,this),Yr(this,"SKEW_Y",Is,this),Yr(this,"SKEW_X",Ls,this),Yr(this,"SCALE_Y",zs,this),Yr(this,"TRANSLATE_X",Bs,this),Yr(this,"TRANSLATE_Y",Fs,this),Yr(this,"ZOOM_SIZE",Hs,this),pu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var a=ea(r,2),o=a[0],u=a[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var a=ea(r,2),o=a[0],u=a[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,a,o){var u=ea(r,2),l=u[0],d=u[1];return[l+a/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,a){return[r/this.SCALE_X,a/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(a&&(this.TRANSLATE_X-=(o-this.SCALE_X)*a[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*a[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(tt.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,a){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=a,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,a,o,u){var l=ea(this.CanvasPointToHtmlPoint([r,a]),2),d=o/2-l[0],O=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}])&&gg(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Is=Mn(Lt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=Mn(Lt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zs=Mn(Lt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bs=Mn(Lt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=Mn(Lt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=Mn(Lt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Mn(Lt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),Mn(Lt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),Mn(Lt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),Mn(Lt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt),mg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Og=function(e,t){return e&&yo(t,ur(t),e)},_g=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},wg=Object.prototype.hasOwnProperty,xg=function(e){if(!Tt(e))return _g(e);var t=fn(e),n=[];for(var r in e)(r!="constructor"||!t&&wg.call(e,r))&&n.push(r);return n},Zo=function(e){return ar(e)?Fo(e,!0):xg(e)},Eg=function(e,t){return e&&yo(t,Zo(t),e)},Gs=i(106),Xs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},jg=function(e,t){return yo(e,zo(e),t)},du=Ho(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Gn(t,zo(e)),e=du(e);return t}:Xi,Sg=function(e,t){return yo(e,Vs(e),t)},Pg=function(e){return Gi(e,Zo,Vs)},Ag=Object.prototype.hasOwnProperty,kg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ag.call(e,"index")&&(n.index=e.index,n.input=e.input),n},hu=function(e){var t=new e.constructor(e.byteLength);return new Ir(t).set(new Ir(e)),t},Mg=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Tg=/\w*$/,Dg=function(e){var t=new e.constructor(e.source,Tg.exec(e));return t.lastIndex=e.lastIndex,t},Ys=gt?gt.prototype:void 0,Ws=Ys?Ys.valueOf:void 0,Ng=function(e){return Ws?Object(Ws.call(e)):{}},Ks=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Cg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return hu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Mg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ks(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Dg(e);case"[object Set]":return new r;case"[object Symbol]":return Ng(e)}},Zs=Object.create,Rg=function(){function e(){}return function(t){if(!Tt(t))return{};if(Zs)return Zs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qs=function(e){return typeof e.constructor!="function"||fn(e)?{}:Rg(du(e))},Ig=function(e){return _n(e)&&Ur(e)=="[object Map]"},$s=Er.a&&Er.a.isMap,Lg=$s?en($s):Ig,zg=function(e){return _n(e)&&Ur(e)=="[object Set]"},Js=Er.a&&Er.a.isSet,Bg=Js?en(Js):zg,kt={};kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object DataView]"]=kt["[object Boolean]"]=kt["[object Date]"]=kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object Symbol]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Error]"]=kt["[object Function]"]=kt["[object WeakMap]"]=!1;var Fg=function e(t,n,r,a,o,u){var l,d=1&n,O=2&n,x=4&n;if(r&&(l=o?r(t,a,o,u):r(t)),l!==void 0)return l;if(!Tt(t))return t;var A=Ut(t);if(A){if(l=kg(t),!d)return Xs(t,l)}else{var M=Ur(t),I=M=="[object Function]"||M=="[object GeneratorFunction]";if(Object(Br.a)(t))return Object(Gs.a)(t,d);if(M=="[object Object]"||M=="[object Arguments]"||I&&!o){if(l=O||I?{}:qs(t),!d)return O?Sg(t,Eg(l,t)):jg(t,Og(l,t))}else{if(!kt[M])return o?t:{};l=Cg(t,M,d)}}u||(u=new Un);var W=u.get(t);if(W)return W;u.set(t,l),Bg(t)?t.forEach(function(ie){l.add(e(ie,n,r,ie,t,u))}):Lg(t)&&t.forEach(function(ie,oe){l.set(oe,e(ie,n,r,oe,t,u))});var ee=A?void 0:(x?O?Pg:Kt:O?Zo:ur)(t);return mg(ee||t,function(ie,oe){ee&&(ie=t[oe=ie]),Qi(l,oe,e(ie,n,r,oe,t,u))}),l},Dt=function(e){return Fg(e,5)},yu=function(e,t,n){(n!==void 0&&!Ke(e[t],n)||n===void 0&&!(t in e))&&lu(e,t,n)},Hg=function(e){return _n(e)&&ar(e)},Ug=Function.prototype,Gg=Object.prototype,Qs=Ug.toString,Xg=Gg.hasOwnProperty,Vg=Qs.call(Object),Yg=function(e){if(!_n(e)||xt(e)!="[object Object]")return!1;var t=du(e);if(t===null)return!0;var n=Xg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qs.call(n)==Vg},vu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Wg=function(e){return yo(e,Zo(e))},Kg=function(e,t,n,r,a,o,u){var l=vu(e,n),d=vu(t,n),O=u.get(d);if(O)yu(e,n,O);else{var x=o?o(l,d,n+"",e,t,u):void 0,A=x===void 0;if(A){var M=Ut(d),I=!M&&Object(Br.a)(d),W=!M&&!I&&lo(d);x=d,M||I||W?Ut(l)?x=l:Hg(l)?x=Xs(l):I?(A=!1,x=Object(Gs.a)(d,!0)):W?(A=!1,x=Ks(d,!0)):x=[]:Yg(d)||zr(d)?(x=l,zr(l)?x=Wg(l):Tt(l)&&!No(l)||(x=qs(d))):A=!1}A&&(u.set(d,x),a(x,d,r,o,u),u.delete(d)),yu(e,n,x)}},Zg=function e(t,n,r,a,o){t!==n&&ls(n,function(u,l){if(o||(o=new Un),Tt(u))Kg(t,n,l,r,e,a,o);else{var d=a?a(vu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),yu(t,l,d)}},Zo)},el=hs(function(e,t,n){Zg(e,t,n)}),qg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},tl=function(e){var t=Dt(qg);return e&&(t=el(t,e)),t};i(77),i(194);function $g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jg=function(){function e(){var r,a,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(a="_events")in(r=this)?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,a,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:a,once:!!o})}),this}},{key:"once",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,a,!0)})}},{key:"emit",value:function(r,a){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],O=function(x){for(var A=x.length,M=0;M<A;M++)if(x[M]){var I=x[M],W=I.callback;I.once&&(x.splice(M,1),x.length===0&&delete o._events[u],A--,M--),W.apply(o,[a])}};O(l),O(d)})}},{key:"off",value:function(r,a){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(a){for(var l=o._events[u]||[],d=l.length,O=0;O<d;O++)l[O].callback===a&&(l.splice(O,1),d--,O--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&$g(t.prototype,n),e}();function vo(e,t){return t*Math.round(e/t)||e}function nl(e,t){return e%t}function gu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return rl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return rl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bu,mu=function(e,t,n){var r=gu(e,2),a=r[0],o=r[1],u=gu(t,2),l=u[0],d=u[1],O=gu(n,2),x=O[0],A=O[1];return a>l&&a<x&&o>d&&o<A},ol=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Qg=(i(78),i(160),i(125),i(79),i(12),i(13),i(14),i(47),i(31),new Uint8Array(16));function eb(){if(!bu&&!(bu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(Qg)}for(var tb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nb=function(e){return typeof e=="string"&&tb.test(e)},Xt=[],Ou=0;Ou<256;++Ou)Xt.push((Ou+256).toString(16).substr(1));var rb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Xt[e[t+0]]+Xt[e[t+1]]+Xt[e[t+2]]+Xt[e[t+3]]+"-"+Xt[e[t+4]]+Xt[e[t+5]]+"-"+Xt[e[t+6]]+Xt[e[t+7]]+"-"+Xt[e[t+8]]+Xt[e[t+9]]+"-"+Xt[e[t+10]]+Xt[e[t+11]]+Xt[e[t+12]]+Xt[e[t+13]]+Xt[e[t+14]]+Xt[e[t+15]]).toLowerCase();if(!nb(n))throw TypeError("Stringified UUID is invalid");return n},_u=function(e,t,n){var r=(e=e||{}).random||(e.rng||eb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return rb(r)},Wr=function(){return _u()},ob=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,a){return r[a.id]=t+_u(),a.id=r[a.id],r},{});return e.edges.forEach(function(r){r.id=t+_u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},qo=(i(104),i(203),function(e,t,n){var r=e.x,a=e.y;return(r-t.x)*(r-n.x)<=0&&(a-t.y)*(a-n.y)<=0});function il(e){return(il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?al(Object(n),!0).forEach(function(r){ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,Ol,_l,wl,xl,wu=function(e){return e.anchors},ta=function(e,t){for(var n,r=t.nodes,a=r.length-1;a>=0;a--){var o=r[a];if(cb(e,o)){var u=ub(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!ab(o,n.node,t)||(n=l)}}}return n},ab=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},ub=function(e,t){for(var n,r=wu(t),a=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Yn(e.x,e.y,r[o].x,r[o].y);u<a&&(a=u,n={index:o,anchor:ul(ul({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Yn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Sr=function(e,t){var n=!1,r=bn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},cb=function(e,t){var n=!1,r=bn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},bn=function(e){var t=e.x,n=e.y,r=e.width,a=e.height;return{minX:t-r/2,minY:n-a/2,maxX:t+r/2,maxY:n+a/2,x:t,y:n,width:r,height:a,centerX:t,centerY:n}},El=function(e,t,n){var r,a=function(u){var l=u,d=l.x,O=l.y,x=l.width,A=l.height,M=l.radius;return[{x:d-x/2+M,y:O-A/2+M,r:M},{x:d+x/2-M,y:O-A/2+M,r:M},{x:d-x/2+M,y:O+A/2-M,r:M},{x:d+x/2-M,y:O+A/2-M,r:M}]}(n),o=Number.MAX_SAFE_INTEGER;return a.forEach(function(u){var l=Yn(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),xu(e,t,r)},xu=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.r;if(t===Mt.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),O=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(O-e.x)?d:O,y:e.y}}else if(t===Mt.VERTICAL){var x=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),A=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),M=Math.abs(x-e.y)<Math.abs(A-e.y)?x:A;r={x:e.x,y:M}}return r},jl=function(e,t){var n=t,r=!1,a=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,O=n.y,x=n.width,A=n.height;return e.y===O+A/2||e.y===O-A/2?r=e.x>a&&e.x<o:e.x!==d+x/2&&e.x!==d-x/2||(r=e.y>u&&e.y<l),r},Sl=function(e,t,n){var r,a=n,o=a.x,u=a.y,l=a.rx,d=a.ry;if(t===Mt.HORIZONTAL){var O=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),x=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(O-e.x)<Math.abs(x-e.x)?O:x,y:e.y}}else if(t===Mt.VERTICAL){var A=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),M=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),I=Math.abs(A-e.y)<Math.abs(M-e.y)?A:M;r={x:e.x,y:I}}return r},Pl=function(e,t,n){for(var r,a=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach(function(d){var O=d.start,x=d.end,A=O,M=x;O.x>x.x&&(A=x,M=O);var I={x:e.x,y:e.y};if(A.x===M.x&&t===Mt.HORIZONTAL&&(I={x:A.x,y:e.y}),A.y===M.y&&t===Mt.VERTICAL&&(I={x:e.x,y:A.y}),A.x!==M.x&&A.y!==M.y){var W=(M.y-A.y)/(M.x-A.x),ee=(A.x*M.y-M.x*A.y)/(A.x-M.x);t===Mt.HORIZONTAL?I={x:(e.y-ee)/W,y:e.y}:t===Mt.VERTICAL&&(I={x:e.x,y:W*e.x+ee})}if(qo(I,O,x)){var ie=Yn(I.x,I.y,e.x,e.y);ie<o&&(o=ie,r=I)}}),r},Al=function(e,t,n,r){var a=e.x,o=e.y;return t.x>e.x?a=e.x+n/2:t.x<e.x&&(a=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:a,y:o}},kl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,a=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=a,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},Eu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,a=0;return t&&t.forEach(function(o){var u=rf(o);a=u>a?u:a}),{width:Math.ceil(a/2)*r+r/4,height:n*(r+2)+r/4}},na=function(e){return il(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Ml={node:!1,edge:!1},sb={node:!0,edge:!0},lb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Wn=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},fb=1e3,pb=999,ju=function(){return++fb};function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tl(Object(n),!0).forEach(function(r){Tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Su=(cl=ct((Pe=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Tn(this,"id",Wr()),qt(this,"type",cl,this),qt(this,"sourceNodeId",sl,this),qt(this,"targetNodeId",ll,this),qt(this,"startPoint",fl,this),qt(this,"endPoint",pl,this),qt(this,"text",dl,this),qt(this,"properties",hl,this),qt(this,"points",yl,this),qt(this,"pointsList",vl,this),qt(this,"isSelected",gl,this),qt(this,"isHovered",bl,this),qt(this,"isHitable",ml,this),qt(this,"draggable",Ol,this),qt(this,"visible",_l,this),Tn(this,"graphModel",void 0),qt(this,"zIndex",wl,this),Tn(this,"BaseType",Ft.EDGE),Tn(this,"modelType",pt.EDGE),qt(this,"state",xl,this),Tn(this,"additionStateData",void 0),Tn(this,"sourceAnchorId",""),Tn(this,"targetAnchorId",""),Tn(this,"menu",void 0),Tn(this,"customTextPosition",!1),Tn(this,"animationData",lb),this.graphModel=a,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}rn(this,Tb(r)),this.graphModel.overlapMode===gn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Dt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Dt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.sourceNodeId])===null||a===void 0?void 0:a.model}},{key:"targetNode",get:function(){var r,a;return(r=this.graphModel)===null||r===void 0||(a=r.nodesMap[this.targetNodeId])===null||a===void 0?void 0:a.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,a){var o,u;return wu(r).forEach(function(l){var d=uf(l,a);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var a,o,u=this;return wu(r).forEach(function(l){var d=uf(l,u.startPoint);o?d<o&&(o=d,a=l):(o=d,a=l)}),a}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:a,y:o,value:u}),this.graphModel.overlapMode===gn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,a){this.properties[r]=Wn(a),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ra(ra({},this.properties),Wn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var a=this.textPosition,o=a.x,u=a.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,a=r.x,o=r.y;this.text.x=a,this.text.y=o}},{key:"moveText",value:function(r,a){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,O=o.draggable,x=o.editable;this.text={value:d,draggable:O,x:u+r,y:l+a,editable:x}}}},{key:"setText",value:function(r){r&&rn(this.text,r)}},{key:"updateText",value:function(r){this.text=ra(ra({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var a=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:a.x,y:a.y}),this.targetAnchorId||(this.targetAnchorId=a.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,a){this.startPoint.x+=r,this.startPoint.y+=a}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,a){this.endPoint.x+=r,this.endPoint.y+=a}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){rn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var a=r.startPoint,o=r.endPoint;this.updateStartPoint({x:a.x,y:a.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&db(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=ct(Pe.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=ct(Pe.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fl=ct(Pe.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=ct(Pe.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=ct(Pe.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),hl=ct(Pe.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yl=ct(Pe.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vl=ct(Pe.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gl=ct(Pe.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=ct(Pe.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=ct(Pe.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=ct(Pe.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=ct(Pe.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wl=ct(Pe.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=ct(Pe.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ct(Pe.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"sourceNode"),Pe.prototype),ct(Pe.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"targetNode"),Pe.prototype),ct(Pe.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Pe.prototype,"textPosition"),Pe.prototype),ct(Pe.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperty"),Pe.prototype),ct(Pe.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setProperties"),Pe.prototype),ct(Pe.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"formatText"),Pe.prototype),ct(Pe.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"resetTextPosition"),Pe.prototype),ct(Pe.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveText"),Pe.prototype),ct(Pe.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setText"),Pe.prototype),ct(Pe.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateText"),Pe.prototype),ct(Pe.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setAnchors"),Pe.prototype),ct(Pe.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setSelected"),Pe.prototype),ct(Pe.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHovered"),Pe.prototype),ct(Pe.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setHitable"),Pe.prototype),ct(Pe.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setElementState"),Pe.prototype),ct(Pe.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateStartPoint"),Pe.prototype),ct(Pe.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveStartPoint"),Pe.prototype),ct(Pe.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateEndPoint"),Pe.prototype),ct(Pe.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"moveEndPoint"),Pe.prototype),ct(Pe.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"setZIndex"),Pe.prototype),ct(Pe.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"initPoints"),Pe.prototype),ct(Pe.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAttributes"),Pe.prototype),ct(Pe.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustStart"),Pe.prototype),ct(Pe.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"getAdjustEnd"),Pe.prototype),ct(Pe.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Pe.prototype,"updateAfterAdjustStartAndEnd"),Pe.prototype),Pe),Pu=Su;function Dl(e){return(Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(){return(Rl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=vb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function vb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$o(e))!==null;);return e}function Il(e,t){return(Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$o(e);if(t){var a=$o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}function Ll(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot,Bl,Au=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Il(o,u)})(a,e);var t,n,r=gb(a);function a(){var o;hb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return zl(Ll(o=r.call.apply(r,[this].concat(l))),"modelType",pt.LINE_EDGE),o}return t=a,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Cl(Cl({},Rl($o(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&yb(t.prototype,n),a}(Pu);function Fl(e){return(Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hl(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Hl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ul(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ul(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(){return(oa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Kr(e))!==null;);return e}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Eb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kr(e);if(t){var a=Kr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mu=(Bl=on((ot=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xl(o,u)})(a,e);var t,n,r=Eb(a);function a(){var o;_b(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ku(Jo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYLINE_EDGE),ku(Jo(o),"draginngPointList",void 0),Ob(Jo(o),"dbClickPosition",Bl,Jo(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=30,oa(Kr(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Gl(Gl({},oa(Kr(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=go(this.points),O=mb(kb(d),2),x=O[0],A=O[1];return{x:(x.x+A.x)/2,y:(x.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,O;return l.forEach(function(x){var A;o===Mt.HORIZONTAL?A=Math.abs(u.y-x.y):o===Mt.VERTICAL&&(A=Math.abs(u.x-x.x)),(!O||O>A)&&(O=A,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===Mt.HORIZONTAL?d={x:l.x,y:u.y}:o===Mt.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(oe){return oe});if(o===1){var O=d[o],x=d[u],A=d[o-1];if(Ql(A,O,this.sourceNode)){if(ef(O,x,this.sourceNode)){var M=tf(O,x,this.sourceNode);M&&(d[o]=M,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(oe){(oe.x===A.x&&oe.x===O.x||oe.y===A.y&&oe.y===O.y)&&Yn(oe.x,oe.y,O.x,O.y)<Yn(A.x,A.y,O.x,O.y)&&(d[o-1]=oe)})}if(u===l.length-2){var I=d[o],W=d[u],ee=d[u+1];if(Ql(W,ee,this.targetNode)){if(ef(I,W,this.targetNode)){var ie=tf(I,W,this.targetNode);ie&&(d[u]=ie,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(oe){(oe.x===ee.x&&oe.x===W.x||oe.y===ee.y&&oe.y===W.y)&&Yn(oe.x,oe.y,W.x,W.y)<Yn(ee.x,ee.y,W.x,W.y)&&(d[u+1]=oe)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,O){var x=O.map(function(I){return I}),A=this.getAfterAnchor(o,l,d),M=this.getCorssPoint(o,l,A);return u==="start"?(x.unshift(M),x.unshift(A)):(x.push(M),x.push(A)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(ge){return ge}),l=o[0],d=o[1],O=o[u.length-2],x=o[u.length-1],A=this.sourceNode,M=this.targetNode,I=A.modelType,W=M.modelType,ee=la(l,d),ie=u[0];switch(I){case pt.RECT_NODE:A.radius!==0&&(jl(l,A)||(ie=El(l,ee,A)));break;case pt.CIRCLE_NODE:ie=xu(l,ee,A);break;case pt.ELLIPSE_NODE:ie=Sl(l,ee,A);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ie=Pl(l,ee,A)}u[0]=ie;var oe=la(O,x),ce=u[u.length-1];switch(W){case pt.RECT_NODE:M.radius!==0&&(jl(x,M)||(ce=El(x,oe,M)));break;case pt.CIRCLE_NODE:ce=xu(x,oe,M);break;case pt.ELLIPSE_NODE:ce=Sl(x,oe,M);break;case pt.DIAMOND_NODE:case pt.POLYGON_NODE:ce=Pl(x,oe,M)}return u[u.length-1]=ce,u}},{key:"getData",value:function(){var o=oa(Kr(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,O=o.startIndex,x=o.endIndex,A=o.direction,M=this.pointsList,I=M;return A===Mt.HORIZONTAL?(M[O]={x:l.x,y:l.y+u.y},M[x]={x:d.x,y:d.y+u.y},I=this.pointsList.map(function(W){return W})):A===Mt.VERTICAL&&(M[O]={x:l.x+u.x,y:l.y},M[x]={x:d.x+u.x,y:d.y},I=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(I),this.draginngPointList=I,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},M[O]),end:Object.assign({},M[x]),startIndex:O,endIndex:x,direction:A}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,O=o.startIndex,x=o.endIndex,A=o.direction,M=this.pointsList;if(A===Mt.HORIZONTAL){M[O]={x:l.x,y:l.y+u.y},M[x]={x:d.x,y:d.y+u.y};var I=this.pointsList.map(function(Be){return Be});if(O!==0&&x!==this.pointsList.length-1&&(I=this.removeCrossPoints(O,x,I)),O===0){var W={x:l.x,y:l.y+u.y};if(!Sr(W,this.sourceNode)){var ee=this.sourceNode.anchors;I=this.getDragingPoints(A,"start",W,ee,I)}}if(x===this.pointsList.length-1){var ie={x:d.x,y:d.y+u.y};if(!Sr(ie,this.targetNode)){var oe=this.targetNode.anchors;I=this.getDragingPoints(A,"end",ie,oe,I)}}I=Ru(I),this.updatePointsAfterDrage(I),this.draginngPointList=I}else if(A===Mt.VERTICAL){M[O]={x:l.x+u.x,y:l.y},M[x]={x:d.x+u.x,y:d.y};var ce=this.pointsList.map(function(Be){return Be});if(O!==0&&x!==this.pointsList.length-1&&(ce=this.removeCrossPoints(O,x,ce)),O===0){var ge={x:l.x+u.x,y:l.y};if(!Sr(ge,this.sourceNode)){var De=this.sourceNode.anchors;ce=this.getDragingPoints(A,"start",ge,De,ce)}}if(x===this.pointsList.length-1){var Ee={x:d.x+u.x,y:d.y};if(!Sr(Ee,this.targetNode)){var Ie=this.targetNode.anchors;ce=this.getDragingPoints(A,"end",Ee,Ie,ce)}}ce=Ru(ce),this.updatePointsAfterDrage(ce),this.draginngPointList=ce}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},M[O]),end:Object.assign({},M[x]),startIndex:O,endIndex:x,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=go(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,O=o.targetNode,x=Jl({x:u.x,y:u.y},{x:l.x,y:l.y},d,O,this.offset||0);this.pointsList=x,this.initPoints()}}])&&wb(t.prototype,n),a}(Pu)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on(ot.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"initPoints"),ot.prototype),on(ot.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"updatePoints"),ot.prototype),on(ot.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateStartPoint"),ot.prototype),on(ot.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"moveStartPoint"),ot.prototype),on(ot.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateEndPoint"),ot.prototype),on(ot.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"moveEndPoint"),ot.prototype),on(ot.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendStart"),ot.prototype),on(ot.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendSimple"),ot.prototype),on(ot.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppend"),ot.prototype),on(ot.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"dragAppendEnd"),ot.prototype),on(ot.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"updatePointsAfterDrage"),ot.prototype),on(ot.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"getAdjustStart"),ot.prototype),on(ot.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"getAdjustEnd"),ot.prototype),on(ot.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(ot.prototype,"updateAfterAdjustStartAndEnd"),ot.prototype),ot),Qo=function(e){var t=e.start,n=e.end,r=e.offset,a=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/a),O=Math.sqrt(a*a+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+O*Math.sin(l+d),u.leftY=t.y-O*Math.cos(l+d),u.rightX=t.x-O*Math.sin(l-d),u.rightY=t.y+O*Math.cos(l-d)):(u.leftX=t.x-O*Math.sin(l+d),u.leftY=t.y+O*Math.cos(l+d),u.rightX=t.x+O*Math.sin(l-d),u.rightY=t.y-O*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+O*Math.sin(l-d),u.leftY=n.y-O*Math.cos(l-d),u.rightX=n.x-O*Math.sin(l+d),u.rightY=n.y+O*Math.cos(l+d)):(u.leftX=n.x-O*Math.sin(l-d),u.leftY=n.y+O*Math.cos(l-d),u.rightX=n.x+O*Math.sin(l+d),u.rightY=n.y-O*Math.cos(l+d))),u};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pb(e){return function(t){if(Array.isArray(t))return Du(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Wl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yl(e){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||Wl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wl(e,t){if(e){if(typeof e=="string")return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(e,t):void 0}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nu=function(e){var t=[],n={};return e.forEach(function(r){var a="".concat(r.x,"-").concat(r.y);r.id=a,n[a]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},aa=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ua=function(e,t){return function(n,r){var a=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return a/r.width>o/r.height?Mt.HORIZONTAL:Mt.VERTICAL}(t,e)===Mt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Kl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:a,maxY:o,height:o-r,width:a-n}},ei=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(x){n.push(x.x),r.push(x.y)});var a=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-a,O=l-u;return t&&(d+=t,O+=t),{centerX:(a+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:a,minY:u,x:(a+o)/2,y:(u+l)/2,height:O,width:d}},ca=function(e){var t=e.minX,n=e.minY,r=e.maxX,a=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:a},{x:t,y:a}]},sa=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Cu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Zl=function(e,t,n,r,a){return Cu(e,t)+Cu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,a])},ti=function(e,t,n,r){var a=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+a*(e.y-n.y))/(-u*o+a*l),O=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+a*l);return d>=0&&d<=1&&O>=0&&O<=1},ql=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Tu(ca(n),4),a=r[0],o=r[1],u=r[2],l=r[3];return ti(e,t,a,o)||ti(e,t,a,l)||ti(e,t,o,u)||ti(e,t,u,l)},Ab=function(e,t,n,r,a,o,u){var l=[],d=[t],O={},x={},A={};x[t.id]=0,A[t.id]=Zl(t,n,t);var M={};e.forEach(function(ee){M[ee.id]=ee});for(var I=function(){var ee,ie,oe,ce=void 0,ge=1/0;if(d.forEach(function(Ee){A[Ee.id]<ge&&(ge=A[Ee.id],ce=Ee)}),ce===n){var De=[];return function Ee(Ie,Be,Qe,dt,ht){ht||(ht=0),Ie.unshift(Be[dt]),Qe[dt]&&Qe[dt]!==dt&&ht<=100&&Ee(Ie,Be,Qe,Qe[dt],ht+1)}(De,M,O,n.id),{v:De}}ie=ce,(oe=(ee=d).indexOf(ie))>-1&&ee.splice(oe,1),l.push(ce),function(Ee,Ie,Be,Qe){var dt=[];return Ee.forEach(function(ht){ht!==Ie&&(ht.x!==Ie.x&&ht.y!==Ie.y||ql(ht,Ie,Be)||ql(ht,Ie,Qe)||dt.push(ht))}),Nu(dt)}(e,ce,r,a).forEach(function(Ee){if(l.indexOf(Ee)===-1){d.indexOf(Ee)===-1&&d.push(Ee);var Ie=A[ce.id]+Cu(ce,Ee);x[Ee.id]&&Ie>=x[Ee.id]||(O[Ee.id]=ce.id,x[Ee.id]=Ie,A[Ee.id]=x[Ee.id]+Zl(Ee,n,t,o,u))}})};d.length;){var W=I();if(Yl(W)==="object")return W.v}return[t,n]},$l=function(e){return bn(e)},Ru=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],a=t[n],o=t[n+1];r.x===a.x&&a.x===o.x||r.y===a.y&&a.y===o.y?t.splice(n,1):n++}return t},Jl=function(e,t,n,r,a){var o,u,l=$l(n),d=$l(r),O=aa(l,a),x=aa(d,a),A=ua(O,e),M=ua(x,t);if(o=O,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var I=Mb(e,t,A,M);return[e,A].concat(Pb(I),[M,t])}var W=ei([A,M]),ee=Kl(O,W),ie=Kl(x,W),oe=[];oe=(oe=oe.concat(ca(ee))).concat(ca(ie));var ce={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,ee,ie].forEach(function(De){oe=oe.concat(function(Ee,Ie){return function(Be,Qe){return Qe<Be.minX||Qe>Be.maxX?[]:[{x:Qe,y:Be.minY},{x:Qe,y:Be.maxY}]}(Ee,Ie.x).concat(function(Be,Qe){return Qe<Be.minY||Qe>Be.maxY?[]:[{x:Be.minX,y:Qe},{x:Be.maxX,y:Qe}]}(Ee,Ie.y))}(De,ce).filter(function(Ee){return sa(Ee,O)&&sa(Ee,x)}))}),[{x:A.x,y:M.y},{x:M.x,y:A.y}].forEach(function(De){sa(De,O)&&sa(De,x)&&oe.push(De)}),oe.unshift(A),oe.push(M),oe=Nu(oe);var ge=Ab(oe,A,M,l,d,e,t);return ge.unshift(e),ge.push(t),ge.length>2&&(ge=Ru(ge)),Nu(ge)},kb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],a=Yn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Yn(u.x,u.y,l.x,l.y);d>a&&(a=d,n=u,r=l)}t=[n,r]}return t},Ql=function(e,t,n){var r=Sr(e,n),a=Sr(t,n);return r&&a},ef=function(e,t,n){var r=Sr(e,n),a=Sr(t,n);return!(r&&a)&&(r||a)},tf=function(e,t,n){for(var r,a,o=bn(n),u=ca(o),l=0;l<u.length;l++)ti(e,t,u[l],u[(l+1)%u.length])&&(a=[u[l],u[(l+1)%u.length]]);return a&&(r=function(d,O,x,A){var M=(O.y-d.y)*(A.x-x.x)-(d.x-O.x)*(x.y-A.y);if(M===0)return!1;var I=((O.x-d.x)*(A.x-x.x)*(x.y-d.y)+(O.y-d.y)*(A.x-x.x)*d.x-(A.y-x.y)*(O.x-d.x)*x.x)/M,W=-((O.y-d.y)*(A.y-x.y)*(x.x-d.x)+(O.x-d.x)*(A.y-x.y)*d.y-(A.x-x.x)*(O.y-d.y)*x.y)/M;return(I-d.x)*(I-O.x)<=0&&(W-d.y)*(W-O.y)<=0&&(I-x.x)*(I-A.x)<=0&&(W-x.y)*(W-A.y)<=0&&{x:I,y:W}}(e,t,a[0],a[1])),r},la=function(e,t){var n;return e.x===t.x?n=Mt.VERTICAL:e.y===t.y&&(n=Mt.HORIZONTAL),n},go=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var a=Tu(r.split(","),2),o=a[0],u=a[1];n.push({x:Number(o),y:Number(u)})}),n},Mb=function(e,t,n,r){var a=[];if(la(e,n)===la(t,r))e.y===n.y?(a.push({x:n.x,y:(n.y+r.y)/2}),a.push({x:r.x,y:(n.y+r.y)/2})):(a.push({x:(n.x+r.x)/2,y:n.y}),a.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=qo(o,e,n),l=qo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=nf(o,e,n),O=nf(o,t,r);d&&O&&(o={x:r.x,y:n.y})}a.push(o)}return a},nf=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},rf=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},of=function(e){var t=e.start,n=e.end,r=e.sourceNode,a=e.targetNode,o=e.offset,u=bn(r),l=bn(a),d=aa(u,o),O=aa(l,o);return{sNext:ua(d,t),ePre:ua(O,n)}},fa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[pa(t[0]),pa(t[1]),pa(t[2]),pa(t[3])]},pa=function(e){var t=Tu(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},af=function(e,t){for(var n,r=e.x,a=e.y,o=go(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(M){var I=M.start,W=M.end;if(I.x===W.x){var ee={x:I.x,y:a};if(qo(ee,I,W)){var ie=Math.abs(I.x-r);ie<u&&(u=ie,n=ee)}}else if(I.y===W.y){var oe={x:r,y:I.y};if(qo(oe,I,W)){var ce=Math.abs(I.y-a);ce<u&&(u=ce,n=oe)}}}),!n){var O=l[0],x=O.start,A=O.end;n={x:x.x+(A.x-x.x)/2,y:x.y+(A.y-x.y)/2}}return n},Tb=function(e){return Ko(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},uf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};i(204);var bo=function(){};function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=window.document;function Iu(e){var t=e.onDragStart,n=t===void 0?bo:t,r=e.onDraging,a=r===void 0?bo:r,o=e.onDragEnd,u=o===void 0?bo:o,l=e.step,d=l===void 0?1:l,O=e.isStopPropagation,x=O===void 0||O,A=!1,M=!1,I=0,W=0,ee=0,ie=0;function oe(ge){if(x&&ge.stopPropagation(),M&&(A=!0,ee+=ge.clientX-I,ie+=ge.clientY-W,I=ge.clientX,W=ge.clientY,Math.abs(ee)>d||Math.abs(ie)>d)){var De=ee%d,Ee=ie%d,Ie=ee-De,Be=ie-Ee;ee=De,ie=Ee,a({deltaX:Ie,deltaY:Be,event:ge})}}function ce(ge){if(x&&ge.stopPropagation(),M=!1,Kn.removeEventListener("mousemove",oe,!1),Kn.removeEventListener("mouseup",ce,!1),A)return A=!1,u({event:ge})}return function(ge){if(ge.button===0)return x&&ge.stopPropagation(),M=!0,I=ge.clientX,W=ge.clientY,Kn.addEventListener("mousemove",oe,!1),Kn.addEventListener("mouseup",ce,!1),n({event:ge})}}var le,cf,sf,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,Zr=function(){function e(r){var a=this,o=r.onDragStart,u=o===void 0?bo:o,l=r.onDraging,d=l===void 0?bo:l,O=r.onDragEnd,x=O===void 0?bo:O,A=r.eventType,M=A===void 0?"":A,I=r.eventCenter,W=I===void 0?null:I,ee=r.step,ie=ee===void 0?1:ee,oe=r.isStopPropagation,ce=oe===void 0||oe,ge=r.model,De=ge===void 0?null:ge;(function(Ee,Ie){if(!(Ee instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(Ee){var Ie,Be;if(Ee.button===0){a.isStopPropagation&&Ee.stopPropagation(),a.isStartDraging=!0,a.startX=Ee.clientX,a.startY=Ee.clientY,Kn.addEventListener("mousemove",a.handleMouseMove,!1),Kn.addEventListener("mouseup",a.handleMouseUp,!1);var Qe=(Ie=a.model)===null||Ie===void 0?void 0:Ie.getData();(Be=a.eventCenter)===null||Be===void 0||Be.emit(tt["".concat(a.eventType,"_MOUSEDOWN")],{e:Ee,data:Qe}),a.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(Ee){if(a.isStopPropagation&&Ee.stopPropagation(),a.isStartDraging&&(a.sumDeltaX+=Ee.clientX-a.startX,a.sumDeltaY+=Ee.clientY-a.startY,a.startX=Ee.clientX,a.startY=Ee.clientY,a.step<=1||Math.abs(a.sumDeltaX)>a.step||Math.abs(a.sumDeltaY)>a.step)){var Ie,Be=a.sumDeltaX%a.step,Qe=a.sumDeltaY%a.step,dt=a.sumDeltaX-Be,ht=a.sumDeltaY-Qe;a.sumDeltaX=Be,a.sumDeltaY=Qe;var Ct,Ht=(Ie=a.model)===null||Ie===void 0?void 0:Ie.getData();a.isDraging||((Ct=a.eventCenter)===null||Ct===void 0||Ct.emit(tt["".concat(a.eventType,"_DRAGSTART")],{e:Ee,data:Ht}),a.onDragStart({event:Ee})),a.isDraging=!0,Promise.resolve().then(function(){var cn,pn;a.onDraging({deltaX:dt,deltaY:ht,event:Ee}),(cn=a.eventCenter)===null||cn===void 0||cn.emit(tt["".concat(a.eventType,"_MOUSEMOVE")],{e:Ee,data:Ht}),(pn=a.eventCenter)===null||pn===void 0||pn.emit(tt["".concat(a.eventType,"_DRAG")],{e:Ee,data:Ht})})}}),zt(this,"handleMouseUp",function(Ee){a.isStartDraging=!1,a.isStopPropagation&&Ee.stopPropagation(),Promise.resolve().then(function(){var Ie,Be,Qe;Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1);var dt=(Ie=a.model)===null||Ie===void 0?void 0:Ie.getData();(Be=a.eventCenter)===null||Be===void 0||Be.emit(tt["".concat(a.eventType,"_MOUSEUP")],{e:Ee,data:dt}),a.isDraging&&(a.isDraging=!1,a.onDragEnd({event:Ee}),(Qe=a.eventCenter)===null||Qe===void 0||Qe.emit(tt["".concat(a.eventType,"_DROP")],{e:Ee,data:dt}))})}),zt(this,"cancelDrag",function(){Kn.removeEventListener("mousemove",a.handleMouseMove,!1),Kn.removeEventListener("mouseup",a.handleMouseUp,!1),a.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=ie,this.isStopPropagation=ce,this.eventType=M,this.eventCenter=W,this.model=De}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Db(t.prototype,n),e}();function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Of(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _f(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||wf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mo(e){return function(t){if(Array.isArray(t))return Lu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wf(e,t){if(e){if(typeof e=="string")return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}function Lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e){return(zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function En(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xf,Ef=(cf=Je((le=function(){function e(r){(function(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"rootEl",void 0),En(this,"width",cf,this),En(this,"height",sf,this),cr(this,"theme",void 0),cr(this,"eventCenter",void 0),cr(this,"modelMap",new Map),cr(this,"topElement",void 0),cr(this,"animation",void 0),cr(this,"idGenerator",void 0),cr(this,"nodeMoveRules",[]),En(this,"edgeType",lf,this),En(this,"nodes",ff,this),En(this,"edges",pf,this),En(this,"overlapMode",df,this),En(this,"background",hf,this),En(this,"transformModel",yf,this),En(this,"editConfigModel",vf,this),En(this,"gridSize",gf,this),En(this,"partial",bf,this),En(this,"fakerNode",mf,this);var a,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,O=r.idGenerator,x=r.animation;this.background=l,zu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Cs(r),this.eventCenter=new Jg,this.transformModel=new bg(this.eventCenter),this.theme=tl(r.style),this.edgeType=r.edgeType||"polyline",r.width||(r.width=o.getBoundingClientRect().width),r.height||(r.height=o.getBoundingClientRect().height),this.width=r.width,this.height=r.height,this.animation=(a=x)&&typeof a!="boolean"?el(Dt(Ml),a):Dt(a===!0?sb:Ml),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=O}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,a,o){return r[a.id]={index:o,model:a},r},{})}},{key:"modelsMap",get:function(){return[].concat(mo(this.nodes),mo(this.edges)).reduce(function(r,a){return r[a.id]=a,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(A){return r.push(A)}),this.edges.forEach(function(A){return r.push(A)}),r=r.sort(function(A,M){return A.zIndex-M.zIndex});for(var a=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var O=r[d];O.visible&&(!this.partial||O.isSelected||this.isElementInArea(O,u,l,!1,!1))&&(O.zIndex===9999&&(o=a.length),a.push(O))}if(o!==-1){var x=a[a.length-1];a[a.length-1]=a[o],a[o]=x}return a}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===St.TEXT_EDIT}),a=this.edges.find(function(o){return o.state===St.TEXT_EDIT});return r||a}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(a){a.isSelected&&r.set(a.id,a)}),this.edges.forEach(function(a){a.isSelected&&r.set(a.id,a)}),r}},{key:"getAreaElement",value:function(r,a){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=[],d=[];this.nodes.forEach(function(A){return d.push(A)}),this.edges.forEach(function(A){return d.push(A)});for(var O=0;O<d.length;O++){var x=d[O];this.isElementInArea(x,r,a,o,u)&&l.push(x)}return l}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var a;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(a=this.nodesMap[r])===null||a===void 0?void 0:a.model}},{key:"getPointByClient",value:function(r){var a=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:a-u.left,y:o-u.top},d=_f(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,a,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Ft.NODE){for(var d=bn(r=r),O=d.minX,x=d.minY,A=d.maxX,M=d.maxY,I=[{x:O,y:x},{x:A,y:x},{x:A,y:M},{x:O,y:M}],W=l,ee=0;ee<I.length;ee++){var ie=I[ee],oe=ie.x,ce=ie.y,ge=this.transformModel.CanvasPointToHtmlPoint([oe,ce]),De=_f(ge,2);if(oe=De[0],ce=De[1],mu([oe,ce],a,o)!==l){W=!l;break}}return W}if(r.BaseType===Ft.EDGE){var Ee=r=r,Ie=Ee.startPoint,Be=Ee.endPoint,Qe=this.transformModel.CanvasPointToHtmlPoint([Ie.x,Ie.y]),dt=this.transformModel.CanvasPointToHtmlPoint([Be.x,Be.y]),ht=mu(Qe,a,o),Ct=mu(dt,a,o);return u?ht&&Ct:ht||Ct}return!1}},{key:"graphDataToModel",value:function(r){var a=this;this.nodes=$i(r.nodes,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=vo(l,a.gridSize),o.y=vo(d,a.gridSize),zu(o.text)==="object"&&(o.text.x-=nl(l,a.gridSize),o.text.y-=nl(d,a.gridSize))),new u(o,a)}),this.edges=$i(r.edges,function(o){var u=a.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,a)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var a=[];return this.nodes.forEach(function(o){var u=o.getData();u&&a.push(u)}),{nodes:a,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,a=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}a.push(u.getHistoryData())}if(r)return!1;for(var l=!1,d=[],O=0;O<this.edges.length;O++){var x=this.edges[O];if(x.isDragging){l=!0;break}d.push(x.getHistoryData())}return!l&&{nodes:a,edges:d}}},{key:"getEdgeModelById",value:function(r){var a;return(a=this.edgesMap[r])===null||a===void 0?void 0:a.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var a=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&a.push(u)}return a}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.selectElements,o={nodes:[],edges:[]};return a.forEach(function(u){if(u.BaseType===Ft.NODE&&o.nodes.push(u.getData()),u.BaseType===Ft.EDGE){var l=u.getData(),d=a.get(l.sourceNodeId)&&a.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,a){this.getElement(r).updateAttributes(a)}},{key:"changeNodeId",value:function(r,a){return a||(a=Wr()),this.nodesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=a),o.targetNodeId===r&&(o.targetNodeId=a)}),this.nodesMap[r].model.id=a,a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,a){return a||(a=Wr()),this.edgesMap[a]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=a)}),a):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(a,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,a){return this.modelMap.set(r,a)}},{key:"toFront",value:function(r){var a,o,u,l=((a=this.nodesMap[r])===null||a===void 0?void 0:a.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===gn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===gn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,a){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof a=="number"&&(l=a),a==="top"&&(l=ju()),a==="bottom"&&(l=--pb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var a=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(tt.NODE_DELETE,{data:a})}},{key:"addNode",value:function(r){var a=Wn(r);a.id&&this.nodesMap[r.id]&&delete a.id;var o=this.getModel(a.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(a.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(a,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(tt.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var a=this.getNodeModelById(r),o=a.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),a.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,O=d.move(a,o,u);O&&this.moveEdge(r,a,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,a,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,O=d.x,x=d.y,A=a-O,M=o-x;this.moveNode(r,A,M,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,St.TEXT_EDIT)}},{key:"addEdge",value:function(r){var a=Wn(r),o=a.type;o||(o=this.edgeType),a.id&&this.edgesMap[a.id]&&delete a.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(da(da({},a),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(tt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,a,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],O=d.textPosition,x=O.x,A=O.y,M=this.edges[u].sourceNodeId===r,I=this.edges[u].targetNodeId===r;if(M&&d.moveStartPoint(a,o),I&&d.moveEndPoint(a,o),M||I)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===pt.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,ee=af(W,d.points);d.moveText(ee.x-W.x,ee.y-W.y)}else{var ie=d.textPosition,oe=ie.x,ce=ie.y;d.moveText(oe-x,ce-A)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,a){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===a){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(tt.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var a=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(a,1),this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].sourceNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var a=0;a<this.edges.length;a++)if(this.edges[a].targetNodeId===r){var o=this.edges[a].getData();this.edges.splice(a,1),a--,this.eventCenter.emit(tt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,a,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(a,o):u.setElementState(St.DEFAULT)})}},{key:"updateText",value:function(r,a){this.nodes.forEach(function(o){o.id===r&&o.updateText(a)}),this.edges.forEach(function(o){o.id===r&&o.updateText(a)})}},{key:"selectNodeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.nodesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var a,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(a=this.edgesMap[r])===null||a===void 0?void 0:a.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(a){a==null||a.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===gn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,a,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,a,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,a){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(O){if(O.sourceNodeId===r){var x=Al(d,O.startPoint,d.width,d.height);O.updateStartPoint(x)}if(O.targetNodeId===r){var A=Al(d,O.endPoint,d.width,d.height);O.updateEndPoint(A)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,a){var o=this.getEdgeModelById(r);if(o){if(o.type!==a){var u=o.getData();u.type=a;var l=this.getModel(a);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(a,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.targetNodeId===r&&a.push(o)}),a}},{key:"getNodeOutgoingEdge",value:function(r){var a=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&a.push(o)}),a}},{key:"getNodeIncomingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(a.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var a=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(a.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=tl(da(da({},this.theme),r))}},{key:"resize",value:function(r,a){this.width=r!=null?r:this.width,this.height=a!=null?a:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,a=[],o=[];r.forEach(function(A){var M=A.x,I=A.y,W=A.width,ee=A.height,ie=A.getNodeStyle().strokeWidth,oe=ie===void 0?0:ie;a=a.concat([M+W/2+oe,M-W/2-oe]),o=o.concat([I+ee/2+oe,I-ee/2-oe])});var u=Math.min.apply(Math,mo(a)),l=Math.max.apply(Math,mo(a)),d=Math.min.apply(Math,mo(o)),O=l-u||0,x=Math.max.apply(Math,mo(o))-d||0;return{virtualRectWidth:O,virtualRectHeight:x,virtualRectCenterPositionX:u+O/2,virtualRectCenterPositionY:d+x/2}}},{key:"translateCenter",value:function(){var r=this.nodes,a=this.width,o=this.height,u=this.rootEl,l=this.transformModel;if(r.length){var d=a||u.clientWidth,O=o||u.clientHeight,x=this.getVirtualRectSize(),A=x.virtualRectCenterPositionX,M=x.virtualRectCenterPositionY;l.focusOn(A,M,d,O)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,a=this.nodes,o=this.width,u=this.height,l=this.rootEl,d=this.transformModel;if(a.length){var O=o||l.clientWidth,x=u||l.clientHeight,A=this.getVirtualRectSize(),M=A.virtualRectWidth,I=A.virtualRectHeight,W=A.virtualRectCenterPositionX,ee=A.virtualRectCenterPositionY,ie=(M+r)/O,oe=(I+r)/x,ce=0;ce=1/Math.max(ie,oe);var ge=[O/2,x/2];d.zoom(ce,ge),d.focusOn(W,ee,O,x)}}}])&&Nb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=Je(le.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=Je(le.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=Je(le.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pf=Je(le.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),df=Je(le.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gn.DEFAULT}}),hf=Je(le.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=Je(le.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=Je(le.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=Je(le.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bf=Je(le.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=Je(le.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je(le.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"nodesMap"),le.prototype),Je(le.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"edgesMap"),le.prototype),Je(le.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"modelsMap"),le.prototype),Je(le.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"sortElements"),le.prototype),Je(le.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"textEditElement"),le.prototype),Je(le.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(le.prototype,"selectElements"),le.prototype),Je(le.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setFakerNode"),le.prototype),Je(le.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"removeFakerNode"),le.prototype),Je(le.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setModel"),le.prototype),Je(le.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"toFront"),le.prototype),Je(le.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementZIndex"),le.prototype),Je(le.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteNode"),le.prototype),Je(le.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"addNode"),le.prototype),Je(le.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"cloneNode"),le.prototype),Je(le.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode"),le.prototype),Je(le.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNode2Coordinate"),le.prototype),Je(le.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"editText"),le.prototype),Je(le.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"addEdge"),le.prototype),Je(le.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveEdge"),le.prototype),Je(le.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySourceAndTarget"),le.prototype),Je(le.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeById"),le.prototype),Je(le.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeBySource"),le.prototype),Je(le.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"deleteEdgeByTarget"),le.prototype),Je(le.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setElementStateById"),le.prototype),Je(le.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"updateText"),le.prototype),Je(le.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectNodeById"),le.prototype),Je(le.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectEdgeById"),le.prototype),Je(le.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"selectElementById"),le.prototype),Je(le.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"clearSelectElements"),le.prototype),Je(le.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"moveNodes"),le.prototype),Je(le.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setDefaultEdgeType"),le.prototype),Je(le.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"changeNodeType"),le.prototype),Je(le.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"changeEdgeType"),le.prototype),Je(le.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingEdge"),le.prototype),Je(le.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingEdge"),le.prototype),Je(le.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeIncomingNode"),le.prototype),Je(le.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"getNodeOutgoingNode"),le.prototype),Je(le.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"setTheme"),le.prototype),Je(le.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"resize"),le.prototype),Je(le.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"clearData"),le.prototype),Je(le.prototype,"translateCenter",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"translateCenter"),le.prototype),Je(le.prototype,"fitView",[s.k],Object.getOwnPropertyDescriptor(le.prototype,"fitView"),le.prototype),le),Cb=Ef;function jf(e){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sf(){return(Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ib(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(e);if(t){var a=Bu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lb(this,n)}}function Lb(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af,zb=zn(xf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(a,e);var t,n,r=Ib(a);function a(o){var u;(function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")})(this,a),sr(Zn(u=r.call(this)),"stepDrag",void 0),sr(Zn(u),"stepScrollX",0),sr(Zn(u),"stepScrollY",0),sr(Zn(u),"onDraging",function(x){var A=x.deltaX,M=x.deltaY;u.setState({isDraging:!0});var I=u.props.graphModel,W=I.transformModel;I.editConfigModel.stopMoveGraph||W.translate(A,M)}),sr(Zn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),sr(Zn(u),"zoomHandler",function(x){var A=u.props,M=A.graphModel,I=M.editConfigModel,W=M.transformModel,ee=M.gridSize,ie=A.graphModel,oe=x.deltaX,ce=x.deltaY;if(I.stopScrollGraph||x.ctrlKey===!0){if(!I.stopZoomGraph){x.preventDefault();var ge=ie.getPointByClient({x:x.clientX,y:x.clientY}).canvasOverlayPosition,De=ge.x,Ee=ge.y;W.zoom(x.deltaY<0,[De,Ee])}}else{if(x.preventDefault(),u.stepScrollX+=oe,u.stepScrollY+=ce,Math.abs(u.stepScrollX)>=ee){var Ie=u.stepScrollX%ee,Be=u.stepScrollX-Ie;W.translate(-Be*W.SCALE_X,0),u.stepScrollX=Ie}if(Math.abs(u.stepScrollY)>=ee){var Qe=u.stepScrollY%ee,dt=u.stepScrollY-Qe;W.translate(0,-dt*W.SCALE_Y),u.stepScrollY=Qe}}}),sr(Zn(u),"clickHandler",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){var A=u.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(tt.BLANK_CLICK,{e:x})}}),sr(Zn(u),"handleContextMenu",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){x.preventDefault();var A=u.props.graphModel,M=A.getPointByClient({x:x.clientX,y:x.clientY});A.eventCenter.emit(tt.BLANK_CONTEXTMENU,{e:x,position:M})}}),sr(Zn(u),"mouseDownHandler",function(x){var A=u.props.graphModel,M=A.eventCenter,I=A.editConfigModel,W=A.transformModel.SCALE_X,ee=A.gridSize,ie=x.target,oe=!I.adjustEdge&&!I.adjustNodePosition;(ie.getAttribute("name")==="canvas-overlay"||oe)&&(I.stopMoveGraph?M.emit(tt.BLANK_MOUSEDOWN,{e:x}):(u.stepDrag.setStep(ee*W),u.stepDrag.handleMouseDown(x)),u.clickHandler(x))});var l=o.graphModel,d=l.gridSize,O=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),u.state={isDraging:!1},u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,O=this.state.isDraging;return Object(q.g)("svg",Sf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(q.g)("g",{transform:o},l))}}])&&Rb(t.prototype,n),a}(q.a))||xf;function kf(e){return(kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(e);if(t){var a=Fu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ub(this,n)}}function Ub(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tf(e)}function Tf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Gb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xb=zn(Af=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mf(o,u)})(a,e);var t,n,r=Hb(a);function a(){var o;Bb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Gb(Tf(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(O){var x=o.props.tool.getInstance();x.components.forEach(function(A){return A(x,O)}),x.components=[]}),o}return t=a,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(O){return Object(q.g)(O,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Fb(t.prototype,n),a}(q.a))||Af;function Df(e){return(Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Wb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(e);if(t){var a=Hu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf,Zb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nf(o,u)})(a,e);var t,n,r=Wb(a);function a(){return Vb(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.background;return Object(q.g)("div",{className:"lf-background"},Object(q.g)("div",{style:o,className:"lf-background-area"}))}}])&&Yb(t.prototype,n),a}(q.a);function Rf(e){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(e);if(t){var a=Uu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lf(e)}function Lf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zf=zn(Cf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&If(o,u)})(a,e);var t,n,r=Jb(a);function a(){var o;qb(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return em(Lf(o=r.call.apply(r,[this].concat(l))),"id",Wr()),o}return t=a,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,O=d===void 0?2:d,x=o.size,A=o.visible,M=Math.min(Math.max(2,O),x/2),I=1;return A||(I=0),Object(q.g)("rect",{width:M,height:M,rx:M/2,ry:M/2,fill:l,opacity:I})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,O=d===void 0?1:d,x=o.size,A=o.visible,M=Math.min(Math.max(1,O),x/2),I="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),W=1;return A||(W=0),Object(q.g)("path",{d:I,stroke:l,strokeWidth:M,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,O=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(O,")");return Object(q.g)("div",{className:"lf-grid"},Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(q.g)("defs",null,Object(q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&$b(t.prototype,n),a}(q.a))||Cf;zf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ff(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ff(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hf,qr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=tm(n,2),a=r[0],o=r[1];Bf(o)!=="object"&&(t[a]=o)}),Object(q.g)("line",t)};function Uf(e){return(Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gf(Object(n),!0).forEach(function(r){nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return(Xf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(e);if(t){var a=Gu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Vf,um=zn(Hf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xf(o,u)})(a,e);var t,n,r=im(a);function a(){return rm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,O=o.getStyle(),x=u.x,A=x===void 0?0:x,M=u.y,I=M===void 0?0:M,W=ha(ha({x1:-1e5,y1:I,x2:1e5,y2:I},O),{},{stroke:l?O.stroke:"none"}),ee=ha(ha({x1:A,y1:-1e5,x2:A,y2:1e5},O),{},{stroke:d?O.stroke:"none"});return Object(q.g)("g",{className:"lf-snapline"},Object(q.g)(qr,W),Object(q.g)(qr,ee))}}])&&om(t.prototype,n),a}(q.a))||Hf;function Yf(e){return(Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Wf(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e){var t=e.x,n=e.y,r=e.width,a=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-a/2,O={};return Object.entries(e).forEach(function(x){var A=cm(x,2),M=A[0],I=A[1];Yf(I)!=="object"&&(O[M]=I)}),O.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(O.rx=u,O.ry=u),O.x=l,O.y=d,Object(q.g)("rect",O)}function Kf(e){return(Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ni(){return(ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zf(Object(n),!0).forEach(function(r){sm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t){return($f=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xu(e);if(t){var a=Xu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Pr.defaultProps={className:"",radius:""};var Jf,hm=zn(Vf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$f(o,u)})(a,e);var t,n,r=pm(a);function a(){return lm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,O=l.nodeSelectedOutline,x=[];return u.forEach(function(A){if(A.isHovered||A.isSelected){var M=A.isHovered,I=A.isSelected,W=A.x,ee=A.y,ie=A.width,oe=A.height;if(O&&I||d&&M){var ce=A.getOutlineStyle(),ge={};if(Object.keys(ce).forEach(function(Ee){Ee!=="hover"&&(ge[Ee]=ce[Ee])}),M){var De=ce.hover;ge=qf(qf({},ge),De)}x.push(Object(q.g)(Pr,ni({className:"lf-outline-node",x:W,y:ee,width:ie+10,height:oe+10},ge)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,O=l.hoverOutline,x=[],A=0;A<u.length;A++){var M=u[A];(d&&M.isSelected||O&&M.isHovered)&&(M.modelType===pt.LINE_EDGE?x.push(this.getLineOutline(M)):M.modelType===pt.POLYLINE_EDGE?x.push(this.getPolylineOutline(M)):M.modelType===pt.BEZIER_EDGE&&x.push(this.getBezierOutline(M)))}return x}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,O=(u.y+l.y)/2,x=Math.abs(u.x-l.x)+10,A=Math.abs(u.y-l.y)+10,M=o.getOutlineStyle();return Object(q.g)(Pr,ni({className:"lf-outline-edge",x:d,y:O,width:x,height:A},M))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=go(u),d=ei(l,8),O=d.x,x=d.y,A=d.width,M=d.height,I=o.getOutlineStyle();return Object(q.g)(Pr,ni({className:"lf-outline",x:O,y:x,width:A,height:M},I))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=fa(u),d=ei(l,8),O=d.x,x=d.y,A=d.width,M=d.height,I=o.getOutlineStyle();return Object(q.g)(Pr,ni({className:"lf-outline",x:O,y:x,width:A,height:M},I))}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&fm(t.prototype,n),a}(q.a))||Vf;function Qf(e){return(Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ep(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ri(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:a,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var x=ym(O,2),A=x[0],M=x[1];Qf(M)!=="object"&&(d[A]=M)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(q.g)("circle",d)}function tp(e){return(tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return np(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return np(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t,n){return t&&op(e.prototype,t),n&&op(e,n),e}function ap(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}function up(e,t){return(up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function cp(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vu(e);if(t){var a=Vu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp,lp=function(e){ap(n,e);var t=cp(n);function n(){var r;return rp(this,n),Yu(va(r=t.call(this)),"dragHandler",void 0),Yu(va(r),"onDraging",function(a){var o=a.event,u=r.props,l=u.graphModel,d=u.bezierModel,O=u.type,x=l.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,A=x.x,M=x.y;d.updateAdjustAnchor({x:A,y:M},O)}),Yu(va(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zr({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return ip(n,[{key:"render",value:function(){var r=this,a=this.props.position,o=a.x,u=a.y,l=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(q.g)(ri,ya({className:"lf-bezier-adjust-anchor",x:o,y:u},l,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(q.a),bm=zn(Jf=function(e){ap(n,e);var t=cp(n);function n(){return rp(this,n),t.apply(this,arguments)}return ip(n,[{key:"getBezierAdjust",value:function(r,a){var o=r.path,u=r.id,l=vm(fa(o),4),d=l[0],O=l[1],x=l[2],A=l[3],M=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(q.g)(qr,ya({x1:d.x,y1:d.y,x2:O.x,y2:O.y},M))),I.push(Object(q.g)(lp,{position:O,bezierModel:r,graphModel:a,key:"".concat(u,"_ePre"),type:"sNext"})),I.push(Object(q.g)(qr,ya({x1:A.x,y1:A.y,x2:x.x,y2:x.y},M))),I.push(Object(q.g)(lp,{position:x,bezierModel:r,graphModel:a,key:"".concat(u,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,a=r.edges,o=[],u=0;u<a.length;u++){var l=a[u];l.isSelected&&l.modelType===pt.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(q.a))||Jf;function fp(e){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t){return(pp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _m(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wu(e);if(t){var a=Wu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dp,xm=zn(sp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pp(o,u)})(a,e);var t,n,r=_m(a);function a(){return mm(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(q.g)("g",{transform:o},u))}}])&&Om(t.prototype,n),a}(q.a))||sp;function hp(e){return(hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Sm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ku(e);if(t){var a=Ku(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Am=zn(dp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(a,e);var t,n,r=Sm(a);function a(){return Em(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,O=d(o.type);return Object(q.g)(O,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,O=u.options,x=u.dnd,A=u.snaplineModel,M={};O.width&&(M.width="".concat(l.width,"px")),O.height&&(M.height="".concat(l.height,"px"));var I=l.fakerNode,W=l.editConfigModel.adjustEdge;return Object(q.g)("div",{className:"lf-graph",style:M},Object(q.g)(zb,{graphModel:l,dnd:x},Object(q.g)("g",{className:"lf-base"},$i(l.sortElements,function(ee){return o.getComponent(ee,l)})),I?this.getComponent(I,l):""),Object(q.g)(xm,{graphModel:l},Object(q.g)(hm,{graphModel:l}),W?Object(q.g)(bm,{graphModel:l}):"",O.isSilentMode||O.snapline===!1?"":Object(q.g)(um,{snaplineModel:A})),Object(q.g)(Xb,{graphModel:l,tool:d}),O.background&&Object(q.g)(Zb,{background:O.background}),O.grid&&Object(q.g)(zf,yp({},O.grid,{graphModel:l})))}}])&&jm(t.prototype,n),a}(q.a))||dp;function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mm=function(){function e(r){var a=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),lr(this,"nodeConfig",void 0),lr(this,"lf",void 0),lr(this,"fakerNode",void 0),lr(this,"stopDrag",function(){a.nodeConfig=null,window.document.removeEventListener("mouseup",a.stopDrag)}),lr(this,"dragEnter",function(u){a.nodeConfig&&!a.fakerNode&&(a.fakerNode=a.lf.createFakerNode(ga(ga({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),lr(this,"onDragOver",function(u){if(u.preventDefault(),a.fakerNode){var l=a.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,O=l.y;a.fakerNode.moveTo(d,O);var x=a.fakerNode.getData();a.lf.setNodeSnapLine(x),a.lf.graphModel.eventCenter.emit(tt.NODE_DND_DRAG,{data:x})}return!1}),lr(this,"onDragLeave",function(){a.fakerNode&&(a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null)}),lr(this,"onDrop",function(u){if(a.lf.graphModel&&u&&a.nodeConfig){var l=a.lf.addNode(ga(ga({},a.nodeConfig),a.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),a.nodeConfig=null,a.lf.removeNodeSnapLine(),a.lf.graphModel.removeFakerNode(),a.fakerNode=null;var d=l.getData();a.lf.graphModel.eventCenter.emit(tt.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var a=r.x,o=r.y,u=Yo(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:a,y:o}).canvasOverlayPosition,d=l.x,O=l.y;return{x:vo(d,u),y:vo(O,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&km(t.prototype,n),e}();function bp(e){var t=e.container,n=e.grid,r=e.width,a=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof a=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=rn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),rn({},Op,e)}var Ot,mp,Op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function _p(e){return(_p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wp(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(n),!0).forEach(function(r){jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(){return(ma=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Cm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Cm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$r(e))!==null;);return e}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Rm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$r(e);if(t){var a=$r(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qu=(mp=Dn((Ot=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ep(o,u)})(a,e);var t,n,r=Rm(a);function a(){var o;Dm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jp(Oa(o=r.call.apply(r,[this].concat(l))),"modelType",pt.BEZIER_EDGE),Tm(Oa(o),"path",mp,Oa(o)),o}return t=a,(n=[{key:"initEdgeData",value:function(o){this.offset=100,ma($r(a.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ba(ba({},ma($r(a.prototype),"getEdgeStyle",this).call(this)),Dt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,O=l.y;o+=d,u+=O}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ma($r(a.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ba(ba({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return of({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Zu(o,4),l=u[0],d=u[1],O=u[2],x=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,l=o.ePre;this.updatePath(u,l)}},{key:"updatePath",value:function(o,u){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var O=this.getControls();o=O.sNext,u=O.ePre}this.pointsList=[l,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var l=Zu(this.pointsList,3),d=l[1],O=l[2];d.x+=o,d.y+=u,this.updatePath(d,O)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var l=Zu(this.pointsList,3),d=l[1],O=l[2];O.x+=o,O.y+=u,this.updatePath(d,O)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,O=o.targetNode,x=of({start:u,end:l,sourceNode:d,targetNode:O,offset:this.offset}),A=x.sNext,M=x.ePre;this.pointsList=[u,A,M,l],this.initPoints()}}])&&Nm(t.prototype,n),a}(Pu)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dn(Ot.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"initPoints"),Ot.prototype),Dn(Ot.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updatePoints"),Ot.prototype),Dn(Ot.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateStartPoint"),Ot.prototype),Dn(Ot.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateEndPoint"),Ot.prototype),Dn(Ot.prototype,"moveStartPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveStartPoint"),Ot.prototype),Dn(Ot.prototype,"moveEndPoint",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"moveEndPoint"),Ot.prototype),Dn(Ot.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAdjustAnchor"),Ot.prototype),Dn(Ot.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustStart"),Ot.prototype),Dn(Ot.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"getAdjustEnd"),Ot.prototype),Dn(Ot.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Ot.prototype,"updateAfterAdjustStartAndEnd"),Ot.prototype),Ot),He,Sp,Pp,Ap,kp,Mp,Tp,Dp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Up,Lm=function(e){return e==null};function Gp(e){return(Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zm(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,O){if(!!d){if(typeof d=="string")return Xp(d,O);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Xp(d,O)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ar,Yp,pr=(Sp=_t((He=function(){function e(r,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),jn(this,"id",Wr()),Vt(this,"type",Sp,this),Vt(this,"x",Pp,this),Vt(this,"y",Ap,this),Vt(this,"text",kp,this),Vt(this,"properties",Mp,this),Vt(this,"_width",Tp,this),Vt(this,"_height",Dp,this),Vt(this,"anchorsOffset",Np,this),Vt(this,"isSelected",Cp,this),Vt(this,"isHovered",Rp,this),Vt(this,"isDragging",Ip,this),Vt(this,"isHitable",Lp,this),Vt(this,"draggable",zp,this),Vt(this,"visible",Bp,this),jn(this,"graphModel",void 0),Vt(this,"zIndex",Fp,this),Vt(this,"state",Hp,this),Vt(this,"autoToFront",Up,this),jn(this,"BaseType",Ft.NODE),jn(this,"modelType",pt.NODE),jn(this,"additionStateData",void 0),jn(this,"targetRules",[]),jn(this,"sourceRules",[]),jn(this,"moveRules",[]),jn(this,"hasSetTargetRules",!1),jn(this,"hasSetSourceRules",!1),this.graphModel=a,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var a=this.graphModel.idGenerator,o=a&&a(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),rn(this,function(l){return Ko(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===gn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,a=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===gn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:a,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Dt(r)}},{key:"getAnchorStyle",value:function(r){var a=this.graphModel.theme.anchor;return Dt(a)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Dt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Dt(r)}},{key:"isAllowConnectedAsSource",value:function(r,a,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,O=0;O<u.length;O++){var x=u[O];if(!x.validate.call(this,this,r,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,a,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,O=0;O<u.length;O++){var x=u[O];if(!x.validate.call(this,r,this,a,o)){d=!1,l=x.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,a){var o,u=!0,l=!0,d=zm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var O=(0,o.value)(this,r,a);if(!O)return!1;if(Gp(O)==="object"){var x=O;if(x.x===!1&&x.y===!1)return!1;u=u&&x.x,l=l&&x.y}}}catch(A){d.e(A)}finally{d.f()}return{x:u,y:l}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,a=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(a,"_").concat(d),x:o+l[0],y:u+l[1]}):fr(fr({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(a,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Lm(r))for(var a=0;a<this.anchors.length;a++){var o=this.anchors[a];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,l=!1;if(o)u=!0,l=!0;else{var d=this.isAllowMoveNode(r,a);typeof d=="boolean"?(u=d,l=d):(u=d.x,l=d.y)}if(u){var O=this.x+r;this.x=O,this.text&&this.moveText(r,0)}if(l){var x=this.y+a;this.y=x,this.text&&this.moveText(0,a)}return u||l}},{key:"moveTo",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=a-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=a,0))}},{key:"moveText",value:function(r,a){var o=this.text,u=o.x,l=o.y,d=o.value,O=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:O,x:u+r,y:l+a}}},{key:"updateText",value:function(r){this.text=fr(fr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,a){this.state=r,this.additionStateData=a}},{key:"setProperty",value:function(r,a){this.properties=fr(fr({},this.properties),{},jn({},r,Wn(a))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),Wn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){rn(this,r)}}])&&Bm(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=_t(He.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ap=_t(He.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=_t(He.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Mp=_t(He.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tp=_t(He.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Dp=_t(He.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Np=_t(He.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cp=_t(He.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=_t(He.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=_t(He.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=_t(He.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=_t(He.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bp=_t(He.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fp=_t(He.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=_t(He.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Up=_t(He.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_t(He.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(He.prototype,"incoming"),He.prototype),_t(He.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(He.prototype,"outgoing"),He.prototype),_t(He.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"addNodeMoveRules"),He.prototype),_t(He.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"move"),He.prototype),_t(He.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"moveTo"),He.prototype),_t(He.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),_t(He.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),_t(He.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),_t(He.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),_t(He.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),_t(He.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),_t(He.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),_t(He.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),_t(He.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),_t(He.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),He);function Wp(e){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(n),!0).forEach(function(r){Jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(){return(qp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Gm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Gm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=oi(e))!==null;);return e}function $p(e,t){return($p=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Xm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oi(e);if(t){var a=oi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _a(e)}function _a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var an,Qp,ed,Ju=(Yp=$u((Ar=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$p(o,u)})(a,e);var t,n,r=Xm(a);function a(){var o;Hm(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Jp(_a(o=r.call.apply(r,[this].concat(l))),"modelType",pt.CIRCLE_NODE),Fm(_a(o),"r",Yp,_a(o)),o}return t=a,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=qp(oi(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Zp(Zp({},o),Dt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Um(t.prototype,n),a}(pr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$u(Ar.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"width"),Ar.prototype),$u(Ar.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Ar.prototype,"height"),Ar.prototype),Ar);i(127);function td(e){return(td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nd(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return nd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rd(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function id(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(){return(ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Km(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Km(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ii(e))!==null;);return e}function ud(e,t){return(ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ii(e);if(t){var a=ii(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oo(e)}function Oo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _o(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var dr,sd,ld,ec=(Qp=_o((an=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ud(o,u)})(a,e);var t,n,r=Zm(a);function a(){var o;Ym(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return cd(Oo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.DIAMOND_NODE),id(Oo(o),"rx",Qp,Oo(o)),id(Oo(o),"ry",ed,Oo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=ad(ii(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return od(od({},o),Dt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Qu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Qu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Qu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Wm(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ed=_o(an.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_o(an.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"points"),an.prototype),_o(an.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"pointsPosition"),an.prototype),_o(an.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"width"),an.prototype),_o(an.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(an.prototype,"height"),an.prototype),an);function fd(e){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(){return(yd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Qm(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ai(e))!==null;);return e}function vd(e,t){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function e0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return t0(this,n)}}function t0(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wo(e)}function wo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Nn,bd,tc=(sd=wa((dr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vd(o,u)})(a,e);var t,n,r=e0(a);function a(){var o;$m(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return gd(wo(o=r.call.apply(r,[this].concat(l))),"modelType",pt.ELLIPSE_NODE),hd(wo(o),"rx",sd,wo(o)),hd(wo(o),"ry",ld,wo(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=yd(ai(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return dd(dd({},o),Dt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Jm(t.prototype,n),a}(pr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ld=wa(dr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),wa(dr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),wa(dr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function md(e){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Od(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Od(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Od(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){jd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=i0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function i0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function a0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ui(e);if(t){var a=ui(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Sd,Pd,rc=(bd=Ea((Nn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(a,e);var t,n,r=a0(a);function a(){var o;r0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jd(xa(o=r.call.apply(r,[this].concat(l))),"modelType",pt.POLYGON_NODE),n0(xa(o),"points",bd,xa(o)),o}return t=a,(n=[{key:"getNodeStyle",value:function(){var o=xd(ui(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return wd(wd({},o),Dt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(O){return{x:O[0]+o-l/2,y:O[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=nc(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=nc(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,O=this.height;return this.points.map(function(x,A){var M=nc(x,2),I=M[0],W=M[1];return{x:u+I-d/2,y:l+W-O/2,id:"".concat(o.id,"_").concat(A)}})}}])&&o0(t.prototype,n),a}(pr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ea(Nn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"pointsPosition"),Nn.prototype),Ea(Nn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"width"),Nn.prototype),Ea(Nn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"height"),Nn.prototype),Nn);function Ad(e){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(r){Nd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Td(){return(Td=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=f0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function p0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ci(e);if(t){var a=ci(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr,oc=(Pd=function(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Sd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dd(o,u)})(a,e);var t,n,r=p0(a);function a(){var o;s0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Nd(ja(o=r.call.apply(r,[this].concat(l))),"modelType",pt.RECT_NODE),c0(ja(o),"radius",Pd,ja(o)),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Td(ci(a.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Md(Md({},o),Dt(u))}}])&&l0(t.prototype,n),a}(pr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sd);function Cd(e){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){Fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(){return(Ld=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=v0(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function v0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function zd(e,t){return(zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function g0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=si(e);if(t){var a=si(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ic=(Hd((Jr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zd(o,u)})(a,e);var t,n,r=g0(a);function a(){var o;h0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Fd(Bd(o=r.call.apply(r,[this].concat(l))),"modelType",pt.TEXT_NODE),o}return t=a,(n=[{key:"getTextStyle",value:function(){var o=Ld(si(a.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Id(Id({},o),Dt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&y0(t.prototype,n),a}(pr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Hd(Jr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Ud(e){return(Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ac(e);if(t){var a=ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w0(this,n)}}function w0(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xd(e)}function Xd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn,Vd,Yd,Wd,uc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gd(o,u)})(a,e);var t,n,r=_0(a);function a(){var o;m0(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return x0(Xd(o=r.call.apply(r,[this].concat(l))),"modelType",pt.HTML_NODE),o}return t=a,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&O0(t.prototype,n),a}(pr);function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),a&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qd=(Vd=li((qn=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Zd(this,"graphModel",void 0),cc(this,"isShowHorizontal",Vd,this),cc(this,"isShowVertical",Yd,this),cc(this,"position",Wd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Kd(Object(o),!0).forEach(function(u){Zd(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Kd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,a){for(var o=r.x,u=r.y,l=!1,d=!1,O=0;O<a.length;O++){var x=a[O];if(x.id!==r.id&&(o===x.x&&(l=!0),u===x.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var O=this.graphModel.fakerNode;if(O&&O.id===d)u=bn(O);else{var x=this.graphModel.getNodeModelById(d);u=bn(x)}}for(var A=0;A<a.length;A++){var M=a[A];if(M.id!==r.id){var I=bn(M);if(I.minY===u.minY||I.maxY===u.minY){l=!0,o=u.minY;break}if(I.minY===u.maxY||I.maxY===u.maxY){l=!0,o=u.maxY;break}}}return rn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,a){var o,u,l=!1,d=r.id;if(d){var O=this.graphModel.fakerNode;if(O&&O.id===d)u=bn(O);else{var x=this.graphModel.getNodeModelById(d);u=bn(x)}}for(var A=0;A<a.length;A++){var M=a[A];if(M.id!==r.id){var I=bn(M);if(I.minX===u.minX||I.maxX===u.minX){l=!0,o=u.minX;break}if(I.minX===u.maxX||I.maxX===u.maxX){l=!0,o=u.maxX;break}}}return rn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,a){var o=this.getCenterSnapLine(r,a),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,a);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var O=this.getVerticalSnapline(r,a);O.isShowVertical&&(o.isShowVertical=O.isShowVertical,o.position.x=O.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var a=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=a,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var a=this.graphModel.nodes,o=this.getSnapLinePosition(r,a);this.setSnaplineInfo(o)}}])&&E0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=li(qn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=li(qn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li(qn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(qn.prototype,"clearSnapline"),qn.prototype),li(qn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(qn.prototype,"setNodeSnapLine"),qn.prototype),qn);function $d(e){return($d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jd(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return eh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(e);if(t){var a=sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A0(this,n)}}function A0(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $n(e)}function $n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&th(o,u)})(a,e);var t,n,r=P0(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Jn($n(o=r.call(this)),"preTargetNode",void 0),Jn($n(o),"sourceRuleResults",void 0),Jn($n(o),"targetRuleResults",void 0),Jn($n(o),"dragHandler",void 0),Jn($n(o),"t",void 0),Jn($n(o),"onDragStart",function(u){var l=u.event,d=o.props,O=d.anchorData,x=d.nodeModel,A=d.graphModel,M=A.overlapMode;A.selectNodeById(x.id),M!==gn.INCREASE&&x.autoToFront&&A.toFront(x.id),A.eventCenter.emit(tt.ANCHOR_DRAGSTART,{data:O,e:l,nodeModel:x}),o.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),Jn($n(o),"onDraging",function(u){var l=u.event,d=o.props,O=d.graphModel,x=d.nodeModel,A=d.anchorData,M=O.transformModel,I=O.eventCenter,W=O.width,ee=O.height,ie=O.editConfigModel,oe=l.clientX,ce=l.clientY,ge=O.getPointByClient({x:oe,y:ce}),De=ge.domOverlayPosition,Ee=De.x,Ie=De.y,Be=ge.canvasOverlayPosition,Qe=Be.x,dt=Be.y;o.t&&clearInterval(o.t);var ht=[];Ee<10?ht=[10,0]:Ee+10>W?ht=[-10,0]:Ie<10?ht=[0,10]:Ie+10>ee&&(ht=[0,-10]),o.setState({endX:Qe,endY:dt,draging:!0}),o.moveAnchorEnd(Qe,dt),ht.length>0&&!ie.stopMoveGraph&&(o.t=setInterval(function(){var Ct=j0(ht,2),Ht=Ct[0],cn=Ct[1];M.translate(Ht,cn);var pn=o.state,mn=pn.endX,gr=pn.endY;o.setState({endX:mn-Ht,endY:gr-cn}),o.moveAnchorEnd(mn-Ht,gr-cn)},50)),I.emit(tt.ANCHOR_DRAG,{data:A,e:l,nodeModel:x})}),Jn($n(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var l=o.props,d=l.graphModel,O=l.nodeModel,x=l.anchorData;d.eventCenter.emit(tt.ANCHOR_DROP,{data:x,e:u,nodeModel:O})}),Jn($n(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,O=u.anchorData,x=O.x,A=O.y,M=O.id,I=l.edgeType,W=o.state,ee=W.endX,ie=W.endY,oe=W.draging,ce=ta({x:ee,y:ie},l);if(o.preTargetNode&&o.preTargetNode.state!==St.DEFAULT&&o.preTargetNode.setElementState(St.DEFAULT),oe&&ce&&ce.node){var ge=ce.node,De=ce.anchor.id,Ee="".concat(d.id,"_").concat(ge.id,"_").concat(De,"_").concat(M),Ie=o.sourceRuleResults.get(Ee)||{},Be=Ie.isAllPass,Qe=Ie.msg,dt=o.targetRuleResults.get(Ee)||{},ht=dt.isAllPass,Ct=dt.msg;if(Be&&ht)ge.setElementState(St.DEFAULT),l.addEdge({type:I,sourceNodeId:d.id,sourceAnchorId:M,startPoint:{x,y:A},targetNodeId:ce.node.id,targetAnchorId:ce.anchor.id,endPoint:{x:ce.anchor.x,y:ce.anchor.y}});else{var Ht=ge.getData();l.eventCenter.emit(tt.CONNECTION_NOT_ALLOWED,{data:Ht,msg:Ct||Qe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new Zr({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var O=u.x,x=u.y,A=Qd(Qd({},l),l.hover);return Object(q.g)("g",null,Object(q.g)(ri,Sa({className:"lf-node-anchor-hover"},A,{x:O,y:x})),Object(q.g)(ri,Sa({className:"lf-node-anchor"},l,{x:O,y:x})))}},{key:"moveAnchorEnd",value:function(o,u){var l=this.props,d=l.graphModel,O=l.nodeModel,x=l.anchorData,A=ta({x:o,y:u},d);if(A){var M=A.node,I=A.anchor.id;if(this.preTargetNode&&this.preTargetNode!==A.node&&this.preTargetNode.setElementState(St.DEFAULT),x.id===I)return;this.preTargetNode=M;var W="".concat(O.id,"_").concat(M.id,"_").concat(I,"_").concat(x.id);if(!this.targetRuleResults.has(W)){var ee=A.anchor,ie=O.isAllowConnectedAsSource(M,x,ee),oe=M.isAllowConnectedAsTarget(O,x,ee);this.sourceRuleResults.set(W,na(ie)),this.targetRuleResults.set(W,na(oe))}var ce=this.sourceRuleResults.get(W).isAllPass,ge=this.targetRuleResults.get(W).isAllPass;ce&&ge?M.setElementState(St.ALLOW_CONNECT):M.setElementState(St.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==St.DEFAULT&&this.preTargetNode.setElementState(St.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,O=o.endY;return Yn(u,l,d,O)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,O=u.endX,x=u.endY,A=this.props,M=A.anchorData.edgeAddable,I=A.edgeStyle;return Object(q.g)("g",{className:"lf-anchor"},Object(q.g)("g",{onMouseDown:function(W){M!==!1&&o.dragHandler.handleMouseDown(W)}},this.getAnchorShape()),this.isShowLine()&&Object(q.g)(qr,Sa({x1:l,y1:d,x2:O,y2:x},I,{"pointer-events":"none"})))}}])&&S0(t.prototype,n),a}(q.a);i(63);function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nh(Object(n),!0).forEach(function(r){T0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function D0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return oh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ih(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,O=e.overflowMode,x=O===void 0?"default":O,A=e.textWidth,M=A===void 0?"":A,I=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:a,fill:d};if(Object.entries(e).forEach(function(De){var Ee=D0(De,2),Ie=Ee[0],Be=Ee[1];rh(Be)!=="object"&&(W[Ie]=Be)}),o){var ee=String(o).split(/[\r\n]/g),ie=ee.length;if(x!=="default"){var oe=I.BaseType,ce=I.modelType;if(oe===Ft.NODE&&ce!==pt.TEXT_NODE||oe===Ft.EDGE&&M)return function(De){var Ee=De.value,Ie=De.fontSize,Be=De.model,Qe=De.fontFamily,dt=Qe===void 0?"":Qe,ht=De.lineHeight,Ct=De.wrapPadding,Ht=Ct===void 0?"0, 0":Ct,cn=De.overflowMode,pn=De.x,mn=De.y,gr=Be.width,to=Be.textHeight,br=De.textWidth||gr,gi=String(Ee).split(/[\r\n]/g),Ta=gi.length,Da=kl({rows:gi,style:{fontSize:"".concat(Ie,"px"),width:"".concat(br,"px"),fontFamily:dt,lineHeight:ht,padding:Ht},rowsLength:Ta,className:"lf-get-text-height"}),So=Be.height>Da?Be.height:Da;to&&(So=to);var Po=cn==="ellipsis";return Object(q.g)("g",null,Object(q.g)("foreignObject",{width:br,height:So,x:pn-br/2,y:mn-So/2},Object(q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:So,width:br,padding:Ht}},Object(q.g)("div",{className:Po?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:M0({},De)},gi.map(function(Tr){return Object(q.g)("div",{className:"lf-node-text--auto-wrap-inner"},Tr)})))))}(e)}if(ie>1){var ge=ee.map(function(De,Ee){var Ie=(Ee-(ie-1)/2)*(u+2);return Object(q.g)("tspan",{className:"lf-text-tspan",x:n,y:a+Ie},De)});return Object(q.g)("text",W,ge)}return Object(q.g)("text",W,o)}}function ah(e){return(ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uh(){return(uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function R0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(e);if(t){var a=lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sh(o,u)})(a,e);var t,n,r=R0(a);function a(o){var u;(function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),Qr(kr(u=r.call(this)),"dragHandler",void 0),Qr(kr(u),"sumDeltaX",0),Qr(kr(u),"sumDeltaY",0),Qr(kr(u),"stepDrag",void 0),Qr(kr(u),"onDraging",function(O){var x=O.deltaX,A=O.deltaY,M=u.props,I=M.model,W=N0(M.graphModel.transformModel.fixDeltaXY(x,A),2),ee=W[0],ie=W[1];I.moveText(ee,ie)}),Qr(kr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(St.TEXT_EDIT)}),Qr(kr(u),"mouseDownHandle",function(O){var x=u.props,A=x.draggable,M=x.graphModel.editConfigModel.nodeTextDraggable;(A||M)&&u.stepDrag.handleMouseDown(O)});var l=o.model,d=o.draggable;return u.stepDrag=new Zr({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=a,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,O=l.editConfigModel,x=d.value,A=d.x,M=d.y,I=d.editable,W=d.draggable,ee={x:A,y:M,className:"",value:x};I?ee.className="lf-element-text":W||O.nodeTextDraggable?ee.className="lf-text-draggable":ee.className="lf-text-disabled";var ie=u.getTextStyle();return Object(q.g)(ih,uh({},ee,ie,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&C0(t.prototype,n),a}(q.a),L0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,fi=new Map,fh=function(e){var t=fi.get(e);t&&(window.cancelAnimationFrame(t),fi.delete(e))};function ph(e){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return dh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function z0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fc(e);if(t){var a=fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&yh(u,l)})(o,e);var t,n,r,a=z0(o);function o(u){var l;(function(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),un($t(l=a.call(this)),"t",void 0),un($t(l),"moveOffset",void 0),un($t(l),"stepDrag",void 0),un($t(l),"contextMenuTime",void 0),un($t(l),"startTime",void 0),un($t(l),"clickTimer",void 0),un($t(l),"onDragStart",function(M){var I=M.event,W=I.clientX,ee=I.clientY,ie=l.props,oe=ie.model,ce=ie.graphModel.getPointByClient({x:W,y:ee}).canvasOverlayPosition,ge=ce.x,De=ce.y;l.moveOffset={x:oe.x-ge,y:oe.y-De}}),un($t(l),"onDraging",function(M){var I=M.event,W=l.props,ee=W.model,ie=W.graphModel,oe=ie.editConfigModel,ce=ie.transformModel,ge=ie.width,De=ie.height,Ee=ie.gridSize;ee.isDragging=!0;var Ie=I.clientX,Be=I.clientY,Qe=ie.getPointByClient({x:Ie,y:Be}).canvasOverlayPosition,dt=Qe.x,ht=Qe.y,Ct=Pa(ce.CanvasPointToHtmlPoint([dt,ht]),2),Ht=Ct[0],cn=Ct[1];if(!(Ht<0||cn<0||Ht>ge||cn>De)){dt+=l.moveOffset.x,ht+=l.moveOffset.y,dt=vo(dt,Ee),ht=vo(ht,Ee);var pn,mn,gr,to=Pa(ce.CanvasPointToHtmlPoint([dt-ee.width/2,ht-ee.height/2]),2),br=to[0],gi=to[1],Ta=Pa(ce.CanvasPointToHtmlPoint([dt+ee.width/2,ht+ee.height/2]),2),Da=Ta[0],So=Ta[1],Po=Math.max(Ee,20),Tr=[];br<0?Tr=[Po,0]:Da>ie.width?Tr=[-Po,0]:gi<0?Tr=[0,Po]:So>ie.height&&(Tr=[0,-Po]),l.t&&fh(l.t),Tr.length>0&&!oe.stopMoveGraph?l.t=(pn=function(){var Na=Pa(Tr,2),Ca=Na[0],Gy=Na[1];ce.translate(Ca,Gy),ie.moveNode(ee.id,-Ca/ce.SCALE_X,-Gy/ce.SCALE_X)},mn=Wr(),gr=window.requestAnimationFrame(function Na(){if(pn(),fi.get(mn)){var Ca=window.requestAnimationFrame(Na);fi.set(mn,Ca)}}),fi.set(mn,gr),mn):ie.moveNode2Coordinate(ee.id,dt,ht)}}),un($t(l),"onDragEnd",function(){l.t&&fh(l.t),l.props.model.isDragging=!1}),un($t(l),"handleClick",function(M){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var I=l.props,W=I.model,ee=I.graphModel,ie={data:W.getData(),e:M,position:ee.getPointByClient({x:M.clientX,y:M.clientY})},oe=M.button===2,ce=M.detail===2;if(!oe){var ge=ee.editConfigModel;ee.selectNodeById(W.id,ol(M,ge)),l.toFront(),ce?(ge.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),ee.setElementStateById(W.id,St.TEXT_EDIT)),ee.eventCenter.emit(tt.NODE_DBCLICK,ie)):(ee.eventCenter.emit(tt.ELEMENT_CLICK,ie),ee.eventCenter.emit(tt.NODE_CLICK,ie))}}}),un($t(l),"handleContextMenu",function(M){M.preventDefault();var I=l.props,W=I.model,ee=I.graphModel,ie=W.getData(),oe=ee.getPointByClient({x:M.clientX,y:M.clientY});ee.setElementStateById(W.id,St.SHOW_MENU,oe.domOverlayPosition),ee.selectNodeById(W.id),ee.eventCenter.emit(tt.NODE_CONTEXTMENU,{data:ie,e:M,position:oe}),l.toFront()}),un($t(l),"handleMouseDown",function(M){var I=l.props,W=I.model,ee=I.graphModel;l.toFront(),l.startTime=new Date().getTime(),ee.editConfigModel.adjustNodePosition&&W.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(M)}),un($t(l),"setHoverON",function(M){if(!l.state.isHovered){l.setState({isHovered:!0});var I=l.props,W=I.model,ee=I.graphModel,ie=W.getData();W.setHovered(!0),ee.eventCenter.emit(tt.NODE_MOUSEENTER,{data:ie,e:M})}}),un($t(l),"setHoverOFF",function(M){l.setState({isHovered:!1});var I=l.props,W=I.model,ee=I.graphModel,ie=W.getData();W.setHovered(!1),ee.eventCenter.emit(tt.NODE_MOUSELEAVE,{data:ie,e:M})}),un($t(l),"onMouseOut",function(M){L0&&l.setHoverOFF(M)});var d=u.graphModel,O=d.gridSize,x=d.eventCenter,A=u.model;return l.stepDrag=new Zr({onDragStart:l.onDragStart,onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:O,eventType:"NODE",isStopPropagation:!1,eventCenter:x,model:A}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,O=l.graphModel,x=d.isSelected,A=d.isHitable,M=d.isDragging,I=this.state.isHovered;if(A&&(x||I)&&!M){var W=d.getAnchorLineStyle();return $i(d.anchors,function(ee,ie){var oe=d.getAnchorStyle(ee);return Object(q.g)(k0,{anchorData:ee,node:u,style:oe,edgeStyle:W,anchorIndex:ie,nodeModel:d,graphModel:O,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===St.TEXT_EDIT)return"";if(l.text){var O=d.editConfigModel,x=!1;return(l.text.draggable||O.nodeTextDraggable)&&(x=!0),Object(q.g)(lh,{editable:O.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:x})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,O="lf-node";switch(l){case St.ALLOW_CONNECT:O+=" lf-node-allow";break;case St.NOT_ALLOW_CONNECT:O+=" lf-node-not-allow";break;default:O+=" lf-node-default"}return d&&(O+=" lf-isDragging"),O}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==gn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,O=l.graphModel,x=O.editConfigModel,A=x.hideAnchors,M=x.adjustNodePosition,I=O.gridSize,W=O.transformModel.SCALE_X,ee=d.isHitable,ie=d.draggable,oe=Object(q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),A?null:this.getAnchors());return ee?(M&&ie&&this.stepDrag.setStep(I*W),u=Object(q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},oe)):u=Object(q.g)("g",{className:this.getStateClassName()},oe),u}}])&&hh(t.prototype,n),r&&hh(t,r),o}(q.a);function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(e);if(t){var a=pc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(a,e);var t,n,r=U0(a);function a(){return F0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)(Pr,gh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&H0(t.prototype,n),a}(hr);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oh(){return(Oh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(e);if(t){var a=hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_h(o,u)})(a,e);var t,n,r=Y0(a);function a(){return X0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,O=o.getNodeStyle();return Object(q.g)(ri,Oh({},O,{x:u,y:l,r:d}))}}])&&V0(t.prototype,n),a}(hr);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function K0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(a){var o=K0(a,2),u=o[0],l=o[1];wh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(a){return a.join(",")}).join(" "),Object(q.g)("polygon",r)}function jh(e){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vc(e);if(t){var a=vc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(a,e);var t,n,r=$0(a);function a(){return Z0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,O=o.height,x=o.points,A=o.getNodeStyle(),M={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-O/2,")")};return Object(q.g)("g",M,Object(q.g)(Eh,Sh({},A,{points:x,x:u,y:l})))}}])&&q0(t.prototype,n),a}(hr);function Ah(e){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mh(e,t){return(Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function tO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bc(e);if(t){var a=bc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mh(o,u)})(a,e);var t,n,r=tO(a);function a(){return Q0(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)("g",null,Object(q.g)(Eh,kh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&eO(t.prototype,n),a}(hr);function Th(e){return(Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Dh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e){var t=e.x,n=t===void 0?0:t,r=e.y,a=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,O=e.className,x={cx:n,cy:a,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(A){var M=rO(A,2),I=M[0],W=M[1];Th(W)!=="object"&&(x[I]=W)}),x.className=O?"lf-basic-shape ".concat(O):"lf-basic-shape",Object(q.g)("ellipse",x)}function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ch(){return(Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function uO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(e);if(t){var a=Oc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rh(o,u)})(a,e);var t,n,r=uO(a);function a(){return iO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(q.g)(oO,Ch({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&aO(t.prototype,n),a}(hr);function Ih(e){return(Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){sO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wc(e);if(t){var a=wc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bh(o,u)})(a,e);var t,n,r=pO(a);function a(){return lO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,O=l.y,x=o.width,A=o.height,M=zh(zh({},u.background),{},{x:d,y:O-1,width:x,height:A});return Object(q.g)(Pr,M)}}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getBackgroud())}}])&&fO(t.prototype,n),a}(hr);function Fh(e){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function vO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ec(e);if(t){var a=Ec(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hh(o,u)})(a,e);var t,n,r=vO(a);function a(){var o;hO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Aa(pi(o=r.call.apply(r,[this].concat(l))),"ref",void 0),Aa(pi(o),"currrentProperties",void 0),Aa(pi(o),"preProperties",void 0),Aa(pi(o),"setRef",function(O){o.ref=O}),o}return t=a,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,O=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(q.g)("foreignObject",{x:u-O/2,y:l-d/2,width:O,height:d,ref:this.setRef})}}])&&yO(t.prototype,n),a}(hr);function Uh(e){return(Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gh(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xo=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=bO(n,2),a=r[0],o=r[1];Uh(o)!=="object"&&(t[a]=o)}),Object(q.g)("path",t)};function Xh(e){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yh(e,t){return(Yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function wO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sc(e);if(t){var a=Sc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Sc(e){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yh(o,u)})(a,e);var t,n,r=wO(a);function a(){return OO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,O=u.end,x={start:d,end:O,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=Qo(x),M=A.leftX,I=A.leftY,W=A.rightX,ee=A.rightY;return function(ie){for(var oe=1;oe<arguments.length;oe++){var ce=arguments[oe]!=null?arguments[oe]:{};oe%2?Vh(Object(ce),!0).forEach(function(ge){mO(ie,ge,ce[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(ce)):Vh(Object(ce)).forEach(function(ge){Object.defineProperty(ie,ge,Object.getOwnPropertyDescriptor(ce,ge))})}return ie}({d:"M".concat(M," ").concat(I," L").concat(O.x," ").concat(O.y," L").concat(W," ").concat(ee," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,O=o.fill;return Object(q.g)(xo,{d:u,fill:O,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-arrow"},this.getShape())}}])&&_O(t.prototype,n),a}(q.a);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $h(e,t){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function jO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ac(e);if(t){var a=Ac(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pc(e)}function Pc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn,PO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$h(o,u)})(a,e);var t,n,r=jO(a);function a(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,a),kc(Pc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),kc(Pc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=a,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=eo(eo({},d),u.hover.background)),l&&l.value&&d.fill!=="transparnet"){var O,x=u.fontSize,A=u.overflowMode,M=u.lineHeight,I=u.wrapPadding,W=u.textWidth,ee=l.value,ie=l.x,oe=l.y,ce=String(ee).split(/[\r\n]/g),ge=ce.length;if(A==="autoWrap"&&W){var De=kl({rows:ce,style:{fontSize:"".concat(x,"px"),width:"".concat(W,"px"),lineHeight:M,padding:I},rowsLength:ge,className:"lf-get-text-height"});O=eo(eo({},d),{},{x:ie-1,y:oe-1,width:W,height:De})}else{ce&&ce.forEach(function(Qe){rf(Qe)});var Ee=Eu({rows:ce,fontSize:x,rowsLength:ge}),Ie=Ee.width,Be=Ee.height;O=eo(eo({},d),{},{x:ie-1,y:oe-1,width:Ie,height:Be})}return Object(q.g)(Pr,O)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,O=u.y;if(l){var x=eo({x:d,y:O,className:"lf-element-text",value:l},o.getTextStyle());return Object(q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(q.g)(ih,Zh({},x,{model:o})))}}}])&&EO(t.prototype,n),a}(lh);function Jh(e){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){Rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ty(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function MO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mc(e);if(t){var a=Mc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qn||(Qn={}));var ry=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ny(o,u)})(a,e);var t,n,r=MO(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),Rn(Cn(o=r.call(this)),"dragHandler",void 0),Rn(Cn(o),"oldEdge",void 0),Rn(Cn(o),"preTargetNode",void 0),Rn(Cn(o),"targetRuleResults",void 0),Rn(Cn(o),"sourceRuleResults",void 0),Rn(Cn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,O=u.edgeModel,x=O.startPoint,A=O.endPoint,M=O.pointsList;o.oldEdge={startPoint:x,endPoint:A,pointsList:M},o.setState({endX:l,endY:d,draging:!0}),O.isHitable=!1}),Rn(Cn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,O=o.state,x=O.endX,A=O.endY,M=o.props,I=M.graphModel,W=M.type,ee=AO(I.transformModel.moveCanvasPointByHtml([x,A],l,d),2),ie=ee[0],oe=ee[1];o.setState({endX:ie,endY:oe,draging:!0});var ce=o.props.edgeModel,ge=ta({x,y:A},I);if(ge&&ge.node&&o.isAllowAdjust(ge)){var De,Ee=ce.startPoint,Ie=ce.endPoint,Be=ce.sourceNode,Qe=ce.targetNode;W===Qn.SOURCE?De={startPoint:{x:ge.anchor.x,y:ge.anchor.y},endPoint:{x:Ie.x,y:Ie.y},sourceNode:ge.node,targetNode:Qe}:W===Qn.TARGET&&(De={startPoint:{x:Ee.x,y:Ee.y},endPoint:{x:ge.anchor.x,y:ge.anchor.y},sourceNode:Be,targetNode:ge.node}),ce.updateAfterAdjustStartAndEnd(De)}else W===Qn.SOURCE?ce.updateStartPoint({x:ie,y:oe}):W===Qn.TARGET&&ce.updateEndPoint({x:ie,y:oe})}),Rn(Cn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,O=l.edgeModel,x=l.type;O.isHitable=!0;var A=o.state,M=A.endX,I=A.endY,W=A.draging,ee=ta({x:M,y:I},d);if(W){if(ee&&ee.node&&o.isAllowAdjust(ee)){var ie,oe=O.getData(),ce=yr(yr({},oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(oe==null||(ie=oe.text)===null||ie===void 0?void 0:ie.value)||""});x===Qn.SOURCE?ce=yr(yr({},ce),{},{sourceNodeId:ee.node.id,sourceAnchorId:ee.anchor.id,startPoint:{x:ee.anchor.x,y:ee.anchor.y},targetNodeId:O.targetNodeId,endPoint:yr({},O.endPoint)}):x===Qn.TARGET&&(ce=yr(yr({},ce),{},{sourceNodeId:O.sourceNodeId,startPoint:yr({},O.startPoint),targetNodeId:ee.node.id,targetAnchorId:ee.anchor.id,endPoint:{x:ee.anchor.x,y:ee.anchor.y}})),d.deleteEdgeById(O.id);var ge=d.addEdge(yr({},ce));d.eventCenter.emit(tt.EDGE_EXCHANGE_NODE,{data:{newEdge:ge.getData(),oldEdge:O.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(St.DEFAULT)}}),Rn(Cn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,O=l.endPoint,x=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(O),u.modelType!==pt.LINE_EDGE&&(u.pointsList=x,u.initPoints())}),Rn(Cn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=a,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),O=l.targetNode,x=l.sourceAnchorId,A=l.targetAnchorId,M=u.type,I=null,W=null,ee=null,ie=null;if(M===Qn.SOURCE?(I=o.node,W=O,ee=o.anchor,ie=O.getAnchorInfo(A)):(I=d,W=o.node,ie=o.anchor,ee=d.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(St.DEFAULT),this.preTargetNode=o.node,ie.id===ee.id)return!1;var oe="".concat(I.id,"_").concat(W.id,"_").concat(ee.id,"_").concat(ie.id);if(!this.targetRuleResults.has(oe)){var ce=I.isAllowConnectedAsSource(W,ee,ie),ge=W.isAllowConnectedAsTarget(I,ee,ie);this.sourceRuleResults.set(oe,na(ce)),this.targetRuleResults.set(oe,na(ge))}var De=this.sourceRuleResults.get(oe).isAllPass,Ee=this.targetRuleResults.get(oe).isAllPass,Ie=De&&Ee?St.ALLOW_CONNECT:St.NOT_ALLOW_CONNECT;return M===Qn.SOURCE?I.setElementState(Ie):W.setElementState(Ie),De&&Ee}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,O=this.getAdjustPointStyle();return Object(q.g)("g",null,Object(q.g)(ri,Qh({className:"lf-edge-adjust-point"},O,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&kO(t.prototype,n),a}(q.a);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return(Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iy(Object(n),!0).forEach(function(r){Ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function CO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dc(e);if(t){var a=Dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(a,e);var t,n,r=CO(a);function a(){var o;DO(this,a);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ln(In(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Ln(In(o),"contextMenuTime",void 0),Ln(In(o),"clickTimer",void 0),Ln(In(o),"handleHover",function(O,x){var A=o.props,M=A.model,I=A.graphModel.eventCenter;M.setHovered(O);var W=O?tt.EDGE_MOUSEENTER:tt.EDGE_MOUSELEAVE,ee=M.getData();I.emit(W,{data:ee,e:x})}),Ln(In(o),"setHoverON",function(O){o.handleHover(!0,O)}),Ln(In(o),"setHoverOFF",function(O){o.handleHover(!1,O)}),Ln(In(o),"handleContextMenu",function(O){O.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,A=x.model,M=x.graphModel,I=M.getPointByClient({x:O.clientX,y:O.clientY});M.setElementStateById(A.id,St.SHOW_MENU,I.domOverlayPosition),o.toFront(),M.selectEdgeById(A.id);var W=A==null?void 0:A.getData();M.eventCenter.emit(tt.EDGE_CONTEXTMENU,{data:W,e:O,position:I})}),Ln(In(o),"handleMouseDown",function(O){O.stopPropagation(),o.startTime=new Date().getTime()}),Ln(In(o),"handleMouseUp",function(O){if(o.startTime&&!(new Date().getTime()-o.startTime>200||O.button===2)){var x=O.detail===2,A=o.props,M=A.model,I=A.graphModel,W=M==null?void 0:M.getData(),ee=I.getPointByClient({x:O.clientX,y:O.clientY});if(x){var ie=I.editConfigModel,oe=I.textEditElement;if(oe&&oe.id===M.id&&I.setElementStateById(M.id,St.DEFAULT),ie.edgeTextEdit&&M.text.editable&&I.setElementStateById(M.id,St.TEXT_EDIT),M.modelType===pt.POLYLINE_EDGE){var ce=M,ge=I.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,De=ge.x,Ee=ge.y,Ie=af({x:De,y:Ee},ce.points);ce.dbClickPosition=Ie}I.eventCenter.emit(tt.EDGE_DBCLICK,{data:W,e:O,position:ee})}else I.eventCenter.emit(tt.ELEMENT_CLICK,{data:W,e:O,position:ee}),I.eventCenter.emit(tt.EDGE_CLICK,{data:W,e:O,position:ee});var Be=I.editConfigModel;I.selectEdgeById(M.id,ol(O,Be)),o.toFront()}}),Ln(In(o),"getIsDraging",function(){return!1}),o}return t=a,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===St.TEXT_EDIT)return"";var d=!1,O=l.editConfigModel;return(u.text.draggable||O.edgeTextDraggable)&&(d=!0),Object(q.g)(PO,{editable:O.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),O=l.theme.arrow;return ay(ay({},d),{},{fill:d.stroke},O)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(q.g)(Wh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),O=u.getAdjustEnd();return Object(q.g)("g",null,Object(q.g)(ry,Tc({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(q.g)(ry,Tc({type:"TARGET"},O,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(q.g)("g",null)}},{key:"getAppend",value:function(){return Object(q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==gn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,O=o.graphModel,x=this.getIsDraging(),A=O.editConfigModel.adjustEdgeStartAndEnd,M=O.animation,I=l&&M.edge&&O.getSelectElements().edges.length===1;return Object(q.g)("g",null,Object(q.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),I&&this.getAnimation(),this.getText(),this.getArrow()),A&&l&&!x?this.getAdjustPoints():"")}}])&&NO(t.prototype,n),a}(q.a);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nc(){return(Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cc(e);if(t){var a=Cc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Rc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sy(o,u)})(a,e);var t,n,r=zO(a);function a(){return IO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.getEdgeStyle();return Object(q.g)(qr,Nc({},d,{x1:u.x,y1:u.y,x2:l.x,y2:l.y}))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.startPoint,A=o.endPoint,M=o.getEdgeStyle();return Object(q.g)("g",null,Object(q.g)(qr,Nc({},M,{x1:x.x,y1:x.y,x2:A.x,y2:A.y,className:d,strokeDasharray:O,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(M){var I,W=M.start,ee=M.end;if(W.x===ee.x&&W.y===ee.y)I="";else{var ie={start:W,end:ee,offset:10,verticalLength:5},oe=Qo(ia(ia({},ie),{},{type:"start"})),ce=Qo(ia(ia({},ie),{},{type:"end"}));I="M".concat(oe.leftX," ").concat(oe.leftY,` 
    L`).concat(oe.rightX," ").concat(oe.rightY,` 
    L`).concat(ce.rightX," ").concat(ce.rightY,`
    L`).concat(ce.leftX," ").concat(ce.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,O=u.fill,x=u.strokeDasharray,A=u.stroke;return Object(q.g)(xo,{d:l,fill:O,strokeWidth:d,stroke:A,strokeDasharray:x})}}])&&LO(t.prototype,n),a}(di);function ly(e){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function FO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return fy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return fy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var py=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=FO(n,2),a=r[0],o=r[1];ly(o)!=="object"&&(t[a]=o)}),Object(q.g)("polyline",t)};function dy(e){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ic(){return(Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function GO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lc(e);if(t){var a=Lc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vy(o,u)})(a,e);var t,n,r=GO(a);function a(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,a),tr(er(o=r.call(this)),"drag",void 0),tr(er(o),"isDraging",void 0),tr(er(o),"appendInfo",void 0),tr(er(o),"dragHandler",void 0),tr(er(o),"onDragStart",function(){o.props.model.dragAppendStart()}),tr(er(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,O=o.props,x=O.model,A=O.graphModel;o.isDraging=!0;var M=A.transformModel,I=A.editConfigModel,W=HO(M.fixDeltaXY(l,d),2),ee=W[0],ie=W[1],oe=x,ce=I.adjustEdgeMiddle;o.appendInfo=ce?oe.dragAppendSimple(o.appendInfo,{x:ee,y:ie}):oe.dragAppend(o.appendInfo,{x:ee,y:ie})}),tr(er(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,O=l;O.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(tt.EDGE_ADJUST,{data:O.getData()})}),tr(er(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),tr(er(o),"getIsDraging",function(){return o.isDraging}),o.drag=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(q.g)(py,Ic({points:o.points},u))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.getEdgeStyle();return Object(q.g)("g",null,Object(q.g)(py,Ic({points:o.points},x,{className:d,strokeDasharray:O,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},O=go(u);return O.length>=2&&(d.start=O[O.length-2],d.end=O[O.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var O={start:l,end:d,offset:10,verticalLength:5},x=Qo(ka(ka({},O),{},{type:"start"})),A=Qo(ka(ka({},O),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,O=u.fill,x=u.strokeDasharray,A=u.stroke;return Object(q.g)(xo,{d:l,fill:O,strokeWidth:d,stroke:A,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,O=l.pointsList,x=l.draggable,A=[],M=O.length,I=function(ee){var ie="lf-polyline-append",oe={start:{x:O[ee].x,y:O[ee].y},end:{x:O[ee+1].x,y:O[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},ce=Object(q.g)("g",{className:ie},o.getAppendShape(oe)),ge=d.editConfigModel,De=ge.adjustEdge,Ee=ge.adjustEdgeMiddle;if(De&&x){o.dragHandler=o.drag;var Ie=oe.startIndex,Be=oe.endIndex,Qe=Ee&&(Ie===0||Be===M-1);oe.dragAble=!Qe,oe.start.x===oe.end.x?(oe.dragAble&&(ie+="-ew-resize"),oe.direction=Mt.VERTICAL):oe.start.y===oe.end.y&&(oe.dragAble&&(ie+="-ns-resize"),oe.direction=Mt.HORIZONTAL),ce=Object(q.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(dt){return o.beforeDragStart(dt,oe)}},Object(q.g)("g",{className:ie},o.getAppendShape(oe)))}else o.dragHandler=function(){};A.push(ce)},W=0;W<M-1;W++)I(W);return Object(q.g)("g",null,A)}}])&&UO(t.prototype,n),a}(di);function gy(e){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function VO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function KO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fc(e);if(t){var a=Fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Hc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&my(o,u)})(a,e);var t,n,r=KO(a);function a(){return YO(this,a),r.apply(this,arguments)}return t=a,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(q.g)(xo,Bc({d:o.path},u))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,O=u.strokeDasharray,x=o.getEdgeStyle();return Object(q.g)("g",null,Object(q.g)(xo,Bc({d:o.path},x,{className:d,strokeDasharray:O,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(q.g)(xo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,O=l.isSelected,x=VO(function(A){var M=fa(A);return[M[2],M[3]]}(d),2);return{start:x[0],end:x[1],hover:u,isSelected:O}}}])&&WO(t.prototype,n),a}(di),Oy=function(e,t){return y(e,t)},qO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Uc=function(){return Ue.a.Date.now()},$O=/\s/,JO=function(e){for(var t=e.length;t--&&$O.test(e.charAt(t)););return t},QO=/^\s+/,e_=function(e){return e&&e.slice(0,JO(e)+1).replace(QO,"")},t_=/^[-+]0x[0-9a-f]+$/i,n_=/^0b[01]+$/i,r_=/^0o[0-7]+$/i,o_=parseInt,_y=function(e){if(typeof e=="number")return e;if(re(e))return NaN;if(Tt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e_(e);var n=n_.test(e);return n||r_.test(e)?o_(e.slice(2),n?2:8):t_.test(e)?NaN:+e},i_=Math.max,a_=Math.min,u_=function(e,t,n){var r,a,o,u,l,d,O=0,x=!1,A=!1,M=!0;if(typeof e!="function")throw new TypeError("Expected a function");function I(ge){var De=r,Ee=a;return r=a=void 0,O=ge,u=e.apply(Ee,De)}function W(ge){return O=ge,l=setTimeout(ie,t),x?I(ge):u}function ee(ge){var De=ge-d;return d===void 0||De>=t||De<0||A&&ge-O>=o}function ie(){var ge=Uc();if(ee(ge))return oe(ge);l=setTimeout(ie,function(De){var Ee=t-(De-d);return A?a_(Ee,o-(De-O)):Ee}(ge))}function oe(ge){return l=void 0,M&&r?I(ge):(r=a=void 0,u)}function ce(){var ge=Uc(),De=ee(ge);if(r=arguments,a=this,d=ge,De){if(l===void 0)return W(d);if(A)return clearTimeout(l),l=setTimeout(ie,t),I(d)}return l===void 0&&(l=setTimeout(ie,t)),u}return t=_y(t)||0,Tt(n)&&(x=!!n.leading,o=(A="maxWait"in n)?i_(_y(n.maxWait)||0,t):o,M="trailing"in n?!!n.trailing:M),ce.cancel=function(){l!==void 0&&clearTimeout(l),O=0,r=d=a=l=void 0},ce.flush=function(){return l===void 0?u:oe(Uc())},ce},c_=i(165);function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wy,xy,Ey,l_=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"undos",[]),Mr(this,"redos",[]),Mr(this,"callbacks",[]),Mr(this,"stopWatch",null),Mr(this,"curData",null),Mr(this,"maxSize",50),Mr(this,"waitTime",100),Mr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Oy(qO(this.undos),r)||(this.undos.push(r),Oy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(tt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var a=this.undos.pop();return this.curData=Dt(a),a}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Dt(r),r}}},{key:"watch",value:function(r){var a=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(c_.a)(r,u_(function(){var o=r.modelToHistoryData();o&&a.add(o)},this.waitTime))}}])&&s_(t.prototype,n),e}();function jy(e){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Sy(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){jo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function p_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gc(e);if(t){var a=Gc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d_(this,n)}}function d_(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var My,Ty,Dy,Xc=zn((Ey=xy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&ky(u,l)})(o,e);var t,n,r,a=p_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),jo(hi(u=a.call(this)),"ref",Object(q.f)()),jo(hi(u),"__prevText",{type:"",text:"",id:""}),jo(hi(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),jo(hi(u),"inputHandler",function(l){var d=l.target.innerText,O=u.props.graphModel.textEditElement;u.__prevText={type:O.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:O.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,O=d.transformModel,x=d.theme,A=d.textEditElement;if(A){var M;if((M=A.text)===null||M===void 0||!M.value)if(A.BaseType===Ft.EDGE){var I=(A=A).text,W=A.textPosition,ee=W.x,ie=W.y;I.x=ee,I.y=ie,A.setText(I)}else A=A;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(A.BaseType===Ft.EDGE){var ce=x.edgeText,ge=ce.overflowMode,De=ce.lineHeight,Ee=ce.wrapPadding,Ie=ce.textWidth;Ie&&ge==="autoWrap"&&(l=Eo(Eo({},oe),{},{width:Ie,minWidth:Ie,lineHeight:De,padding:Ee}))}else if(A.BaseType===Ft.NODE){var Be=x.nodeText,Qe=Be.overflowMode,dt=Be.lineHeight,ht=Be.wrapPadding,Ct=Be.textWidth,Ht=A,cn=Ht.width,pn=Ht.modelType;(pn!==pt.TEXT_NODE&&Qe==="autoWrap"||pn===pt.TEXT_NODE&&Ct)&&(l=Eo(Eo({},oe),{},{width:Ct||cn,minWidth:Ct||cn,lineHeight:dt,padding:ht}))}var mn=A.text,gr=mn.x,to=mn.y,br=f_(O.CanvasPointToHtmlPoint([gr,to]),2);return{style:Eo({left:br[0],top:br[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,O=d.edgeTextEdit,x=d.nodeTextEdit;(O||x)&&l.on("".concat(tt.GRAPH_TRANSFORM,",").concat(tt.NODE_CLICK,",").concat(tt.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(St.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,O=l.id;u.updateText(O,d),u.eventCenter.emit(tt.TEXT_UPDATE,Eo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(q.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&Ay(t.prototype,n),r&&Ay(t,r),o}(q.a),jo(xy,"toolName","textEdit"),wy=Ey))||wy,h_=function(e){return e.modelType===pt.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,a=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:a-u/2,y:o-l/2,x1:a+u/2,y1:o+l/2}}(e):e.modelType===pt.POLYLINE_EDGE?function(t){var n=t.points,r=go(n),a=ei(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===pt.BEZIER_EDGE?function(t){var n=t.path,r=fa(n),a=ei(r,8),o=a.x,u=a.y,l=a.width,d=a.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Ny(e){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var o,u,l=[],d=!0,O=!1;try{for(a=a.call(n);!(d=(o=a.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(x){O=!0,u=x}finally{try{d||a.return==null||a.return()}finally{if(O)throw u}}return l}}(e,t)||Ry(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y_(e){return function(t){if(Array.isArray(t))return Vc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ry(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ry(e,t){if(e){if(typeof e=="string")return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return(Iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function g_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yc(e);if(t){var a=Yc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(e,t){if(t&&(Ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=zn((Dy=Ty=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Iy(o,u)})(a,e);var t,n,r=g_(a);function a(o){var u;(function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")})(this,a),vi(yi(u=r.call(this)),"stepDrag",void 0),vi(yi(u),"handleMouseDown",function(x){u.stepDrag.handleMouseDown(x)}),vi(yi(u),"onDraging",function(x){var A=x.deltaX,M=x.deltaY,I=u.props.graphModel,W=I.getSelectElements(!0);I.moveNodes(W.nodes.map(function(ee){return ee.id}),A,M)}),vi(yi(u),"handleContextMenu",function(x){x.preventDefault();var A=u.props,M=A.graphModel,I=A.graphModel,W=I.eventCenter,ee=I.selectElements,ie=M.getPointByClient({x:x.clientX,y:x.clientY}),oe={nodes:[],edges:[]};y_(ee.values()).forEach(function(ce){ce.BaseType===Ft.NODE&&oe.nodes.push(ce.getData()),ce.BaseType===Ft.EDGE&&oe.edges.push(ce.getData())}),W.emit(tt.SELECTION_CONTEXTMENU,{data:oe,e:x,position:ie})});var l=o.graphModel,d=l.gridSize,O=l.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:O}),u}return t=a,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;u.forEach(function(ee){var ie={x:0,y:0,x1:0,y1:0};ee.BaseType===Ft.NODE&&(ie=function(oe){var ce=oe.x,ge=oe.y,De=oe.width,Ee=oe.height;return{x:ce-De/2,y:ge-Ee/2,x1:ce+De/2,y1:ge+Ee/2}}(ee)),ee.BaseType===Ft.EDGE&&(ie=h_(ee)),d=Math.min(d,ie.x),O=Math.min(O,ie.y),x=Math.max(x,ie.x1),A=Math.max(A,ie.y1)});var M=Cy(l.CanvasPointToHtmlPoint([d,O]),2);d=M[0],O=M[1];var I=Cy(l.CanvasPointToHtmlPoint([x,A]),2);x=I[0],A=I[1];var W={left:"".concat(d-10,"px"),top:"".concat(O-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(A-O+20,"px")};return Object(q.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&v_(t.prototype,n),a}(q.a),vi(Ty,"toolName","multipleSelect"),My=Dy))||My;function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O_=function(){function e(r){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ma(this,"tools",void 0),Ma(this,"components",void 0),Ma(this,"toolMap",new Map),Ma(this,"instance",void 0),this.instance=r,this.isDisabledTool(Xc.toolName)||this.registerTool(Xc.toolName,Xc),this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,a){this.toolMap.set(r,a)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&m_(t.prototype,n),e}(),__=i(166),w_=i.n(__);function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Kc(this,"mousetrap",void 0),Kc(this,"options",void 0),Kc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var a=r.lf;this.target=a.container,this.mousetrap=new w_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,a=this.options.keyboard.shortcuts;if(a)if(Ut(a))a.forEach(function(d){var O=d.keys,x=d.callback,A=d.action;return r.on(O,x,A)});else{var o=a.keys,u=a.callback,l=a.action;this.on(o,u,l)}}},{key:"on",value:function(r,a,o){this.mousetrap.bind(this.getKeys(r),a,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,a){this.mousetrap.unbind(this.getKeys(r),a)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var a=this;return(Array.isArray(r)?r:[r]).map(function(o){return a.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&x_(t.prototype,n),e}(),E_=Ly,vr=null;function zy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function By(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Fy(e){return(Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Nt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(){function e(a){var o,u,l=this;(function(d,O){if(!(d instanceof O))throw new TypeError("Cannot call a class as a function")})(this,e),Nt(this,"container",void 0),Nt(this,"width",void 0),Nt(this,"height",void 0),Nt(this,"graphModel",void 0),Nt(this,"history",void 0),Nt(this,"viewMap",new Map),Nt(this,"tool",void 0),Nt(this,"keyboard",void 0),Nt(this,"dnd",void 0),Nt(this,"options",void 0),Nt(this,"snaplineModel",void 0),Nt(this,"components",[]),Nt(this,"plugins",void 0),Nt(this,"extension",{}),Nt(this,"adapterIn",void 0),Nt(this,"adapterOut",void 0),Nt(this,"getView",function(d){return l.viewMap.get(d)}),a=bp(a),this.options=a,this.container=a.container,this.plugins=a.plugins,this.graphModel=new Cb(Zc({},a)),this.tool=new O_(this),this.history=new l_(this.graphModel.eventCenter),this.dnd=new Mm({lf:this}),this.keyboard=new E_({lf:this,keyboard:a.keyboard}),a.isSilentMode||a.snapline===!1||(this.snaplineModel=new qd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var O=d.data;u.setNodeSnapLine(O)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,O){var x=d.keyboard,A=x.options.keyboard;x.on(["cmd + c","ctrl + c"],function(){if(A.enabled&&!O.textEditElement){var M=d.options.guards,I=O.getSelectElements(!1);return M&&M.beforeClone&&!M.beforeClone(I)?(vr=null,!1):((vr=I).nodes.forEach(function(W){return zy(W,40)}),vr.edges.forEach(function(W){return By(W,40)}),!1)}}),x.on(["cmd + v","ctrl + v"],function(){if(A.enabled&&!O.textEditElement){if(vr&&(vr.nodes||vr.edges)){d.clearSelectElements();var M=d.addElements(vr);if(!M)return;M.nodes.forEach(function(I){return d.selectElementById(I.id,!0)}),M.edges.forEach(function(I){return d.selectElementById(I.id,!0)}),vr.nodes.forEach(function(I){return zy(I,40)}),vr.edges.forEach(function(I){return By(I,40)})}return!1}}),x.on(["cmd + z","ctrl + z"],function(){if(A.enabled&&!O.textEditElement)return d.undo(),!1}),x.on(["cmd + y","ctrl + y"],function(){if(A.enabled&&!O.textEditElement)return d.redo(),!1}),x.on(["backspace"],function(){if(A.enabled&&!O.textEditElement){var M=O.getSelectElements(!0);return d.clearSelectElements(),M.edges.forEach(function(I){return d.deleteEdge(I.id)}),M.nodes.forEach(function(I){return d.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(a.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(a){var o=a.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(a.name||a.constructor.name,"\u6307\u5B9ApluginName!")),o=a.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,a)}}],(n=[{key:"register",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof a=="string"){var l={BaseEdge:di,BaseEdgeModel:Su,BaseNode:hr,BaseNodeModel:pr,RectNode:dc,RectNodeModel:oc,CircleNode:yc,CircleNodeModel:Ju,PolygonNode:gc,PolygonNodeModel:rc,TextNode:xc,TextNodeModel:ic,LineEdge:Rc,LineEdgeModel:Au,DiamondNode:mc,DiamondNodeModel:ec,PolylineEdge:zc,PolylineEdgeModel:Mu,BezierEdge:Hc,BezierEdgeModel:qu,EllipseNode:_c,EllipseNodeModel:tc,HtmlNode:jc,HtmlNodeModel:uc,h:q.g,type:a};this.viewMap.forEach(function(M){var I=M.extendKey;I&&(l[I]=M)}),this.graphModel.modelMap.forEach(function(M){var I=M.extendKey;I&&(l[I]=M)});var d=o(l),O=d.view,x=d.model,A=O;u&&!A.isObervered&&(A.isObervered=!0,A=ye(A)),this.setView(a,A),this.graphModel.setModel(a,x)}else this.registerElement(a)}},{key:"registerElement",value:function(a){var o=a.view;a.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=ye(o)),this.setView(a.type,o),this.graphModel.setModel(a.type,a.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:dc,model:oc,type:"rect"}),this.registerElement({type:"circle",view:yc,model:Ju}),this.registerElement({type:"polygon",view:gc,model:rc}),this.registerElement({type:"line",view:Rc,model:Au}),this.registerElement({type:"polyline",view:zc,model:Mu}),this.registerElement({type:"bezier",view:Hc,model:qu}),this.registerElement({type:"text",view:xc,model:ic}),this.registerElement({type:"ellipse",view:_c,model:tc}),this.registerElement({type:"diamond",view:mc,model:ec}),this.registerElement({type:"html",view:jc,model:uc})}},{key:"selectElementById",value:function(a){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(a,o),o||this.graphModel.toFront(a)}},{key:"focusOn",value:function(a){var o=this.graphModel.transformModel,u=a.coordinate,l=a.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var O=this.getEdgeModelById(l);O&&(u=O.textPosition)}var x=u,A=x.x,M=x.y;o.focusOn(A,M,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(a){this.graphModel.setTheme(a)}},{key:"resize",value:function(a,o){this.options.width=a!=null?a:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(a,o)}},{key:"setDefaultEdgeType",value:function(a){this.graphModel.setDefaultEdgeType(a)}},{key:"updateText",value:function(a,o){this.graphModel.updateText(a,o)}},{key:"deleteElement",value:function(a){var o,u,l,d=this.getModelById(a);return!!d&&(u=(l=(Nt(o={},Ft.NODE,this.deleteNode),Nt(o,Ft.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,a))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(a){return this.graphModel.getElement(a)}},{key:"getDataById",value:function(a){return this.graphModel.getElement(a).getData()}},{key:"changeNodeType",value:function(a,o){this.graphModel.changeNodeType(a,o)}},{key:"changeEdgeType",value:function(a,o){this.graphModel.changeEdgeType(a,o)}},{key:"getNodeEdges",value:function(a){return this.graphModel.getNodeEdges(a)}},{key:"addNode",value:function(a){return this.graphModel.addNode(a)}},{key:"deleteNode",value:function(a){var o=this.graphModel.getNodeModelById(a);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(a),d}},{key:"cloneNode",value:function(a){var o=this.graphModel.getNodeModelById(a).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(a)}},{key:"changeNodeId",value:function(a,o){return this.graphModel.changeNodeId(a,o)}},{key:"getNodeModelById",value:function(a){return this.graphModel.getNodeModelById(a)}},{key:"getNodeDataById",value:function(a){return this.graphModel.getNodeModelById(a).getData()}},{key:"addEdge",value:function(a){return this.graphModel.addEdge(a)}},{key:"deleteEdge",value:function(a){var o=this.options.guards,u=this.graphModel.edgesMap[a];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(a),d}},{key:"deleteEdgeByNodeId",value:function(a){var o=a.sourceNodeId,u=a.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(a,o){return this.graphModel.changeEdgeId(a,o)}},{key:"getEdgeModelById",value:function(a){var o;return(o=this.graphModel.edgesMap[a])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(a){var o=this.graphModel.edges,u=a.sourceNodeId,l=a.targetNodeId;if(u&&l){var d=[];return o.forEach(function(A){A.sourceNodeId===u&&A.targetNodeId===l&&d.push(A)}),d}if(u){var O=[];return o.forEach(function(A){A.sourceNodeId===u&&O.push(A)}),O}if(l){var x=[];return o.forEach(function(A){A.targetNodeId===l&&x.push(A)}),x}return[]}},{key:"getEdgeDataById",value:function(a){var o;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(a){return this.graphModel.getNodeIncomingEdge(a)}},{key:"getNodeOutgoingEdge",value:function(a){return this.graphModel.getNodeOutgoingEdge(a)}},{key:"getNodeIncomingNode",value:function(a){return this.graphModel.getNodeIncomingNode(a)}},{key:"getNodeOutgoingNode",value:function(a){return this.graphModel.getNodeOutgoingNode(a)}},{key:"editText",value:function(a){this.graphModel.editText(a)}},{key:"setProperties",value:function(a,o){var u;(u=this.graphModel.getElement(a))===null||u===void 0||u.setProperties(Wn(o))}},{key:"getProperties",value:function(a){var o;return(o=this.graphModel.getElement(a))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(a){this.graphModel.toFront(a)}},{key:"setElementZIndex",value:function(a,o){return this.graphModel.setElementZIndex(a,o)}},{key:"addElements",value:function(a){for(var o=this,u=a.nodes,l=a.edges,d={},O={nodes:[],edges:[]},x=0;x<u.length;x++){var A=u[x],M=A.id,I=this.addNode(A);if(!I)return;M&&(d[M]=I.id),O.nodes.push(I)}return l.forEach(function(W){var ee=W.sourceNodeId,ie=W.targetNodeId;d[ee]&&(W.sourceNodeId=d[ee]),d[ie]&&(W.targetNodeId=d[ie]);var oe=o.graphModel.addEdge(W);O.edges.push(oe)}),O}},{key:"getAreaElement",value:function(a,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(a,o,u,l).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(a)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var a=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(a):a}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(a){this.graphModel.editConfigModel.updateEditConfig(a)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(a,o){return this.graphModel.getPointByClient({x:a,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var a=Wn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"redo",value:function(){if(this.history.redoAble()){var a=Wn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(a)}}},{key:"zoom",value:function(a,o){return this.graphModel.transformModel.zoom(a,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(a){this.graphModel.transformModel.setZoomMiniSize(a)}},{key:"setZoomMaxSize",value:function(a){this.graphModel.transformModel.setZoomMaxSize(a)}},{key:"getTransform",value:function(){var a=this.graphModel.transformModel;return{SCALE_X:a.SCALE_X,SCALE_Y:a.SCALE_Y,TRANSLATE_X:a.TRANSLATE_X,TRANSLATE_Y:a.TRANSLATE_Y}}},{key:"translate",value:function(a,o){this.graphModel.transformModel.translate(a,o)}},{key:"resetTranslate",value:function(){var a=this.graphModel.transformModel,o=a.TRANSLATE_X,u=a.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(a){this.graphModel.fitView(a)}},{key:"on",value:function(a,o){this.graphModel.eventCenter.on(a,o)}},{key:"off",value:function(a,o){this.graphModel.eventCenter.off(a,o)}},{key:"once",value:function(a,o){this.graphModel.eventCenter.once(a,o)}},{key:"emit",value:function(a,o){this.graphModel.eventCenter.emit(a,o)}},{key:"installPlugins",value:function(){var a,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(a=this.plugins)!==null&&a!==void 0?a:e.extensions;l.forEach(function(d){var O=d.pluginName||d.name;u.indexOf(O)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(a){if(Fy(a)==="object"){var o=a.install,u=a.render;return o&&o.call(a,this,e),u&&this.components.push(u.bind(a)),void(this.extension[a.pluginName]=a)}var l=a,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(a,o){this.graphModel.updateAttributes(a,o)}},{key:"createFakerNode",value:function(a){var o=this.graphModel.modelMap.get(a.type);if(o){var u=new o(Zc(Zc({},a),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(a.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(a){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(a)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(a,o){this.viewMap.set(a,o)}},{key:"renderRawData",value:function(a){this.graphModel.graphDataToModel(Wn(a)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(q.j)(Object(q.g)(Am,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(tt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(a=this.adapterIn(a)),this.renderRawData(a)}}])&&Uy(t.prototype,n),r&&Uy(t,r),e}();function zn(e){return ye(e)}Nt(qc,"extensions",new Map),p.default=qc}])})})(Ze,Ze.exports);var Ao=F_(Ze.exports);function ow(v,h){return h={exports:{}},v(h,h.exports),h.exports}var iw=ow(function(v){var h=v.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var i=Math.log(Math.pow(2,c))/Math.log(p),f=2;i===1/0;f*=2)i=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=i-Math.floor(i),g="",f=0;f<Math.floor(i);f++){var m=Math.floor(Math.random()*p).toString(p);g=m+g}if(s){var _=Math.pow(p,s),m=Math.floor(Math.random()*_).toString(p);g=m+g}var w=parseInt(g,p);return w!==1/0&&w>=Math.pow(2,c)?h(c,p):g};h.rack=function(c,p,i){var f=function(g){var m=0;do{if(m++>10)if(i)c+=i;else throw new Error("too many ID collisions, use more bits");var _=h(c,p)}while(Object.hasOwnProperty.call(s,_));return s[_]=g,_},s=f.hats={};return f.get=function(g){return f.hats[g]},f.set=function(g,m){return f.hats[g]=m,f},f.bits=c||128,f.base=p||16,f}});function nr(v){if(!(this instanceof nr))return new nr(v);v=v||[128,36,1],this._seed=v.length?iw.rack(v[0],v[1],v[2]):v}nr.prototype.next=function(v){return this._seed(v||!0)};nr.prototype.nextPrefixed=function(v,h){var c;do c=v+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};nr.prototype.claim=function(v,h){this._seed.set(v,h||!0)};nr.prototype.assigned=function(v){return this._seed.get(v)||!1};nr.prototype.unclaim=function(v){delete this._seed.hats[v]};nr.prototype.clear=function(){var v=this._seed.hats,h;for(h in v)this.unclaim(h)};var aw=new nr([32,32,1]);function Do(){return aw.next()}var wv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),uw=function(v){wv(h,v);function h(c,p){var i=this;return c.id||(c.id="Event_"+Do()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=v.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="StartEventModel",h}(Ze.exports.CircleNodeModel),cw=function(v){wv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(Ze.exports.CircleNode),sw={type:"bpmn:startEvent",view:cw,model:uw},xv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ha=globalThis&&globalThis.__assign||function(){return Ha=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ha.apply(this,arguments)},lw=function(v){xv(h,v);function h(c,p){var i=this;return c.id||(c.id="Event_"+Do()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=v.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},h.extendKey="EndEventModel",h}(Ze.exports.CircleNodeModel),fw=function(v){xv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),i=c.x,f=c.y,s=c.r,g=v.prototype.getShape.call(this);return Ze.exports.h("g",{},g,Ze.exports.h("circle",Ha(Ha({},p),{cx:i,cy:f,r:s-5})))},h.extendKey="EndEventView",h}(Ze.exports.CircleNode),pw={type:"bpmn:endEvent",view:fw,model:lw},Ev=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xi=globalThis&&globalThis.__assign||function(){return xi=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},xi.apply(this,arguments)},dw=function(v){Ev(h,v);function h(c,p){var i=this;return c.id||(c.id="Gateway_"+Do()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),i=v.call(this,c,p)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return h.extendKey="ExclusiveGatewayModel",h}(Ze.exports.PolygonNodeModel),hw=function(v){Ev(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.points,m=c.getNodeStyle();return Ze.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(i-s/2)+")"},Ze.exports.h("polygon",xi(xi({},m),{x:p,y:i,points:g})),Ze.exports.h("path",xi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},m)))},h.extendKey="ExclusiveGatewayNode",h}(Ze.exports.PolygonNode),yw={type:"bpmn:exclusiveGateway",view:hw,model:dw},jv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ua=globalThis&&globalThis.__assign||function(){return Ua=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ua.apply(this,arguments)},vw=function(v){jv(h,v);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Do()),i=v.call(this,c,p)||this,i}return h.extendKey="UserTaskModel",h}(Ze.exports.RectNodeModel),gw=function(v){jv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getNodeStyle();return Ze.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:g.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.radius,m=c.getNodeStyle();return Ze.exports.h("g",{},[Ze.exports.h("rect",Ua(Ua({},m),{x:p-f/2,y:i-s/2,rx:g,ry:g,width:f,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(Ze.exports.RectNode),bw={type:"bpmn:userTask",view:gw,model:vw},Sv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},es.apply(this,arguments)},mw=function(v){Sv(h,v);function h(c,p){var i=this;return c.id||(c.id="Activity_"+Do()),i=v.call(this,c,p)||this,i}return h.extendKey="ServiceTaskModel",h}(Ze.exports.RectNodeModel),Ow=function(v){Sv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getNodeStyle();return Ze.exports.h("svg",{x:p-f/2+5,y:i-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ze.exports.h("path",{fill:g.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.radius,m=c.getNodeStyle();return Ze.exports.h("g",{},[Ze.exports.h("rect",es({x:p-f/2,y:i-s/2,rx:g,ry:g,width:f,height:s},m)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(Ze.exports.RectNode),_w={type:"bpmn:serviceTask",view:Ow,model:mw},Pv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ww=function(v){Pv(h,v);function h(c,p){var i=this;return c.id||(c.id="Flow_"+Do()),i=v.call(this,c,p)||this,i}return h.extendKey="SequenceFlowModel",h}(Ze.exports.PolylineEdgeModel),xw=function(v){Pv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(Ze.exports.PolylineEdge),Ew={type:"bpmn:sequenceFlow",view:xw,model:ww},Zy={width:40,height:40},qy={width:40,height:40},$y={width:40,height:40},Jy={width:100,height:80},Qy={width:100,height:80},jw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Sw=function(){function v(h){var c=h.lf;c.setTheme(jw),c.register(sw),c.register(pw),c.register(yw),c.register(bw),c.register(_w),c.options.customBpmnEdge||(c.register(Ew),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="bpmnElement",v}(),Pw=function(){function v(h){var c=this,p=h.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(i,f){c.getSnapshot(i,f)},p.getSnapshotBlob=function(i){return c.getSnapshotBlob(i)},p.getSnapshotBase64=function(i){return c.getSnapshotBase64(i)}}return v.prototype.getSvgRootElement=function(h){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,h.graphModel.nodes.forEach(function(i){var f=i.x,s=i.width,g=i.y,m=i.height,_=f-s/2,w=g-m/2;_<c.offsetX&&(c.offsetX=_-5),w<c.offsetY&&(c.offsetY=w-5)}),h.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(f){var s=f.x,g=f.y;s<c.offsetX&&(c.offsetX=s-5),g<c.offsetY&&(c.offsetY=g-5)})});var p=h.container.querySelector(".lf-canvas-overlay");return p},v.prototype.triggerDownload=function(h){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",h),p.setAttribute("target","_blank"),p.dispatchEvent(c)},v.prototype.removeAnchor=function(h){for(var c=h.childNodes,p=h.childNodes&&h.childNodes.length,i=0;i<p;i++){var f=c[i],s=f.classList&&Array.from(f.classList)||[];s.indexOf("lf-anchor")>-1&&(h.removeChild(h.childNodes[i]),p--,i--)}},v.prototype.getSnapshot=function(h,c){var p=this;this.fileName=h||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,c).then(function(f){var s=f.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(s)})},v.prototype.getSnapshotBase64=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){var s=f.toDataURL("image/png");i({data:s,width:f.width,height:f.height})})})},v.prototype.getSnapshotBlob=function(h){var c=this,p=this.getSvgRootElement(this.lf);return new Promise(function(i){c.getCanvasData(p,h).then(function(f){f.toBlob(function(s){i({data:s,width:f.width,height:f.height})},"image/png")})})},v.prototype.getClassRules=function(){var h="";if(this.useGlobalRules)for(var c=document.styleSheets,p=0;p<c.length;p++)for(var i=c[p],f=0;f<i.cssRules.length;f++)h+=i.cssRules[f].cssText;return this.customCssRules&&(h+=this.customCssRules),h},v.prototype.getCanvasData=function(h,c){var p=this,i=h.cloneNode(!0),f=i.lastChild,s=f.childNodes&&f.childNodes.length;if(s)for(var g=0;g<s;g++){var m=f.childNodes[g],_=m.classList&&Array.from(m.classList);if(_&&_.indexOf("lf-base")<0)f.removeChild(f.childNodes[g]),s--,g--;else{var w=f.childNodes[g];w&&w.childNodes.forEach(function(L){var H=L;p.removeAnchor(H.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var j=window.devicePixelRatio||1,S=document.createElement("canvas"),P=document.getElementsByClassName("lf-base")[0],N=P.getBoundingClientRect(),R=this.lf.graphModel,F=R.transformModel,U=F.SCALE_X,B=F.SCALE_Y,Y=Math.ceil(N.width/U),K=Math.ceil(N.height/B);S.style.width=Y+"px",S.style.height=K+"px",S.width=Y*j+80,S.height=K*j+80;var V=S.getContext("2d");V.clearRect(0,0,S.width,S.height),V.scale(j,j),c?(V.fillStyle=c,V.fillRect(0,0,Y*j+80,K*j+80)):V.clearRect(0,0,Y,K);var C=new Image,z=document.createElement("style");z.innerHTML=this.getClassRules();var k=document.createElement("foreignObject");return k.appendChild(z),i.appendChild(k),new Promise(function(L){C.onload=function(){V.drawImage(C,0,0),L(S)};var H="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),Q=H.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");C.src=Q})},v.pluginName="snapshot",v}(),Aw=new nr([32,32,1]);function ev(){return Aw.next()}var dn=function(){};dn.ObjTree=function(){return this};dn.ObjTree.VERSION="0.23";dn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dn.ObjTree.prototype.attr_prefix="-";dn.ObjTree.prototype.parseXML=function(v){var h;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(v,"application/xml");if(!p)return;h=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(v),h=c.documentElement);if(!!h)return this.parseDOM(h)};dn.ObjTree.prototype.parseHTTP=function(v,h,c){var p={};for(var i in h)p[i]=h[i];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,g=p.onComplete;p.onComplete=function(w){var j;w&&w.responseXML&&w.responseXML.documentElement&&(j=f.parseDOM(w.responseXML.documentElement)),s(j,w),g&&g(w)}}else p.asynchronous=!1;var m;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=v;var _=new HTTP.Request(p);_&&(m=_.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var _=new Ajax.Request(v,p);_&&(m=_.transport)}if(c)return m;if(m&&m.responseXML&&m.responseXML.documentElement)return this.parseDOM(m.responseXML.documentElement)};dn.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(v);if(this.__force_array[v.nodeName]&&(c=[c]),v.nodeType!=11){var p={};p[v.nodeName]=c,c=p}return c}};dn.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var h=v.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:v.nodeValue}var c,p={};if(v.attributes&&v.attributes.length){c={};for(var i=0;i<v.attributes.length;i++){var f=v.attributes[i].nodeName;if(typeof f=="string"){var s=v.attributes[i].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(v.childNodes&&v.childNodes.length){var g=!0;c&&(g=!1);for(var i=0;i<v.childNodes.length&&g;i++){var m=v.childNodes[i].nodeType;m==3||m==4||(g=!1)}if(g){c||(c="");for(var i=0;i<v.childNodes.length;i++)c+=v.childNodes[i].nodeValue}else{c||(c={});for(var i=0;i<v.childNodes.length;i++){var f=v.childNodes[i].nodeName;if(typeof f=="string"){var s=this.parseElement(v.childNodes[i]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};dn.ObjTree.prototype.addNode=function(v,h,c,p){this.__force_array[h]?(c==1&&(v[h]=[]),v[h][v[h].length]=p):c==1?v[h]=p:c==2?v[h]=[v[h],p]:v[h][v[h].length]=p};dn.ObjTree.prototype.writeXML=function(v){var h=this.hash_to_xml(null,v);return this.xmlDecl+h};dn.ObjTree.prototype.hash_to_xml=function(v,h){var c=[],p=[];for(var i in h)if(!!h.hasOwnProperty(i)){var f=h[i];i.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+i+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(i,f):typeof f=="object"?c[c.length]=this.hash_to_xml(i,f):c[c.length]=this.scalar_to_xml(i,f):p[p.length]=" "+i.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),g=c.join("");return typeof v=="undefined"||v==null||(c.length>0?g.match(/\n/)?g="<"+v+s+`>
`+g+"</"+v+`>
`:g="<"+v+s+">"+g+"</"+v+`>
`:g="<"+v+s+` />
`),g};dn.ObjTree.prototype.array_to_xml=function(v,h){for(var c=[],p=0;p<h.length;p++){var i=h[p];typeof i=="undefined"||i==null?c[c.length]="<"+v+" />":typeof i=="object"&&i.constructor==Array?c[c.length]=this.array_to_xml(v,i):typeof i=="object"?c[c.length]=this.hash_to_xml(v,i):c[c.length]=this.scalar_to_xml(v,i)}return c.join("")};dn.ObjTree.prototype.scalar_to_xml=function(v,h){return v=="#text"?this.xml_escape(h):"<"+v+">"+this.xml_escape(h)+"</"+v+`>
`};dn.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Wa=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},rr;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(rr||(rr={}));var Av=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ts(v){var h={};return Object.entries(v).forEach(function(c){var p=Wa(c,2),i=p[0],f=p[1];typeof f!="object"?i.indexOf("-")===0?h[i]=f:h["-"+i]=f:h[i]=ts(f)}),h}function as(v){var h={};return Object.entries(v).forEach(function(c){var p=Wa(c,2),i=p[0],f=p[1];typeof f=="string"?i.indexOf("-")===0?h[i.substr(1)]=f:h[i]=f:typeof f=="object"?h[i]=as(f):h[i]=f}),h}function kw(v,h){var c=new Map;h.nodes.forEach(function(i){var f,s={"-id":i.id};if(!((f=i.text)===null||f===void 0)&&f.value&&(s["-name"]=i.text.value),i.properties){var g=ts(i.properties);Object.assign(s,g)}c.set(i.id,s),v[i.type]?Array.isArray(v[i.type])?v[i.type].push(s):v[i.type]=[v[i.type],s]:v[i.type]=s});var p=h.edges.map(function(i){var f,s,g=c.get(i.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(i.id):g["bpmn:incoming"]=[g["bpmn:incoming"],i.id]:g["bpmn:incoming"]=i.id;var m=c.get(i.sourceNodeId);m["bpmn:outgoing"]?Array.isArray(m["bpmn:outgoing"])?m["bpmn:outgoing"].push(i.id):m["bpmn:outgoing"]=[m["bpmn:outgoing"],i.id]:m["bpmn:outgoing"]=i.id;var _={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((f=i.text)===null||f===void 0)&&f.value&&(_["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var w=ts(i.properties);Object.assign(_,w)}return _});v[rr.FLOW]=p}function Mw(v,h){v["bpmndi:BPMNEdge"]=h.edges.map(function(c){var p,i=c.id,f=c.pointsList.map(function(g){var m=g.x,_=g.y;return{"-x":m,"-y":_}}),s={"-id":i+"_di","-bpmnElement":i,"di:waypoint":f};return!((p=c.text)===null||p===void 0)&&p.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),v["bpmndi:BPMNShape"]=h.nodes.map(function(c){var p,i=c.id,f=100,s=80,g=c.x,m=c.y,_=ro.shapeConfigMap.get(c.type);_&&(f=_.width,s=_.height),g-=f/2,m-=s/2;var w={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":g,"-y":m,"-width":f,"-height":s}};return!((p=c.text)===null||p===void 0)&&p.value&&(w["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),w})}function Tw(v){var h=[],c=[],p=v["bpmn:definitions"];if(p){var i=p["bpmn:process"];Object.keys(i).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=i[f];if(f===rr.FLOW){var g=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Nw(s,g)}else{var m=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(Dw(s,m,f))}}})}return{nodes:h,edges:c}}function Dw(v,h,c){var p=[];if(Array.isArray(v))v.forEach(function(s){var g;Array.isArray(h)?g=h.find(function(_){return _["-bpmnElement"]===s["-id"]}):g=h;var m=tv(g,c,s);p.push(m)});else{var i=void 0;Array.isArray(h)?i=h.find(function(s){return s["-bpmnElement"]===v["-id"]}):i=h;var f=tv(i,c,v);p.push(f)}return p}function tv(v,h,c){var p=Number(v["dc:Bounds"]["-x"]),i=Number(v["dc:Bounds"]["-y"]),f=c["-name"],s=ro.shapeConfigMap.get(h);s&&(p+=s.width/2,i+=s.height/2);var g;Object.entries(c).forEach(function(j){var S=Wa(j,2),P=S[0],N=S[1];Av.indexOf(P)===-1&&(g||(g={}),g[P]=N)}),g&&(g=as(g));var m;if(f&&(m={x:p,y:i,value:f},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var _=v["bpmndi:BPMNLabel"]["dc:Bounds"];m.x=Number(_["-x"])+Number(_["-width"])/2,m.y=Number(_["-y"])+Number(_["-height"])/2}var w={id:v["-bpmnElement"],type:h,x:p,y:i,properties:g};return m&&(w.text=m),w}function Nw(v,h){var c=[];if(Array.isArray(v))v.forEach(function(i){var f;Array.isArray(h)?f=h.find(function(s){return s["-bpmnElement"]===i["-id"]}):f=h,c.push(nv(f,i))});else{var p=void 0;Array.isArray(h)?p=h.find(function(i){return i["-bpmnElement"]===v["-id"]}):p=h,c.push(nv(p,v))}return c}function nv(v,h){var c,p=h["-name"];if(p){var i=v["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(m){f<m.length&&(f=m.length)}),c={value:p,x:Number(i["-x"])+f*10/2,y:Number(i["-y"])+7}}var s;Object.entries(h).forEach(function(m){var _=Wa(m,2),w=_[0],j=_[1];Av.indexOf(w)===-1&&(s||(s={}),s[w]=j)}),s&&(s=as(s));var g={id:h["-id"],type:rr.FLOW,pointsList:v["di:waypoint"].map(function(m){return{x:Number(m["-x"]),y:Number(m["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(g.text=c),g}var ro={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,h){this.shapeConfigMap.set(v,h)},adapterOut:function(v){var h={"-id":"Process_"+ev(),"-isExecutable":"false"};kw(h,v);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};Mw(c,v);var p={"bpmn:definitions":{"-id":"Definitions_"+ev(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(v){if(v)return Tw(v)}};ro.shapeConfigMap.set(rr.START,{width:Zy.width,height:Zy.height});ro.shapeConfigMap.set(rr.END,{width:qy.width,height:qy.height});ro.shapeConfigMap.set(rr.GATEWAY,{width:$y.width,height:$y.height});ro.shapeConfigMap.set(rr.SYSTEM,{width:Jy.width,height:Jy.height});ro.shapeConfigMap.set(rr.USER,{width:Qy.width,height:Qy.height});var rv=globalThis&&globalThis.__assign||function(){return rv=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},rv.apply(this,arguments)},ov;(function(v){v[v.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",v[v.START_EVENT=2]="START_EVENT",v[v.END_EVENT=3]="END_EVENT",v[v.USER_TASK=4]="USER_TASK",v[v.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(ov||(ov={}));var iv;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(iv||(iv={}));var Cw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Rw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Iw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},Lw=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(Iw(arguments[h]));return v},bi="lf:defaultNodeMenu",mi="lf:defaultEdgeMenu",Oi="lf:defaultGraphMenu",av="lf:defaultSelectionMenu",zw=function(){function v(h){var c=this,p=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){c.setMenuConfig(i)},this.lf.addMenuConfig=function(i){c.addMenuConfig(i)},this.lf.setMenuByType=function(i){c.setMenuByType(i)}}return v.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){h.lf.cloneNode(f.id)}}];this.menuTypeMap.set(bi,c);var p=[{text:"\u5220\u9664",callback:function(f){h.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){h.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(mi,p),this.menuTypeMap.set(Oi,[]);var i=[{text:"\u5220\u9664",callback:function(f){h.lf.clearSelectElements(),f.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(av,i)},v.prototype.render=function(h,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var f=i.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var f=i.data,s=i.position,g=s.domOverlayPosition,m=g.x,_=g.y,w=f.id,j=p.lf.graphModel.getNodeModelById(w),S=[],P=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=p.menuTypeMap.get(bi),p.__currentData=f,p.showMenu(m,_,S)}),this.lf.on("edge:contextmenu",function(i){var f=i.data,s=i.position,g=s.domOverlayPosition,m=g.x,_=g.y,w=f.id,j=p.lf.graphModel.getEdgeModelById(w),S=[],P=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=p.menuTypeMap.get(mi),p.__currentData=f,p.showMenu(m,_,S)}),this.lf.on("blank:contextmenu",function(i){var f=i.position,s=p.menuTypeMap.get(Oi),g=f.domOverlayPosition,m=g.x,_=g.y;p.showMenu(m,_,s)}),this.lf.on("selection:contextmenu",function(i){var f=i.data,s=i.position,g=p.menuTypeMap.get(av),m=s.domOverlayPosition,_=m.x,w=m.y;p.__currentData=f,p.showMenu(_,w,g)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(h,c,p){if(!(!p||!p.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,Lw(this.__getMenuDom(p))),i.children.length&&(i.style.display="block",i.style.top=c+"px",i.style.left=h+"px")}},v.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},v.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(p){var i=document.createElement("li");if(p.className?i.className="lf-menu-item "+p.className:i.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",i.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),i.appendChild(s),i.onclickCallback=p.callback,c.push(i)}),c},v.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(bi,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(mi,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(Oi,h.graphMenu?h.graphMenu:[]))},v.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(bi);this.menuTypeMap.set(bi,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(mi);this.menuTypeMap.set(mi,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,c.concat(h.graphMenu))}}},v.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var Bw=function(){function v(h){var c=this,p=h.lf;this.lf=p,this.lf.setPatternItems=function(i){c.setPatternItems(i)}}return v.prototype.render=function(h,c){var p=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){p.panelEl.appendChild(p.createDndItem(i))}),c.appendChild(this.panelEl),this.domContainer=c},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(h){var c=this,p=document.createElement("div");p.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",h.icon&&(i.style.backgroundImage="url("+h.icon+")"),p.appendChild(i),h.label){var f=document.createElement("div");f.innerText=h.label,f.className="lf-dnd-text",p.appendChild(f)}return p.onmousedown=function(){h.type&&c.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(c.lf,c.domContainer)},p},v.pluginName="dndPanel",v}(),Fw=function(){function v(h){var c=this,p=h.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(f){var s=c.lf.getPointByClient(f.clientX,f.clientY).domOverlayPosition,g=s.x,m=s.y;c.endPoint={x:g,y:m};var _=c.startPoint,w=_.x,j=_.y,S=c.wrapper.style,P=w,N=j,R=g-w,F=m-j;g<w&&(P=g,R=w-g),m<j&&(N=m,F=j-m),S.left=P+"px",S.top=N+"px",S.width=R+"px",S.height=F+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var f=c.startPoint,s=f.x,g=f.y,m=c.endPoint,_=m.x,w=m.y;if(!(Math.abs(_-s)<10&&Math.abs(w-g)<10)){var j=[Math.min(s,_),Math.min(g,w)],S=[Math.max(s,_),Math.max(g,w)],P=c.lf.getAreaElement(j,S,c.isWholeEdge,c.isWholeNode);P.forEach(function(N){c.lf.selectElementById(N.id,!0)}),c.lf.emit("selection:selected",P)}},this.lf=p;var i=p.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=i,p.openSelectionSelect=function(){c.openSelectionSelect()},p.closeSelectionSelect=function(){c.closeSelectionSelect()}}return v.prototype.render=function(h,c){var p=this;this.__domContainer=c,h.on("blank:mousedown",function(i){var f=i.e,s=h.getEditConfig();if(!(!s.stopMoveGraph||p.__disabled)){var g=h.getPointByClient(f.clientX,f.clientY).domOverlayPosition,m=g.x,_=g.y;p.startPoint={x:m,y:_},p.endPoint={x:m,y:_};var w=document.createElement("div");w.className="lf-selection-select",w.style.top=p.startPoint.y+"px",w.style.left=p.startPoint.x+"px",c.appendChild(w),p.wrapper=w,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff)}})},v.prototype.setSelectionSense=function(h,c){h===void 0&&(h=!0),c===void 0&&(c=!0),this.isWholeEdge=h,this.isWholeNode=c},v.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}();globalThis&&globalThis.__values;var kv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),_i=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(v){kv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,i=c.stroke,f=c.strokeDashArray,s=this.props.model.points,g=s.split(" ").map(function(Z){return Z.split(",").map(function(ue){return Number(ue)})}),m=_i(g[0],2),_=m[0],w=m[1],j="M"+_+" "+w,S=5,P=1;P<g.length-1;P++){var N=_i(g[P-1],2),R=N[0],F=N[1],U=_i(g[P],2),B=U[0],Y=U[1],K=_i(g[P+1],2),V=K[0],C=K[1];if(B===R&&Y!==F){var z=Y>F?Y-S:Y+S;j=j+" L "+B+" "+z}if(Y===F&&B!==R){var k=B>R?B-S:B+S;j=j+" L "+k+" "+Y}if(j=j+" Q "+B+" "+Y,B===V&&Y!==C){var z=Y>C?Y-S:Y+S;j=j+" "+B+" "+z}if(Y===C&&B!==V){var k=B>V?B-S:B+S;j=j+" "+k+" "+Y}}var L=_i(g[g.length-1],2),H=L[0],Q=L[1];return j=j+" L "+H+" "+Q,Ze.exports.h("path",{d:j,strokeWidth:p,stroke:i,fill:"none",strokeDashArray:f})},h.extendKey="curvedEdge",h})(Ze.exports.PolylineEdge);(function(v){kv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h})(Ze.exports.PolylineEdgeModel);var us,Bt,Mv,Ei,Tv,uv,Dv={},Nv=[],Hw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(v,h){for(var c in h)v[c]=h[c];return v}function Cv(v){var h=v.parentNode;h&&h.removeChild(v)}function ji(v,h,c){var p,i,f,s={};for(f in h)f=="key"?p=h[f]:f=="ref"?i=h[f]:s[f]=h[f];if(arguments.length>2&&(s.children=arguments.length>3?us.call(arguments,2):c),typeof v=="function"&&v.defaultProps!=null)for(f in v.defaultProps)s[f]===void 0&&(s[f]=v.defaultProps[f]);return za(v,s,p,i,null)}function za(v,h,c,p,i){var f={type:v,props:h,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Mv:i};return i==null&&Bt.vnode!=null&&Bt.vnode(f),f}function cs(v){return v.children}function Mo(v,h){this.props=v,this.context=h}function To(v,h){if(h==null)return v.__?To(v.__,v.__.__k.indexOf(v)+1):null;for(var c;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null)return c.__e;return typeof v.type=="function"?To(v):null}function Rv(v){var h,c;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,h=0;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null){v.__e=v.__c.base=c.__e;break}return Rv(v)}}function cv(v){(!v.__d&&(v.__d=!0)&&Ei.push(v)&&!Ga.__r++||uv!==Bt.debounceRendering)&&((uv=Bt.debounceRendering)||Tv)(Ga)}function Ga(){for(var v;Ga.__r=Ei.length;)v=Ei.sort(function(h,c){return h.__v.__b-c.__v.__b}),Ei=[],v.some(function(h){var c,p,i,f,s,g;h.__d&&(s=(f=(c=h).__v).__e,(g=c.__P)&&(p=[],(i=Nr({},f)).__v=f.__v+1,Bv(g,f,i,c.__n,g.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?To(f):s,f.__h),Gw(p,f),f.__e!=s&&Rv(f)))})}function Iv(v,h,c,p,i,f,s,g,m,_){var w,j,S,P,N,R,F,U=p&&p.__k||Nv,B=U.length;for(c.__k=[],w=0;w<h.length;w++)if((P=c.__k[w]=(P=h[w])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?za(null,P,null,null,P):Array.isArray(P)?za(cs,{children:P},null,null,null):P.__b>0?za(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(S=U[w])===null||S&&P.key==S.key&&P.type===S.type)U[w]=void 0;else for(j=0;j<B;j++){if((S=U[j])&&P.key==S.key&&P.type===S.type){U[j]=void 0;break}S=null}Bv(v,P,S=S||Dv,i,f,s,g,m,_),N=P.__e,(j=P.ref)&&S.ref!=j&&(F||(F=[]),S.ref&&F.push(S.ref,null,P),F.push(j,P.__c||N,P)),N!=null?(R==null&&(R=N),typeof P.type=="function"&&P.__k===S.__k?P.__d=m=Lv(P,m,v):m=zv(v,P,S,U,N,m),typeof c.type=="function"&&(c.__d=m)):m&&S.__e==m&&m.parentNode!=v&&(m=To(S))}for(c.__e=R,w=B;w--;)U[w]!=null&&(typeof c.type=="function"&&U[w].__e!=null&&U[w].__e==c.__d&&(c.__d=To(p,w+1)),Hv(U[w],U[w]));if(F)for(w=0;w<F.length;w++)Fv(F[w],F[++w],F[++w])}function Lv(v,h,c){for(var p,i=v.__k,f=0;i&&f<i.length;f++)(p=i[f])&&(p.__=v,h=typeof p.type=="function"?Lv(p,h,c):zv(c,p,p,i,p.__e,h));return h}function zv(v,h,c,p,i,f){var s,g,m;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||i!=f||i.parentNode==null)e:if(f==null||f.parentNode!==v)v.appendChild(i),s=null;else{for(g=f,m=0;(g=g.nextSibling)&&m<p.length;m+=2)if(g==i)break e;v.insertBefore(i,f),s=f}return s!==void 0?s:i.nextSibling}function Uw(v,h,c,p,i){var f;for(f in c)f==="children"||f==="key"||f in h||Xa(v,f,null,c[f],p);for(f in h)i&&typeof h[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===h[f]||Xa(v,f,h[f],c[f],p)}function sv(v,h,c){h[0]==="-"?v.setProperty(h,c):v[h]=c==null?"":typeof c!="number"||Hw.test(h)?c:c+"px"}function Xa(v,h,c,p,i){var f;e:if(h==="style")if(typeof c=="string")v.style.cssText=c;else{if(typeof p=="string"&&(v.style.cssText=p=""),p)for(h in p)c&&h in c||sv(v.style,h,"");if(c)for(h in c)p&&c[h]===p[h]||sv(v.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")f=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in v?h.toLowerCase().slice(2):h.slice(2),v.l||(v.l={}),v.l[h+f]=c,c?p||v.addEventListener(h,f?fv:lv,f):v.removeEventListener(h,f?fv:lv,f);else if(h!=="dangerouslySetInnerHTML"){if(i)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in v)try{v[h]=c==null?"":c;break e}catch(s){}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?v.setAttribute(h,c):v.removeAttribute(h))}}function lv(v){this.l[v.type+!1](Bt.event?Bt.event(v):v)}function fv(v){this.l[v.type+!0](Bt.event?Bt.event(v):v)}function Bv(v,h,c,p,i,f,s,g,m){var _,w,j,S,P,N,R,F,U,B,Y,K=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(m=c.__h,g=h.__e=c.__e,h.__h=null,f=[g]),(_=Bt.__b)&&_(h);try{e:if(typeof K=="function"){if(F=h.props,U=(_=K.contextType)&&p[_.__c],B=_?U?U.props.value:_.__:p,c.__c?R=(w=h.__c=c.__c).__=w.__E:("prototype"in K&&K.prototype.render?h.__c=w=new K(F,B):(h.__c=w=new Mo(F,B),w.constructor=K,w.render=Vw),U&&U.sub(w),w.props=F,w.state||(w.state={}),w.context=B,w.__n=p,j=w.__d=!0,w.__h=[]),w.__s==null&&(w.__s=w.state),K.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=Nr({},w.__s)),Nr(w.__s,K.getDerivedStateFromProps(F,w.__s))),S=w.props,P=w.state,j)K.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(K.getDerivedStateFromProps==null&&F!==S&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(F,B),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(F,w.__s,B)===!1||h.__v===c.__v){w.props=F,w.state=w.__s,h.__v!==c.__v&&(w.__d=!1),w.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(V){V&&(V.__=h)}),w.__h.length&&s.push(w);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(F,w.__s,B),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(S,P,N)})}w.context=B,w.props=F,w.state=w.__s,(_=Bt.__r)&&_(h),w.__d=!1,w.__v=h,w.__P=v,_=w.render(w.props,w.state,w.context),w.state=w.__s,w.getChildContext!=null&&(p=Nr(Nr({},p),w.getChildContext())),j||w.getSnapshotBeforeUpdate==null||(N=w.getSnapshotBeforeUpdate(S,P)),Y=_!=null&&_.type===cs&&_.key==null?_.props.children:_,Iv(v,Array.isArray(Y)?Y:[Y],h,c,p,i,f,s,g,m),w.base=h.__e,h.__h=null,w.__h.length&&s.push(w),R&&(w.__E=w.__=null),w.__e=!1}else f==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=Xw(c.__e,h,c,p,i,f,s,m);(_=Bt.diffed)&&_(h)}catch(V){h.__v=null,(m||f!=null)&&(h.__e=g,h.__h=!!m,f[f.indexOf(g)]=null),Bt.__e(V,h,c)}}function Gw(v,h){Bt.__c&&Bt.__c(h,v),v.some(function(c){try{v=c.__h,c.__h=[],v.some(function(p){p.call(c)})}catch(p){Bt.__e(p,c.__v)}})}function Xw(v,h,c,p,i,f,s,g){var m,_,w,j=c.props,S=h.props,P=h.type,N=0;if(P==="svg"&&(i=!0),f!=null){for(;N<f.length;N++)if((m=f[N])&&"setAttribute"in m==!!P&&(P?m.localName===P:m.nodeType===3)){v=m,f[N]=null;break}}if(v==null){if(P===null)return document.createTextNode(S);v=i?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,S.is&&S),f=null,g=!1}if(P===null)j===S||g&&v.data===S||(v.data=S);else{if(f=f&&us.call(v.childNodes),_=(j=c.props||Dv).dangerouslySetInnerHTML,w=S.dangerouslySetInnerHTML,!g){if(f!=null)for(j={},N=0;N<v.attributes.length;N++)j[v.attributes[N].name]=v.attributes[N].value;(w||_)&&(w&&(_&&w.__html==_.__html||w.__html===v.innerHTML)||(v.innerHTML=w&&w.__html||""))}if(Uw(v,S,j,i,g),w)h.__k=[];else if(N=h.props.children,Iv(v,Array.isArray(N)?N:[N],h,c,p,i&&P!=="foreignObject",f,s,f?f[0]:c.__k&&To(c,0),g),f!=null)for(N=f.length;N--;)f[N]!=null&&Cv(f[N]);g||("value"in S&&(N=S.value)!==void 0&&(N!==v.value||P==="progress"&&!N||P==="option"&&N!==j.value)&&Xa(v,"value",N,j.value,!1),"checked"in S&&(N=S.checked)!==void 0&&N!==v.checked&&Xa(v,"checked",N,j.checked,!1))}return v}function Fv(v,h,c){try{typeof v=="function"?v(h):v.current=h}catch(p){Bt.__e(p,c)}}function Hv(v,h,c){var p,i;if(Bt.unmount&&Bt.unmount(v),(p=v.ref)&&(p.current&&p.current!==v.__e||Fv(p,null,h)),(p=v.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Bt.__e(f,h)}p.base=p.__P=null}if(p=v.__k)for(i=0;i<p.length;i++)p[i]&&Hv(p[i],h,typeof v.type!="function");c||v.__e==null||Cv(v.__e),v.__e=v.__d=void 0}function Vw(v,h,c){return this.constructor(v,c)}us=Nv.slice,Bt={__e:function(v,h,c,p){for(var i,f,s;h=h.__;)if((i=h.__c)&&!i.__)try{if((f=i.constructor)&&f.getDerivedStateFromError!=null&&(i.setState(f.getDerivedStateFromError(v)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(v,p||{}),s=i.__d),s)return i.__E=i}catch(g){v=g}throw v}},Mv=0,Mo.prototype.setState=function(v,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof v=="function"&&(v=v(Nr({},c),this.props)),v&&Nr(c,v),v!=null&&this.__v&&(h&&this.__h.push(h),cv(this))},Mo.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),cv(this))},Mo.prototype.render=cs,Ei=[],Tv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ga.__r=0;var Si=globalThis&&globalThis.__assign||function(){return Si=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Si.apply(this,arguments)};function ss(v){var h=v.x,c=v.y,p=v.width,i=v.height,f=v.radius,s=v.className,g=h-p/2,m=c-i/2,_=Si(Si({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},v),{x:g,y:m});return Ze.exports.h("rect",Si({},_))}ss.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var ko;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(ko||(ko={}));function Ba(v){var h=v.x,c=v.y,p=v.width,i=v.height;return{minX:h-p/2,minY:c-i/2,maxX:h+p/2,maxY:c+i/2}}function pv(v){var h=Ba(v),c=v.radius,p=h.minX,i=h.minY,f=h.maxX,s=h.maxY;return[{x:p+c,y:i+c},{x:f-c,y:i+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function dv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=h.x,f=h.y,s={x:i,y:f},g=c.radius,m=Ba(c),_=Ba(p);if(i===m.minX){s.x=_.minX;var w=(f-c.y)/(c.height/2-g);w?s.y=p.y+(p.height/2-g)*w:s.y=p.y}else if(i===m.maxX){s.x=_.maxX;var w=(f-c.y)/(c.height/2-g);w?s.y=p.y+(p.height/2-g)*w:s.y=p.y}else if(f===m.minY){s.y=_.minY;var w=(i-c.x)/(c.width/2-g);w?s.x=p.x+(p.width/2-g)*w:s.x=p.x}else if(f===m.maxY){s.y=_.maxY;var w=(i-c.x)/(c.width/2-g);w?s.x=p.x+(p.width/2-g)*w:s.x=p.x}else{var j=pv(c),S=pv(p),P=Ba(c),N=P.minX,R=P.minY,F=P.maxX,U=P.maxY,B=-1;if(i-N<g&&f-R<g?B=0:F-i<g&&f-R<g?B=1:F-i<g&&U-f<g?B=2:i-N<g&&R-f<g&&(B=3),B>-1){var Y=Math.atan2(f-j[B].y,i-j[B].x);s.x=S[B].x+g*Math.cos(Y),s.y=S[B].y+g*Math.sin(Y)}}return s}function hv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=p.rx,f=p.ry,s=h,g=(h.y-c.y)/(h.x-c.x),m=i,_=f,w,j;return g>=1/0?(w=0,j=_):g<=-1/0?(w=0,j=-_):h.x-c.x>0?(w=m*_/Math.sqrt(_*_+m*m*g*g),j=m*_*g/Math.sqrt(_*_+m*m*g*g)):(w=-(m*_)/Math.sqrt(_*_+m*m*g*g),j=-(m*_*g)/Math.sqrt(_*_+m*m*g*g)),s={x:w+p.x,y:j+p.y},s}function yv(v){var h=v.point,c=v.beforeNode,p=v.afterNode,i=h,f,s,g=h.x-c.x,m=h.y-c.y,_=c.rx,w=c.ry,j=Math.sqrt((_-Math.abs(g))*(_-Math.abs(g))+m*m)/Math.sqrt(_*_+w*w),S=p.rx,P=p.ry,N=Math.sqrt((S*S+P*P)*j*j*(S*S/(S*S+P*P))),R=N*(P/S);return g>=0?f=S-N:f=N-S,m>0?s=R:s=-R,i={x:f+p.x,y:s+p.y},i}var Yw=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},no.apply(this,arguments)},Ww=Ze.exports.LogicFlowUtil.StepDrag,Kw=function(v){Yw(h,v);function h(c){var p=v.call(this)||this;p.updatePosition=function(s){var g=s.deltaX,m=s.deltaY,_=p.nodeModel,w=_.x,j=_.y;p.nodeModel.x=w+g/2,p.nodeModel.y=j+m/2,p.nodeModel.moveText(g/2,m/2)},p.getResize=function(s){var g=s.index,m=s.deltaX,_=s.deltaY,w=s.width,j=s.height,S=s.pct,P=S===void 0?1:S,N={width:w,height:j};switch(g){case 0:N.width=w-m*P,N.height=j-_*P;break;case 1:N.width=w+m*P,N.height=j-_*P;break;case 2:N.width=w+m,N.height=j+_*P;break;case 3:N.width=w-m*P,N.height=j+_*P;break}return N},p.updateRect=function(s){var g=s.deltaX,m=s.deltaY,_=p.nodeModel,w=_.id,j=_.x,S=_.y,P=_.width,N=_.height,R=_.radius,F=p.index,U=p.getResize({index:F,deltaX:g,deltaY:m,width:P,height:N,pct:1}),B=p.nodeModel,Y=B.minWidth,K=B.minHeight,V=B.maxWidth,C=B.maxHeight;if(U.width<Y||U.width>V||U.height<K||U.height>C){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:m}),p.nodeModel.width=U.width,p.nodeModel.height=U.height,p.nodeModel.setProperties({nodeSize:{width:U.width,height:U.height}});var z=p.getNodeEdges(w),k={x:j,y:S,width:P,height:N,radius:R},L={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:R},H={point:"",beforeNode:k,afterNode:L},Q;z.sourceEdges.forEach(function(Z){H.point=Z.startPoint,Q=dv(H),Z.updateStartPoint(Q)}),z.targetEdges.forEach(function(Z){H.point=Z.endPoint,Q=dv(H),Z.updateEndPoint(Q)}),p.eventEmit({beforeNode:k,afterNode:L})},p.updateEllipse=function(s){var g=s.deltaX,m=s.deltaY,_=p.nodeModel,w=_.id,j=_.rx,S=_.ry,P=_.x,N=_.y,R=p.index,F=j,U=S,B=p.getResize({index:R,deltaX:g,deltaY:m,width:F,height:U,pct:1/2}),Y=p.nodeModel,K=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<K/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:m}),p.nodeModel.rx=p.nodeModel.rx+g/2,p.nodeModel.ry=p.nodeModel.ry+m/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var k=p.getNodeEdges(w),L={x:P,y:N},H={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},Q={point:{},beforeNode:L,afterNode:H},Z;k.sourceEdges.forEach(function(ue){Q.point=ue.startPoint,Z=hv(Q),ue.updateStartPoint(Z)}),k.targetEdges.forEach(function(ue){Q.point=ue.endPoint,Z=hv(Q),ue.updateEndPoint(Z)}),p.eventEmit({beforeNode:no(no({},L),{rx:j,ry:S}),afterNode:H})},p.updateDiamond=function(s){var g=s.deltaX,m=s.deltaY,_=p.nodeModel,w=_.id,j=_.rx,S=_.ry,P=_.x,N=_.y,R=p.index,F=j,U=S,B=p.getResize({index:R,deltaX:g,deltaY:m,width:F,height:U,pct:1/2}),Y=p.nodeModel,K=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,z=Y.maxHeight;if(B.width<K/2||B.width>C/2||B.height<V/2||B.height>z/2){p.dragHandler.cancelDrag();return}p.updatePosition({deltaX:g,deltaY:m}),p.nodeModel.rx=p.nodeModel.rx+g/2,p.nodeModel.ry=p.nodeModel.ry+m/2,p.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var k={x:P,y:N,rx:j,ry:S},L={rx:B.width,ry:B.height,x:p.nodeModel.x,y:p.nodeModel.y},H={point:{},beforeNode:k,afterNode:L},Q,Z=p.getNodeEdges(w);Z.sourceEdges.forEach(function(ue){H.point=ue.startPoint,Q=yv(H),ue.updateStartPoint(Q)}),Z.targetEdges.forEach(function(ue){H.point=ue.endPoint,Q=yv(H),ue.updateEndPoint(Q)}),p.eventEmit({beforeNode:k,afterNode:L})},p.eventEmit=function(s){var g=s.beforeNode,m=s.afterNode,_=p.nodeModel,w=_.id,j=_.modelType,S=_.type,P=no({id:w,modelType:j,type:S},g),N=no({id:w,modelType:j,type:S},m);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:N})},p.onDraging=function(s){var g=s.deltaX,m=s.deltaY,_=p.nodeModel.modelType;_===ko.RECT_NODE||_===ko.HTML_NODE?p.updateRect({deltaX:g,deltaY:m}):_===ko.ELLIPSE_NODE?p.updateEllipse({deltaX:g,deltaY:m}):_===ko.DIAMOND_NODE&&p.updateDiamond({deltaX:g,deltaY:m})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var i=p.graphModel.gridSize,f=2;return i>1&&(f=2*i),p.nodeModel.gridSize&&(f=2*p.nodeModel.gridSize),p.state={},p.dragHandler=new Ww({onDraging:p.onDraging,step:f}),p}return h.prototype.getNodeEdges=function(c){for(var p=this.graphModel,i=p.edges,f=[],s=[],g=0;g<i.length;g++){var m=i[g];m.sourceNodeId===c?f.push(m):i[g].targetNodeId===c&&s.push(m)}return{sourceEdges:f,targetEdges:s}},h.prototype.render=function(){var c=this.props,p=c.x,i=c.y,f=c.index,s=c.model,g=s.getControlPointStyle();return ji("g",{className:"lf-resize-control-"+f},ji(ss,no({className:"lf-node-control"},{x:p,y:i},g,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(Mo),Zw=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Va.apply(this,arguments)},Ka=function(v){Zw(h,v);function h(){var c=v.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,p=c.model,i=c.graphModel,f=p.x,s=p.y,g=p.width,m=p.height,_={minX:f-g/2,minY:s-m/2,maxX:f+g/2,maxY:s+m/2},w=_.minX,j=_.minY,S=_.maxX,P=_.maxY,N=[{x:w,y:j},{x:S,y:j},{x:S,y:P},{x:w,y:P}];return N.map(function(R,F){return ji(Kw,Va({index:F},R,{model:p,graphModel:i}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,i=c.y,f=c.width,s=c.height,g=c.getResizeOutlineStyle();return ji(ss,Va({fill:"none"},g,{x:p,y:i,width:f,height:s}))},h.prototype.render=function(){return ji("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(Mo),Uv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),qw=function(v){Uv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,p){},h}(Ze.exports.RectNodeModel),$w=function(v){Uv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ze.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(Ze.exports.RectNode),Gv={type:"rect",view:$w,model:qw},Xv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(v){Xv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ze.exports.EllipseNodeModel);(function(v){Xv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ze.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return Ze.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(Ze.exports.EllipseNode);var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},ns.apply(this,arguments)};function Jw(v){var h=v.fillOpacity,c=h===void 0?1:h,p=v.strokeWidth,i=p===void 0?1:p,f=v.strokeOpacity,s=f===void 0?1:f,g=v.fill,m=g===void 0?"transparent":g,_=v.stroke,w=_===void 0?"#000":_,j=v.points,S=v.className,P=S===void 0?"lf-basic-shape":S,N={fill:m,fillOpacity:c,strokeWidth:i,stroke:w,strokeOpacity:s,points:"",className:P};return N.points=j.map(function(R){return R.join(",")}).join(" "),Ze.exports.h("polygon",ns({},N))}var Vv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},rs.apply(this,arguments)};(function(v){Vv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.rx=f.rx,i.ry=f.ry),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ze.exports.DiamondNodeModel);(function(v){Vv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ze.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,i=c.getNodeStyle();return Ze.exports.h("g",null,Ze.exports.h(Jw,rs({},i,{points:p})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Ze.exports.DiamondNode);var Yv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(v){Yv(h,v);function h(c,p){var i=v.call(this,c,p)||this,f=i.properties.nodeSize;return f&&(i.width=f.width,i.height=f.height),i}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Ze.exports.HtmlNodeModel);(function(v){Yv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,p=c.model,i=c.graphModel;return Ze.exports.h(Ka,{model:p,graphModel:i})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Ze.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Ze.exports.HtmlNode);var Wv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,i){p.__proto__=i}||function(p,i){for(var f in i)i.hasOwnProperty(f)&&(p[f]=i[f])},v(h,c)};return function(h,c){v(h,c);function p(){this.constructor=h}h.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ya=globalThis&&globalThis.__assign||function(){return Ya=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},Ya.apply(this,arguments)},Qw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},vv=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(Qw(arguments[h]));return v},gv=500,bv=300;(function(v){Wv(h,v);function h(){var c=v!==null&&v.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gv,c.unfoldedHight=bv,c}return h.prototype.initNodeData=function(c){var p=this;v.prototype.initNodeData.call(this,c);var i=[];Array.isArray(c.children)&&(i=c.children),this.children=new Set(i),this.width=gv,this.height=bv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var c=v.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(f){var s=p.graphModel.getElement(f);s.visible=!c,i=i.concat(s.incoming.edges.concat(s.outgoing.edges))}),this.foldEdge(c,i)},h.prototype.getAnchorStyle=function(c){var p=v.prototype.getAnchorStyle.call(this,c);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},h.prototype.foldEdge=function(c,p){var i=this;p.forEach(function(f,s){var g=f.id,m=f.sourceNodeId,_=f.targetNodeId,w=f.startPoint,j=f.endPoint,S=f.type,P=f.properties,N=f.text,R={id:g+"__"+s,sourceNodeId:m,targetNodeId:_,startPoint:w,endPoint:j,type:S,properties:P,text:N==null?void 0:N.value};f.virtual&&i.graphModel.deleteEdgeById(f.id);var F=i.graphModel.group.getNodeGroup(_);F||(F=i.graphModel.getNodeModelById(_));var U=i.graphModel.group.getNodeGroup(m);U||(U=i.graphModel.getNodeModelById(m)),c&&f.visible!==!1&&(i.children.has(m)||i.id===m?(R.startPoint=void 0,R.sourceNodeId=i.id):(R.endPoint=void 0,R.targetNodeId=i.id),(F.id!==i.id||U.id!==i.id)&&i.createVirtualEdge(R),f.visible=!1),!c&&f.visible===!1&&(F&&F.isGroup&&F.isFolded?(R.targetNodeId=F.id,R.endPoint=void 0,i.createVirtualEdge(R)):U&&U.isGroup&&U.isFolded?(R.sourceNodeId=U.id,R.startPoint=void 0,i.createVirtualEdge(R)):f.visible=!0)})},h.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var p=this.graphModel.addEdge(c);p.virtual=!0,p.getData=function(){return null},p.text.editable=!1,p.isFoldedEdge=!0},h.prototype.isInRange=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&i>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(c){var p=c.x1,i=c.y1,f=c.x2,s=c.y2;return{x:p>=this.x-this.width/2&&f<=this.x+this.width/2,y:i>=this.y-this.height/2&&s<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=v.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},h.prototype.getHistoryData=function(){var c=v.prototype.getData.call(this);c.children=vv(this.children);var p=c.properties;return delete p.groupAddable,p.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},h})(Gv.model);(function(v){Wv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,i=c.properties;return p&&!i.isFolded?v.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,i=c.height,f=c.x,s=c.y,g=c.radius,m=c.properties;if(!m.groupAddable)return null;var _=this.props.model.getNodeStyle().strokeWidth,w=this.props.model.getAddableOutlineStyle(),j=p+_+8,S=i+_+8;return Ze.exports.h("rect",Ya(Ya({},w),{width:j,height:S,x:f-j/2,y:s-S/2,rx:g,ry:g}))},h.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,i=c.y-c.height/2+5;if(!c.foldable)return null;var f=Ze.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" M"+(p+7)+","+(i+2)+" "+(p+7)+","+(i+10):"M "+(p+3)+","+(i+6)+" "+(p+11)+","+(i+6)+" "});return Ze.exports.h("g",{},[Ze.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},h.prototype.getResizeShape=function(){return Ze.exports.h("g",{},[this.getAddedableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Gv.view);var e1=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var t1=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var p=c.call(v),i,f=[],s;try{for(;(h===void 0||h-- >0)&&!(i=p.next()).done;)f.push(i.value)}catch(g){s={error:g}}finally{try{i&&!i.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var mv=globalThis&&globalThis.__assign||function(){return mv=Object.assign||function(v){for(var h,c=1,p=arguments.length;c<p;c++){h=arguments[c];for(var i in h)Object.prototype.hasOwnProperty.call(h,i)&&(v[i]=h[i])}return v},mv.apply(this,arguments)};const n1={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function r1(v){const{incoming:h,outgoing:c,properties:p,key:i}=v,{text:f,startPoint:s,endPoint:g,pointsList:m,logicFlowType:_}=p,w={id:i,type:_,sourceNodeId:h[0],targetNodeId:c[0],text:f,startPoint:s,endPoint:g,pointsList:m,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(S=>{j.indexOf(S)===-1&&(w.properties[S]=v.properties[S])}),w}function o1(v){const{properties:h,key:c}=v,{x:p,y:i,text:f,logicFlowType:s}=h,g={id:c,type:s,x:p,y:i,text:f,properties:{}},m=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(_=>{m.indexOf(_)===-1&&(g.properties[_]=v.properties[_])}),g}function i1(v){const h={nodes:[],edges:[]},c=v.flowElementList;return c&&c.length>0&&c.forEach(p=>{if(p.type===n1.SEQUENCE_FLOW){const i=r1(p);h.edges.push(i)}else{const i=o1(p);h.nodes.push(i)}}),h}function a1(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const u1=Ov({name:"FlowChart",components:{BasicModal:K_,FlowChartToolbar:rw,JsonPreview:q_},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const h=Ia(null),c=Ia({}),p=Ia(null),{prefixCls:i}=H_("flow-chart"),f=U_(),[s,{openModal:g}]=Z_();J_({logicFlow:p});const m=G_(()=>{const{flowOptions:S}=v;return $c({grid:!0,background:{color:f.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},S)});Ky(()=>v.data,()=>{w()}),Ky(()=>sn(m),S=>{var P;(P=sn(p))==null||P.updateEditConfig(S)});function _(){return Ra(this,null,function*(){yield Jc();const S=sn(h);if(!S)return;Ao.use(Bw),Ao.use(Pw),Ao.use(Sw),Ao.use(zw),Ao.use(Fw),p.value=new Ao(Yy($c({},sn(m)),{container:S}));const P=sn(p);P==null||P.setDefaultEdgeType("line"),w(),P==null||P.setPatternItems(v.patternItems||a1(P))})}function w(){return Ra(this,null,function*(){yield Jc();const S=sn(p);if(!S)return;const P=i1(v.data);S.render(P)})}function j(){const S=sn(p);!S||(c.value=sn(S).getGraphData(),g())}return X_(_),{register:s,prefixCls:i,lfElRef:h,handlePreview:j,graphData:c}}}),c1={ref:"lfElRef",class:"h-full"};function s1(v,h,c,p,i,f){const s=Cr("FlowChartToolbar"),g=Cr("JsonPreview"),m=Cr("BasicModal");return Dr(),wi("div",{class:La(["h-full",v.prefixCls])},[v.toolbar?(Dr(),is(s,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):Qc("",!0),V_("div",c1,null,512),Pi(m,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Fa(()=>[Pi(g,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var l1=os(u1,[["render",s1]]);const f1=Y_(l1),p1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var d1={flowElementList:p1};const h1={components:{FlowChart:f1,PageWrapper:$_},setup(){return{demoData:d1}}};function y1(v,h,c,p,i,f){const s=Cr("FlowChart"),g=Cr("PageWrapper");return Dr(),is(g,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Fa(()=>[Pi(s,{data:p.demoData},null,8,["data"])]),_:1})}var D1=os(h1,[["render",y1]]);export{D1 as default};
