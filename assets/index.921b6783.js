import{n as l,r as me,d_ as We,d$ as Xe,v as h,w as fe,_ as m,N as Pe,cb as je,S as T,a4 as qe,K as Je,f as c,a as ie,Y as be,a6 as de,a7 as E,L as Qe,T as x,F as Ge,e0 as Ke,R as te,df as ae,b_ as $e,a0 as et,e1 as tt,G as rt,cm as nt,c6 as at,d7 as it,d8 as ot,J as Ve,d as lt,dQ as ut,da as Re}from"./index.bd9f6489.js";var st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},ct=st;function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){vt(t,a,n[a])})}return t}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe=function(e,n){var r=Ie({},e,n.attrs);return l(me,Ie({},r,{icon:ct}),null)};Oe.displayName="RotateLeftOutlined";Oe.inheritAttrs=!1;var ft=Oe,dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},mt=dt;function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){gt(t,a,n[a])})}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=function(e,n){var r=Le({},e,n.attrs);return l(me,Le({},r,{icon:mt}),null)};ye.displayName="RotateRightOutlined";ye.inheritAttrs=!1;var pt=ye,wt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ht=wt;function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){Ct(t,a,n[a])})}return t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se=function(e,n){var r=Ne({},e,n.attrs);return l(me,Ne({},r,{icon:ht}),null)};Se.displayName="ZoomInOutlined";Se.inheritAttrs=!1;var Pt=Se,bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Ot=bt;function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){yt(t,a,n[a])})}return t}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xe=function(e,n){var r=_e({},e,n.attrs);return l(me,_e({},r,{icon:Ot}),null)};xe.displayName="ZoomOutOutlined";xe.inheritAttrs=!1;var St=xe,xt="[object Number]";function Mt(t){return typeof t=="number"||We(t)&&Xe(t)==xt}function jt(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function Ee(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function Rt(t){var e=h(null),n=fe(m({},t)),r=h([]),a=function(p){e.value===null&&(r.value=[],e.value=je(function(){var d;r.value.forEach(function(M){d=m(m({},d),M)}),m(n,d),e.value=null})),r.value.push(p)};return Pe(function(){e.value&&je.cancel(e.value)}),[n,a]}function ze(t,e,n,r){var a=e+n,i=(n-r)/2;if(n>r){if(e>0)return T({},t,i);if(e<0&&a<r)return T({},t,-i)}else if(e<0||a>r)return T({},t,e<0?i:-i);return{}}function It(t,e,n,r){var a=jt(),i=a.width,p=a.height,d=null;return t<=i&&e<=p?d={x:0,y:0}:(t>i||e>p)&&(d=m(m({},ze("x",n,t,i)),ze("y",r,e,p))),d}var Lt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},ke=Symbol("previewGroupContext"),Me={provide:function(e){qe(ke,e)},inject:function(){return Je(ke,{isPreviewGroup:h(!1),previewUrls:c(function(){return new Map}),setPreviewUrls:function(){},current:h(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},Nt=ie({name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,n){var r=n.slots,a=c(function(){var o={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return be(e.preview)==="object"?De(e.preview,o):o}),i=fe(new Map),p=h(),d=c(function(){return a.value.visible}),M=c(function(){return a.value.onVisibleChange}),A=c(function(){return a.value.getContainer}),v=h(!!d.value),C=h(null),L=c(function(){return d.value!==void 0}),P=c(function(){return Array.from(i.keys())}),N=c(function(){return P.value[a.value.current]}),F=c(function(){return new Map(Array.from(i).filter(function(o){var u=de(o,2),S=u[1].canPreview;return!!S}).map(function(o){var u=de(o,2),S=u[0],_=u[1].url;return[S,_]}))}),U=function(u,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;i.set(u,{url:S,canPreview:_})},b=function(u){p.value=u},O=function(u){C.value=u},D=function(u){v.value=u},j=function(u,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,X=function(){i.delete(u)};return i.set(u,{url:S,canPreview:_}),X},y=function(u){u==null||u.stopPropagation(),v.value=!1,C.value=null};return E(d,function(){v.value=!!d.value}),E(v,function(o,u){M.value(o,u)}),E(N,function(o){b(o)},{immediate:!0,flush:"post"}),Qe(function(){!v.value&&L.value&&b(N.value)},{flush:"post"}),Me.provide({isPreviewGroup:h(!0),previewUrls:F,setPreviewUrls:U,current:p,setCurrent:b,setShowPreview:D,setMousePosition:O,registerImage:j}),function(){var o=Lt(a.value,[]);return l(Ge,null,[r.default&&r.default(),l(Ae,x(x({},o),{},{"ria-hidden":!v.value,visible:v.value,prefixCls:e.previewPrefixCls,onClose:y,mousePosition:C.value,src:F.value.get(p.value),icons:e.icons,getContainer:A.value}),null)])}}}),Te=Nt,ve={x:0,y:0},_t=m(m({},Ke()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),zt=ie({name:"Preview",inheritAttrs:!1,props:_t,emits:["close","afterClose"],setup:function(e,n){var r=n.emit,a=n.attrs,i=fe(e.icons),p=i.rotateLeft,d=i.rotateRight,M=i.zoomIn,A=i.zoomOut,v=i.close,C=i.left,L=i.right,P=h(1),N=h(0),F=Rt(ve),U=de(F,2),b=U[0],O=U[1],D=function(){return r("close")},j=h(),y=fe({originX:0,originY:0,deltaX:0,deltaY:0}),o=h(!1),u=Me.inject(),S=u.previewUrls,_=u.current,X=u.isPreviewGroup,q=u.setCurrent,z=c(function(){return S.value.size}),J=c(function(){return Array.from(S.value.keys())}),Z=c(function(){return J.value.indexOf(_.value)}),ge=c(function(){return X.value?S.value.get(_.value):e.src}),oe=c(function(){return X.value&&z.value>1}),Y=h({wheelDirection:0}),Q=function(){P.value=1,N.value=0,O(ve),r("afterClose")},le=function(){P.value++,O(ve)},f=function(){P.value>1&&P.value--,O(ve)},w=function(){N.value+=90},R=function(){N.value-=90},k=function(s){s.preventDefault(),s.stopPropagation(),Z.value>0&&q(J.value[Z.value-1])},I=function(s){s.preventDefault(),s.stopPropagation(),Z.value<z.value-1&&q(J.value[Z.value+1])},pe=te(T({},"".concat(e.prefixCls,"-moving"),o.value)),ue="".concat(e.prefixCls,"-operations-operation"),we="".concat(e.prefixCls,"-operations-icon"),se=[{icon:v,onClick:D,type:"close"},{icon:M,onClick:le,type:"zoomIn"},{icon:A,onClick:f,type:"zoomOut",disabled:c(function(){return P.value===1})},{icon:d,onClick:w,type:"rotateRight"},{icon:p,onClick:R,type:"rotateLeft"}],ce=function(){if(e.visible&&o.value){var s=j.value.offsetWidth*P.value,G=j.value.offsetHeight*P.value,$=Ee(j.value),V=$.left,B=$.top,H=N.value%180!==0;o.value=!1;var K=It(H?G:s,H?s:G,V,B);K&&O(m({},K))}},he=function(s){s.button===0&&(s.preventDefault(),s.stopPropagation(),y.deltaX=s.pageX-b.x,y.deltaY=s.pageY-b.y,y.originX=b.x,y.originY=b.y,o.value=!0)},re=function(s){e.visible&&o.value&&O({x:s.pageX-y.deltaX,y:s.pageY-y.deltaY})},Ce=function(s){if(!!e.visible){s.preventDefault();var G=s.deltaY;Y.value={wheelDirection:G}}},ne=function(){};return Pe(function(){E([function(){return e.visible},o],function(){ne();var g,s,G=ae(window,"mouseup",ce,!1),$=ae(window,"mousemove",re,!1),V=ae(window,"wheel",Ce,{passive:!1});try{window.top!==window.self&&(g=ae(window.top,"mouseup",ce,!1),s=ae(window.top,"mousemove",re,!1))}catch(B){}ne=function(){G.remove(),$.remove(),V.remove(),g&&g.remove(),s&&s.remove()}},{flush:"post",immediate:!0})}),$e(function(){ne()}),function(){var g=e.visible,s=e.prefixCls,G=e.rootClassName;return l(tt,x(x({},a),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:s,onClose:D,afterClose:Q,visible:g,wrapClassName:pe,rootClassName:G,getContainer:e.getContainer}),{default:function(){return[l("ul",{class:"".concat(e.prefixCls,"-operations")},[se.map(function(V){var B=V.icon,H=V.onClick,K=V.type,ee=V.disabled;return l("li",{class:te(ue,T({},"".concat(e.prefixCls,"-operations-operation-disabled"),ee&&(ee==null?void 0:ee.value))),onClick:H,key:K},[et(B,{class:we})])})]),l("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(b.x,"px, ").concat(b.y,"px, 0)")}},[l("img",{onMousedown:he,ref:j,class:"".concat(e.prefixCls,"-img"),src:ge.value,alt:e.alt,style:{transform:"scale3d(".concat(P.value,", ").concat(P.value,", 1) rotate(").concat(N.value,"deg)")}},null)]),oe.value&&l("div",{class:te("".concat(e.prefixCls,"-switch-left"),T({},"".concat(e.prefixCls,"-switch-left-disabled"),Z.value<=0)),onClick:k},[C]),oe.value&&l("div",{class:te("".concat(e.prefixCls,"-switch-right"),T({},"".concat(e.prefixCls,"-switch-right-disabled"),Z.value>=z.value-1)),onClick:I},[L])]}})}}}),Ae=zt,kt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ue=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,placeholder:rt.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},De=function(e,n){var r=m({},e);return Object.keys(n).forEach(function(a){e[a]===void 0&&(r[a]=n[a])}),r},Gt=0,Ze=ie({name:"Image",inheritAttrs:!1,props:Ue(),emits:["click","error"],setup:function(e,n){var r=n.attrs,a=n.slots,i=n.emit,p=c(function(){return e.prefixCls}),d=c(function(){return"".concat(p.value,"-preview")}),M=c(function(){var f={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return be(e.preview)==="object"?De(e.preview,f):f}),A=c(function(){return e.placeholder&&e.placeholder!==!0||a.placeholder}),v=c(function(){return M.value.visible}),C=c(function(){return M.value.getContainer}),L=c(function(){return v.value!==void 0}),P=function(w,R){var k,I;(I=(k=M.value).onVisibleChange)===null||I===void 0||I.call(k,w,R)},N=nt(!!v.value,{value:v,onChange:P}),F=de(N,2),U=F[0],b=F[1];E(v,function(f){b(Boolean(f))}),E(U,function(f,w){P(f,w)});var O=h(A.value?"loading":"normal");E(function(){return e.src},function(){O.value=A.value?"loading":"normal"});var D=h(null),j=c(function(){return O.value==="error"}),y=Me.inject(),o=y.isPreviewGroup,u=y.setCurrent,S=y.setShowPreview,_=y.setMousePosition,X=y.registerImage,q=h(Gt++),z=c(function(){return e.preview&&!j.value}),J=function(){O.value="normal"},Z=function(w){O.value="error",i("error",w)},ge=function(w){if(!L.value){var R=Ee(w.target),k=R.left,I=R.top;o.value?(u(q.value),_({x:k,y:I})):D.value={x:k,y:I}}o.value?S(!0):b(!0),i("click",w)},oe=function(){b(!1),L.value||(D.value=null)},Y=h(null);E(function(){return Y},function(){O.value==="loading"&&Y.value.complete&&(Y.value.naturalWidth||Y.value.naturalHeight)&&J()});var Q=function(){};Pe(function(){E([function(){return e.src},z],function(){if(Q(),!o.value)return function(){};Q=X(q.value,e.src,z.value),z.value||Q()},{flush:"post",immediate:!0})}),$e(Q);var le=function(w){return Mt(w)?w+"px":w};return function(){var f=e.prefixCls,w=e.wrapperClassName,R=e.fallback,k=e.src,I=e.placeholder,pe=e.wrapperStyle,ue=e.rootClassName,we=r.width,se=r.height,ce=r.crossorigin,he=r.decoding,re=r.alt,Ce=r.sizes,ne=r.srcset,g=r.usemap,s=r.class,G=r.style,$=M.value,V=$.icons,B=$.maskClassName,H=$.src,K=kt($,["icons","maskClassName","src"]),ee=te(f,w,ue,T({},"".concat(f,"-error"),j.value)),Fe=j.value&&R?R:H!=null?H:k,Ye={crossorigin:ce,decoding:he,alt:re,sizes:Ce,srcset:ne,usemap:g,class:te("".concat(f,"-img"),T({},"".concat(f,"-img-placeholder"),I===!0),s),style:m({height:se},G)};return l(Ge,null,[l("div",{class:ee,onClick:z.value?ge:function(Be){i("click",Be)},style:m({width:le(we),height:le(se)},pe)},[l("img",x(x(x({},Ye),j.value&&R?{src:R}:{onLoad:J,onError:Z,src:k}),{},{ref:Y}),null),O.value==="loading"&&l("div",{"aria-hidden":"true",class:"".concat(f,"-placeholder")},[I||a.placeholder&&a.placeholder()]),a.previewMask&&z.value&&l("div",{class:["".concat(f,"-mask"),B]},[a.previewMask()])]),!o.value&&z.value&&l(Ae,x(x({},K),{},{"aria-hidden":!U.value,visible:U.value,prefixCls:d.value,onClose:oe,mousePosition:D.value,src:Fe,alt:re,getContainer:C.value,icons:V,rootClassName:ue}),null)])}}});Ze.PreviewGroup=Te;var $t=Ze,He={rotateLeft:l(ft,null,null),rotateRight:l(pt,null,null),zoomIn:l(Pt,null,null),zoomOut:l(St,null,null),close:l(at,null,null),left:l(it,null,null),right:l(ot,null,null)},Vt=ie({name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,n){var r=n.attrs,a=n.slots,i=Ve("image",e),p=i.getPrefixCls,d=c(function(){return p("image-preview",e.previewPrefixCls)});return function(){return l(Te,x(x({},m(m({},r),e)),{},{icons:He,previewPrefixCls:d.value}),a)}}}),Et=Vt,W=ie({name:"AImage",inheritAttrs:!1,props:Ue(),setup:function(e,n){var r=n.slots,a=n.attrs,i=Ve("image",e),p=i.prefixCls,d=i.rootPrefixCls,M=i.configProvider,A=c(function(){var v=e.preview;if(v===!1)return v;var C=be(v)==="object"?v:{};return m(m({icons:He},C),{transitionName:Re(d.value,"zoom",C.transitionName),maskTransitionName:Re(d.value,"fade",C.maskTransitionName)})});return function(){var v,C,L=((v=M.locale)===null||v===void 0?void 0:v.Image)||lt.Image;return l($t,x(x({},m(m(m({},a),e),{prefixCls:p.value})),{},{preview:A.value}),m(m({},r),{previewMask:(C=r.previewMask)!==null&&C!==void 0?C:function(){return l("div",{class:"".concat(p.value,"-mask-info")},[l(ut,null,null),L==null?void 0:L.preview])}}))}}});W.PreviewGroup=Et;W.install=function(t){return t.component(W.name,W),t.component(W.PreviewGroup.name,W.PreviewGroup),t};var At=W;export{At as I,Ee as g};
